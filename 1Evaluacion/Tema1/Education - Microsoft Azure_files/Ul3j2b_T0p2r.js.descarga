define("MsPortalImpl/UI/Compositions/UI.Composition.BladeOpener.Selectable2",["require","exports","Fx/DependencyInjection","MsPortalImpl/UI/Compositions/UI.Composition.BladeOpenerBase","MsPortalImpl/Base/Base.Pipeline","MsPortalImpl/Widgets/Widgets.Portal.init"],(function(e,t,a,s,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectableV2Handler=void 0;let d=class{constructor(e,t,a){this._diContainer=e,this._options=t,this._resources=a}processExtensionMessages(){return this._options.referenceExtension.processMessages()}afterOpenBlade(e,t){const a=this._resources,n=t.openedBlades&&1===t.openedBlades.length&&t.openedBlades[0],d=t.value;if(d){const{notifyBladeOpenCompleted:e,outputs:o,outputsChanged:i}=d,l=()=>e(!1),r=()=>e(!0);n?(i&&(0,s.bindOutputsToSelectable2)("Selectable2Outputs",a.selectable2,n,o||[],i),n.await(7).then(r,l)):t.reboundBlade?r():l()}!function(e,t,a,s){const n=a&&a.onClosed;if(s&&n){const a=e.createChildLifetime(),o=(e,t)=>{t.id===s.id&&(a.dispose(),n(t.reason||1,s.returnValue))};t.customEvents.addHandler(a,"fxbladeclosed",o),t.customEvents.addHandler(a,"fxbladerebound",o)}}(a.container,(0,o.getPortalViewModel)(this._diContainer),d,n||t.reboundBlade)}};t.SelectableV2Handler=d,__decorate([__metadata("fx:diagnostics",[e,"SelectableV2Handler.prototype"]),n.Step(3),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],d.prototype,"processExtensionMessages",null),__decorate([__metadata("fx:diagnostics",[e,"SelectableV2Handler.prototype"]),n.Step(6),__metadata("design:type",Function),__metadata("design:paramtypes",[n.Task,Object]),__metadata("design:returntype",void 0)],d.prototype,"afterOpenBlade",null),t.SelectableV2Handler=d=__decorate([__metadata("fx:diagnostics",[e,"SelectableV2Handler"]),a.Class("pipeline"),__metadata("design:paramtypes",[a.Container,s.Configuration,s.Resources])],d)}));