define("@microsoft/azureportal-reactview/Css",["require","exports"],(function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CSSClasses=void 0,function(e){e.NoDefaultPadding="reactview-nodefaultpadding",e.FullRootHeight="reactview-fullheight",e.NestedResource="reactview-nestedresource",e.InlineIcon="reactview-inlineicon",e.FormLabel="reactview-form-layout-label",e.FormElement="reactview-form-element",e.FormWidth="reactview-form-width",e.Padding="reactview-padding",e.NoPrint="reactview-noprint",e.FormLayoutWidth="reactview-form-layout-width",e.FormLayoutElement="reactview-form-layout-element"}(n||(t.CSSClasses=n={}))})),
define("@microsoft/azureportal-reactview/internal/Creapi",["require","exports","@microsoft/azureportal-reactview/internal/DynamicReact","@microsoft/azureportal-reactview/Az","@microsoft/azureportal-reactview/internal/ContextUtilities","lodash","_oss/@hookstate/core","@microsoft/azureportal-reactview/Experimentation"],(function(e,t,n,o,a,r,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useTriggerCustomizer=t.useDiagnostics=t.useId=t.useCustomizationState=t.localStateSelector=t.getNodeType=t.createNode=t.isStablePropEnabled=t.CustomizationState=void 0;const u={Customizations:"customizations",Value:"value"},c=Symbol("internals"),l=(0,a.createContext)(void 0,"CreapiRootContext"),d=(0,a.createContext)({id:"",state:null},"CreapiComponentContext");let m;const p=e=>{const{children:t,id:o,state:a}=e,r=n.default.useMemo((()=>({id:o,state:a})),[o,a]);return n.default.createElement(d.Provider,{value:r},t)},f=e=>{const{children:t,onChange:o}=e,a=n.default.useMemo((()=>({onChange:o})),[o]);return n.default.createElement(l.Provider,{value:a},t)},g=(e,t,n,o,a,r,s)=>{if(Array.isArray(t))n[e]=t.reduce(((t,n)=>{if(x(n))return t.concat(n.staticValue);const i=A(n,o.nested(e),a,r.get(),s.get().value);return t.concat(i)}),[]);else{const i=A(t,o.nested(e),a,r.get(),s.get().value);void 0!==i&&(n[e]=i)}},C=(e,t,o,a,r,s)=>{const i=e=>(t,n)=>{r.merge({value:n}),o?.(s.get()),e?.(t,n),a(!0)};if(t){const t=e.onChange;e.onChange=n.default.useCallback(i(t),[o,t])}else{const t=e.props.onChange;e.props.onChange=n.default.useCallback(i(t),[o,t])}},h=e=>{const o=e.metadata,a=(0,s.useHookstate)(e.subState),i=(0,s.useHookstate)(e.globalState),c=(0,t.isStablePropEnabled)()?((e,t,o,a,r)=>{const[i,c]=n.default.useState(!1),{onChange:d}=n.default.useContext(l),m=(0,s.useHookstate)(a.nested(u.Customizations)),p={...e.static,props:{}};return Object.entries(e.dynamic).forEach((([e,t])=>{g(e,t,p,m,i,r,a)})),Object.entries(t).forEach((([e,t])=>{p[e]={...t.static},Object.entries(t.dynamic).forEach((([t,n])=>{g(t,n,p[e],m.nested(e),i,r,a)}))})),C(p,o,d,c,a,r),p})(o.props,o.nestedProps,o.root,a,i):((e,t,o,a)=>{const[i,c]=n.default.useState(!1),{onChange:d}=n.default.useContext(l),m=(0,s.useHookstate)(o.nested(u.Customizations)),p=(e,t)=>{const n=t?m.nested(t):m;return(0,r.merge)({},...Object.entries(e).map((([e,r])=>{if(!t&&("props"===e||e.endsWith("Props")))return{[e]:p(r,e)};if(Array.isArray(r))return{[e]:r.reduce(((t,r)=>{if(x(r))return t.concat(r.staticValue);const s=A(r,n.nested(e),i,a.get(),o.get().value);return t.concat(s)}),[])};{const t=A(r,n.nested(e),i,a.get(),o.get().value);return{[e]:t}}})))},f=p(e.dynamic),g={...(0,r.merge)({},e.static,f),props:{...(0,r.merge)({},e.static.props??{},f.props??{})}};return C(g,t,d,c,o,a),g})(o.props,o.root,a,i),d=n.default.useMemo((()=>o.children.map((t=>n.default.createElement(h,{key:t.id,metadata:t,subState:a.nested(t.id),globalState:e.globalState})))),[o,e.globalState,a]);return n.default.createElement(n.default.Fragment,null,n.default.createElement(p,{id:o.parentId?`${o.parentId}.${o.id}`:o.id,state:a},d.length?n.default.createElement(o.component,{...c},d):n.default.createElement(o.component,{...c})))};var v;!function(e){e[e.Pending=0]="Pending",e[e.Running=1]="Running",e[e.Done=2]="Done"}(v||(t.CustomizationState=v={}));function y(){const{id:e}=n.default.useContext(d);return e}function b(e,t,a,i,l,d,m,p,g,C,v,y){return{add:(0,r.merge)({},...Object.entries(e).map((([n,o])=>({[n]:(s,f)=>{const h=N(s,a.join("."),o.wrapper(f??o.defaultComponent),n);l.children.push(h),(0,r.set)(t,[...a,s],Object.keys(o.childNodes).length>0?{}:{[u.Value]:null,[u.Customizations]:{}}),o.singleton&&delete e[n];const z=j(e,a,d,m,p,l,C,y);return a.length&&(0,r.set)(g,[m,...a,c],z),v[[...a,s].join(".")]={type:n,componentName:f?f.displayName||f.name||"unknown":"default",customizations:{}},b(o.childNodes,t,[...a,s],i,h,{},n,w(p,n,z),g,o.skipCustomizer,v,o.customizerOptions)}})))),customize:S(e,t,a,i,l,d,m,p,g,C,v,y),seal:(0,r.merge)({},...Object.entries(p).map((([u,z])=>({[u]:z?()=>{const n=j(e,a,d,m,p,l,C,y);return a.length&&(0,r.set)(g,[m,...a,c],n),b(z.childNodes,t,z.ids,i,z.currentComponent,z.currentState,z.currentNodeId,z.seals,g,z.skipCustomizerTillOnChange,v,z.customizerOptions)}:()=>{const e=(0,s.hookstate)(t);return({onChange:t,...a})=>(n.default.useEffect((()=>{(0,o.trace)([{action:"BuilderLoad",source:"Creapi",timestamp:Date.now(),data:{type:u,components:v}}])}),[]),n.default.useEffect((()=>{e.nested("props").merge(a)}),[a]),n.default.createElement(f,{onChange:t},n.default.createElement(h,{key:i.id,metadata:i,subState:e,globalState:e})))}})))),unseal:O(g,t,i,v),define:{prop:(n,o)=>((0,r.set)(t,["props",n],o),b(e,t,a,i,l,d,m,p,g,C,v,y))}}}function z(e,t,n,o,a,s){return{add:{child:(r,i)=>z(e,w(t,r.id,{...r,singleton:i}),n,o,a,s)},register:{wrapper:(n,o,r)=>z(e,t,n,o??[],a,r??{}),defaultComponent:a=>z(e,t,n,o,a,s)},seal:()=>({id:e,childNodes:t,wrapper:n,skipCustomizer:o,defaultComponent:a,customizerOptions:s}),toBuilder:()=>()=>{const o=N(e,"",n(void 0),e,!0);return b((0,r.cloneDeep)(t),{},[],o,o,{},e,w({},e,void 0),{},[],{"":{type:e,componentName:"default",customizations:{}}},s)}}}function w(e,t,n){return{...e,[t]:n}}function S(e,n,o,a,s,i,c,l,d,m,p,f){const g=C=>({get(h,v){if(!C&&("props"===v||v.endsWith("Props")))return new Proxy({},g(v));const y=function(e,t,n){return[...e,u.Customizations,...n?[n]:[],t]}(o,v,C),z=P(v,C);return{static:u=>(((0,t.isStablePropEnabled)()?T(s,C).static:k(s.props.static,C))[v]=u,(0,r.set)(n,y,{value:u,state:2}),p[o.join(".")].customizations[z]={type:"static"},b(e,n,o,a,s,i,c,l,d,m,p,f)),dynamic:(u,g,h)=>{const w=(0,r.get)(n,y),S=(0,t.isStablePropEnabled)()?T(s,C).dynamic:k(s.props.dynamic,C),E={selector:u,execFn:g,initialValue:h,skipTillOnChange:m.includes(v),deferredTime:f[v]?.deferredTime};if(w){const e=S[v];S[v]=e?Array.isArray(e)?[...e,E]:[e,E]:[{staticValue:w.value},E],h?w.value=Array.isArray(w.value)?w.value.concat(h):[w.value].concat(h):w.state=0}else S[v]=E,(0,r.set)(n,y,h?{value:h,state:2}:{value:void 0,state:0});return p[o.join(".")].customizations[z]={type:"dynamic"},b(e,n,o,a,s,i,c,l,d,m,p,f)}}}});return new Proxy({},g())}function E(e,t,n,o,a,r){return new Proxy({},{get(s,i){if(i in e){const s=e[i],u=s[c];return u?()=>b(u.childNodes,t,u.ids,n,u.currentComponent,u.currentState,u.currentNodeId,u.seals,o,u.skipCustomizerTillOnChange,a,u.customizerOptions):E(s,t,n,o,a,P(i,r))}throw new Error(`Could not find ${P(i,r)} node to unseal.`)}})}function O(e,t,n,o){return new Proxy({},{get(a,r){if(r in e)return E(e[r],t,n,e,o);throw new Error(`Could not find ${r} node level to unseal. Available node levels for unseal: ${Object.keys(e).join(", ")}.`)}})}function P(e,t){return t?`${t}.${e}`:e}function k(e,t){return t?e[t]??={}:e}function x(e){return"staticValue"in e}function N(e,t,n,o,a){return{id:e,parentId:t,component:n,type:o,children:[],props:{static:{},dynamic:{}},nestedProps:{},root:a}}function j(e,t,n,o,a,r,s,i){return{childNodes:e,ids:t,currentState:n,currentNodeId:o,seals:a,currentComponent:r,skipCustomizerTillOnChange:s,customizerOptions:i}}function T(e,t){return t?e.nestedProps[t]??={static:{},dynamic:{}}:e.props}function A(e,t,o,a,s){const[i,u]=n.default.useState(e.initialValue),c=t.nested("bypassOnChange").get(),l=e.selector(a,s),d=(0,r.isPlainObject)(l)?Object.values(l):[l];return n.default.useEffect((()=>{let n,a=!0;if(!e.skipTillOnChange||o||c){t.merge({state:1});const o=async()=>{const n=await e.execFn(l);a&&(u((()=>n)),t.merge({value:n,state:2}))};e.deferredTime?n=setTimeout(o,e.deferredTime):o()}return()=>{a=!1,n&&clearTimeout(n)}}),e.skipTillOnChange?[...d,o,c]:d),i}t.isStablePropEnabled=()=>(m??=i.shellAssignments.getBooleanValue("creapiStablePropEnabled")??!1,m),t.createNode=function(e){return z(e,{},void 0,[],void 0,{})},t.getNodeType=function(e){if(n.default.isValidElement(e)&&e.type===h)return e.props.metadata.type},t.localStateSelector=function(e,t){return t},t.useCustomizationState=function(e){const{state:t}=n.default.useContext(d),o=(0,s.useHookstate)(t.nested(u.Customizations).nested(e));return o.get()?.state},t.useId=y,t.useDiagnostics=function(){const e=y();return{trace:t=>{(0,o.trace)(t.map((t=>({...t,source:e,timestamp:t.timestamp??Date.now()}))))},log:t=>{(0,o.log)(t.map((t=>({...t,area:e,timestamp:t.timestamp??Date.now()}))))}}},t.useTriggerCustomizer=function(e){const{state:t}=n.default.useContext(d),o=(0,s.useHookstate)(t.nested(u.Customizations).nested(e));return()=>{o.get()&&o.merge({bypassOnChange:!0})}}}));