define("MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.ActionHandler",["require","exports"],(function(e,t){"use strict";var a;return function(e){var t=MsPortalFx.Base.ProxiedObservables;e.getOrCreateActionHandler=function(e){let a=t.data(e,"ActionHandler");return a||(a=ko.observable(),t.data(e,"ActionHandler",a)),a}}(a||(a={})),a})),
define("Viva.Controls/Controls/Forms/Viva.TextBox.Component",["require","exports","Weave/DirectMode","Weave","Viva.Controls/Controls/Base/Viva.Base","FxInternal/Weave","MsPortalImpl/Weave/Util"],(function(e,t,a,o,s,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextBoxInner=void 0;let r=0;t.TextBoxInner=function(e){const{vm:t}=e,l=MsPortalFx.Base.Images.Search(),d=(0,i.toComputation)(t.validators).compose((e=>e.some((e=>1===e.type))));return a(o.GetContext,{fn:e=>{const{disabled:c,tabIndex:u}=(0,n.aggregateContext)(e,t);return a("div",{className:["azc-inputbox-wrapper azc-textBox-wrapper",{"fxc-has-search-icon":(0,i.toComputation)(t.showSearchIcon)}],tabindex:"-1"},a(o.If,{condition:(0,i.toComputation)(t.showSearchIcon),concealmentBehavior:"remove",trueFn:()=>a("div",{className:"fxc-search-icon fxs-portal-svg-secondary",image:l})}),a(o.LifetimeManagerScoped,{fn:e=>{let n,l,p,h;if("input"===(t.getValueUpdateTrigger()||"change"))h=(0,i.toComputation)(t.value),n=({value:e})=>{e!==(t.value()||"")&&t.value(e)};else{const a=h=(0,o.makeWritableComputation)(t.value());t.value.subscribe(e,a),n=({value:e})=>a(e);const s=()=>{const e=a.value;e!==(t.value()||"")&&t.value(e)};l=s,p=({keyCode:e})=>{13===e&&s()}}return a("input",{className:[`azc-input azc-formControl azc-validation-border ${s.autoTooltipClass}`,{"fxs-br-error":(0,i.toComputation)(t.validationState).compose((e=>1===e)),"fxs-br-dirty":(0,i.toComputation)(t.dirty),"azc-disabled":c,"azc-br-focused":(0,i.toComputation)(t.focused)}],type:"text","aria-multiline":"false",name:t.name||"__azc-textBox-tsx"+r++,placeholder:(0,i.toComputation)(t.placeholder),readonly:(0,i.toComputation)(t.readOnly),spellcheck:(0,i.toComputation)(t.spellcheck),disabled:c,tabindex:u,"aria-required":d,"aria-readonly":(0,i.toComputation)(t.readOnly),"aria-disabled":c,value:h,onValueChange:n,onBlur:l,onKeyDown:p})}}))}})}})),
define("MsPortalImpl.Controls/Fields/TextField.Component",["require","exports","Weave/DirectMode","MsPortalImpl.Controls/Fields/Base/Field.ComponentBuilder","MsPortalImpl/Weave/Builder","Viva.Controls/Controls/Forms/Viva.TextBox.Component"],(function(e,t,a,o,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextFieldInner=void 0,t.TextFieldInner=function(e){const{vm:t,state:n}=e,r=n.labelHelper,{root:l,container:d}=(0,o.getFieldTsxBuilder)(t,r),c=new s.Builder((e=>a("div",{className:e.className,...e.attributes},e.children)));return c.insertAdjacentNode("beforeend",a(i.TextBoxInner,{vm:n.vivaTextBoxViewModel})),c.setAttribute("id",n.controlRootId),d.insertAdjacentNode("beforeend",c),(0,o.attachLabelAndSubLabel)({vm:t,container:d,controlRoot:c,labelHelper:r}),{weaveNode:l.warnOnStyleAndAttrExistence().generateFinalTsx(),parentClassName:l.getClassName()}}})),
define("Viva.Controls/Controls/Base/Viva.ValueUpdateTrigger",["require","exports"],(function(e,t){"use strict";var a;return function(e){let t;e.DefaultDelayValidationTimeout=500,function(e){e[e.Default=0]="Default",e[e.AfterKeyDown=1]="AfterKeyDown",e[e.KeyPress=2]="KeyPress",e[e.Blur=3]="Blur",e[e.Input=4]="Input"}(t=e.ValueUpdateTrigger||(e.ValueUpdateTrigger={}))}(a||(a={})),a})),
define("Viva.Controls/Controls/Base/Viva.TypableControl",["require","exports","Viva.Controls/Controls/Base/Viva.ValueUpdateTrigger","Viva.Controls/Controls/Base/Viva.ValidatableControl"],(function(e,t,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Widget=t.ViewModel=void 0;class s extends o.ViewModel{getValueUpdateTrigger(){let e;switch(this.valueUpdateTrigger){case a.ValueUpdateTrigger.AfterKeyDown:case a.ValueUpdateTrigger.KeyPress:case a.ValueUpdateTrigger.Input:e="input";break;case a.ValueUpdateTrigger.Blur:case a.ValueUpdateTrigger.Default:e=""}return e}constructor(e){super(e),this.delayValidationTimeout=e.delayValidationTimeout||ko.observable(500),this.valueUpdateTrigger=e.valueUpdateTrigger||a.ValueUpdateTrigger.Default,this.onEnterPressed=e.onEnterPressed||MsPortalFx.noop}}t.ViewModel=s;class i extends o.Widget{debouncer({func:e=MsPortalFx.noop,callNow:t}){const a=()=>{this.timeout=null,e()};clearTimeout(this.timeout),t?e():this.timeout=setTimeout(a,this.options.delayValidationTimeout())}constructor(e,t,a){(a=a||{}).viewModelType=a.viewModelType||s,super(e,t,a),this.ltm.registerForDispose(this.element.setEvents(["keyup",e=>{13===e.which&&this.element.trigger("typableControl-commit",{widget:this,model:this.options})}]))}dispose(){this._checkExistsOrRegisterDestroyId(super.dispose)||(this.debouncer({callNow:!0}),super.dispose())}get options(){return this._options}validate(e){this.debouncer({func:()=>super.validate(e),callNow:!0})}_valueChangeValidation(){this.options.delayValidationTimeout()>0&&this._shouldDelayValidation()?this.debouncer({func:()=>super.validate()}):super._valueChangeValidation()}_shouldDelayValidation(){switch(this.options.valueUpdateTrigger){case a.ValueUpdateTrigger.AfterKeyDown:case a.ValueUpdateTrigger.KeyPress:case a.ValueUpdateTrigger.Input:return!0}return!1}}t.Widget=i})),
define("_generated/Less/Viva.Controls/Controls/Forms/Viva.TextBox.css",["module"],(function(e){"use strict";return{css:".azc-textBox{height:23px}.fxc-search-icon{top:5px;left:7px;height:12px;width:12px;position:absolute;z-index:1}.azc-textBox-wrapper{width:100%}.azc-textBox-wrapper .azc-input{border-style:solid;border-width:1px;box-sizing:border-box;font-size:13px;height:23px;outline:0;padding:2px 8px 4px;width:100%}.azc-textBox-wrapper [placeholder]{text-overflow:ellipsis}.fxc-inputhasvalue ::placeholder{color:transparent!important}.fxc-has-search-icon input{padding-left:24px!important;position:relative}.azc-fabric .azc-textBox{height:24px}.azc-fabric .azc-textBox .azc-input{height:24px;padding:3px 8px 5px}.azc-fabric .azc-input{font-size:13px;line-height:18px}",moduleId:e.id}})),
define("Viva.Controls/Controls/Forms/Viva.TextBox",["require","exports","Viva.Controls/Controls/Base/Viva.TypableControl","MsPortalImpl.Controls/Controls/Base/WidgetBindingHandler","FxInternal/Css","_generated/Less/Viva.Controls/Controls/Forms/Viva.TextBox.css"],(function(e,t,a,o,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Widget=t.ViewModel=void 0,(0,s.injectCss)(i);var n=MsPortalFx.Base.Images;const r="azc-inputbox azc-textBox",l="azc-has-focus";let d=0;class c extends a.ViewModel{constructor(e){super(e),this.showSearchIcon=ko.observable(!1),this.readOnly=e.readOnly||ko.observable(!1),this.spellcheck=e.spellcheck||ko.observable(!1),this.placeholder=e.placeholder||ko.observable(null)}}t.ViewModel=c;class u extends a.Widget{constructor(e,t,a){(a=a||{}).viewModelType=a.viewModelType||c,super(e,t,a);const o=this.options;if(e.addClass(r),this.weaveContext||e.html("<div class='azc-inputbox-wrapper azc-textBox-wrapper' data-bind='css: {\"fxc-has-search-icon\": data.showSearchIcon}' tabindex='-1'>\x3c!-- ko if: data.showSearchIcon --\x3e<div class='fxc-search-icon fxs-portal-svg-secondary' data-bind='image: searchIcon'></div>\x3c!-- /ko --\x3e<input class='azc-input azc-formControl azc-validation-border' type='text' aria-multiline='false' data-bind='value: $ctl._value, css: { \"fxs-br-error\": data.validationState() === 1, \"fxs-br-dirty\": data.dirty(), \"azc-disabled\": $disabled, \"azc-br-focused\": data.focused() }, valueUpdate: data.getValueUpdateTrigger(), attr: { name: name, placeholder: data.placeholder, readonly: data.readOnly, spellcheck: data.spellcheck().toString(), disabled: $disabled, tabindex: $tabIndex, \"aria-required\": required, \"aria-readonly\": data.readOnly, \"aria-disabled\": $disabled }' /></div>"),this._input=e.find("input"),this._value=ko.observable(),o.value.subscribeAndRun(this.ltm,this._value),this._value.subscribe(this.ltm,(e=>{const t=o.value();(e||t)&&t!==e&&o.value(e)})),this._attachEvents(),!this.weaveContext){const e=n.Search(),t=o.name||"__azc-textBox"+d++,a=ko.computed(this.ltm,(()=>0!==o.validators.filter(this.ltm,(e=>1===e.type))().length));this._bindDescendants({searchIcon:e,name:t,required:a})}this._afterCreate(),this._supportsFocus(!0)}dispose(){this._checkExistsOrRegisterDestroyId(super.dispose)||(this._cleanElement(r),super.dispose())}get options(){return this._options}_getElementToFocus(){return this._input[0]}_attachEvents(){const e=this.options,t=e.events;this.ltm.registerForDispose(this.element.setEvents(["keydown",t=>{13!==t.which||this.element.parents(".fxc-group-dropdown").length||e.value(this._input.val())}],["keyup",a=>{if(13===a.which){a.preventDefault();const o=this._input.val();t&&t.enterPressed?t.enterPressed(o):e.onEnterPressed&&e.onEnterPressed(o)}else 40===a.which&&t&&t.downPressed&&t.downPressed()}])),this.ltm.registerForDispose(this._input.setEvents(["focus",a=>{e.focused(!0),this.element.toggleClass(l,!0),t&&t.focus&&t.focus()}],["blur",a=>{e.focused(!1),this.element.toggleClass(l,!1),t&&t.blur&&t.blur()}]))}}t.Widget=u,ko.bindingHandlers.azcTextBox=o.getBindingHandler(u)})),
define("MsPortalImpl.Controls/Fields/TextField",["require","exports","MsPortalImpl.Controls/Fields/Base/Field","Viva.Controls/Controls/Forms/Viva.TextBox","Viva.Controls/Controls/Base/ValidationPlacements/Viva.Css","Viva.Controls/Controls/Base/ValidationPlacements/Viva.DockedBalloon","MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.ActionHandler","MsPortalImpl.Controls/Fields/TextField.Component","MsPortalImpl/Weave/Util"],(function(e,t,a,o,s,i,n,r,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextField=t.Widget=t.WidgetUIState=t.InnerTsxComponent=void 0;const d="azc-textField",c="fxc-TextField";t.InnerTsxComponent=r.TextFieldInner;class u extends a.WidgetUIState{constructor(e){super(e);const t=e.vm;this.vivaTextBoxViewModel=new o.ViewModel({ltm:this._ltm,value:t._msPortalFxWidgetValue,readOnly:ko.utils.wrap(t.readOnly),spellcheck:ko.utils.wrap(t.spellcheck),valueUpdateTrigger:t.valueUpdateTrigger,onEnterPressed:e=>{t.onEnterPressed&&t.onEnterPressed(e)},placeholder:t.emptyValueText})}}t.WidgetUIState=u;class p extends a.FieldWidget{constructor(e,t,a,o){super(e,t,a,o)}_initializeField(){super._initializeField(),this.element.addClass(d).addClass(c),this.element.toggleClass("azc-fabric",this.options.hasOwnProperty("placeHolderText")),this._textFieldInit()}_createLabelAndSubLabel(){this.weaveContext||this._attachLabelAndSubLabel(),this._attachAriaBindings({ariaLabel:this._options.ariaLabel})}dispose(){this._textBoxWidget&&(this._textBoxWidget.dispose(),this._textBoxWidget=null),this._cleanElement(d,c),super.dispose()}get validatableViewModel(){return this.state.vivaTextBoxViewModel}get validatableWidget(){return this._textBoxWidget}_textFieldInit(){const e=this.ltm,t=this.options,a=this.state.vivaTextBoxViewModel,r=a.lifetimeManager;let l;a.events={},a.validationPlacements.push(new s.Css(r)),a.validationPlacements.push(new i.DockedBalloon(this._diContainer,r,i.DockedBalloon.defaultOptions)),t.actionHandler&&(this._actionHandler=n.getOrCreateActionHandler(ko.unwrap(t.actionHandler)),ko.isObservable(t.actionHandler)&&t.actionHandler.subscribe(e,(e=>{this._actionHandler=n.getOrCreateActionHandler(e)})),a.events.enterPressed=e=>{const a=this._actionHandler();a&&ko.unwrap(t.actionsEnabled)&&a.activateFirstItem()},a.events.downPressed=()=>{const e=this._actionHandler();e&&ko.unwrap(t.actionsEnabled)&&e.focusFirstItem()},a.events.focus=()=>{const e=this._actionHandler();e&&ko.unwrap(t.actionsEnabled)&&e.pseudoFocusFirstItem()},a.events.blur=()=>{const e=this._actionHandler();e&&e.pseudoBlurFirstItem()},this._actionHandler.subscribe(e,(e=>{e&&a.focused()&&e.pseudoFocusFirstItem()}))),this.weaveContext?l=$(this.element[0].querySelector(`#${this.state.controlRootId}`)):(l=$(FxImpl.createElement("div")),this.appendControl(l)),this.linkValidatableControlViewModels(),this._addWidget(this._textBoxWidget=new o.Widget(l,a,{weaveContext:this.weaveContext})),this.setupValidationBindings(),t.value.subscribeAndRun(e,(e=>{this.element.find(".azc-input").toggleClass("fxc-inputhasvalue",!!e)})),t.showValidationsAsPopup&&MsPortalFx.Base.Promises.cancelOnDispose(e,(()=>MsPortalFx.require("MsPortalImpl/Controls/Helpers/ValidationPopup"))).then((t=>{this._popupWidget=new t.Widget(e,{targetElement:this.element.find(".azc-inputbox"),widget:this,validationResults:a.validationResults})}))}}t.Widget=p,p.flightNewRender=!0,t.TextField=(0,l.createControlComponent)({widgetCtor:p,widgetUIStateCtor:u,innerComponent:r.TextFieldInner})}));