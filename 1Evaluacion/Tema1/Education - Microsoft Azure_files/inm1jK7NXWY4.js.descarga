define("Fx/Controls/DataGrid",["require","exports","FxInternal/Controls/Grid2/Grid2.DataGrid"],(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUriLinkColumn=t.createTextColumn=t.createTemplateColumn=t.createTagListColumn=t.createResourceLinkColumn=t.createCustomLinkColumn=t.createBladeLinkColumn=t.create=void 0,t.create=function(e,t){return ko.ignoreDependencies((function(){return new n.ViewModel(e,t)}))},t.createBladeLinkColumn=function(e){return __assign(__assign({},e),{type:"BladeLink"})},t.createCustomLinkColumn=function(e){return __assign(__assign({},e),{type:"CustomLink"})},t.createResourceLinkColumn=function(e){return __assign(__assign({},e),{type:"ResourceLink"})},t.createTagListColumn=function(e){return __assign(__assign({},e),{type:"TagList"})},t.createTemplateColumn=function(e){return __assign(__assign({},e),{type:"Template"})},t.createTextColumn=function(e){return __assign(__assign({},e),{type:"Text"})},t.createUriLinkColumn=function(e){return __assign(__assign({},e),{type:"UriLink"})}})),
define("FxHubs/MarketplaceRpc",["require","exports","Fx","Fx/Ajax","Fx/Diagnostics","Fx/ResourceManagement","FxHubs/Resources/FxHubsClientStrings","FxHubs/RpcEndPoints","FxInternal","FxInternal/AsyncLoader","FxHubs/ArmHelpers/ArmApis","FxHubs/Common/AssetTypeCache"],(function(e,t,n,i,r,a,o,l,s,d,c,u){"use strict";var f,_,p;Object.defineProperty(t,"__esModule",{value:!0}),t.validateSubscriptions=t.getSubscriptionPolicyQuotaIds=t.isCSPQuotaId=t.getMarketplaceContext=t.getCreateFlow=t.getCreateFlowWithMarketplaceItem=t.checkForCreateFlowOverride=t.getStackSelectionFlag=t.cspQuotaIds=t.msdnQuotaIds=t.zeroDollarQuotaIds=t.notAllowedQuotaIds=t.QuotaIds=t.marketplaceOverrideHandler=t.StackType=t.OfferType=t.GalleryErrorCode=t.traceCreateFlowLaunched=void 0,function(e){e[e.OfferBased=0]="OfferBased",e[e.PlanBased=1]="PlanBased"}(f||(f={})),function(e){e[e.template=0]="template",e[e.fragment=1]="fragment",e[e.custom=3]="custom",e[e.metadata=4]="metadata"}(_||(_={})),function(e){e[e.FailedInvalidUIDefinition=0]="FailedInvalidUIDefinition",e[e.FailedPreCheck=1]="FailedPreCheck",e[e.NoMsdnOfferOnSubscriptionsBlade=2]="NoMsdnOfferOnSubscriptionsBlade",e[e.NoSubscriptionsBlade=3]="NoSubscriptionsBlade",e[e.UpgradeSubscriptionBlade=4]="UpgradeSubscriptionBlade",e[e.UiNotAvailableBlade=5]="UiNotAvailableBlade",e[e.AlternateCreateFlowRequested=6]="AlternateCreateFlowRequested",e[e.PreviewFlowRequested=7]="PreviewFlowRequested",e[e.RpcFrameworkFailed=8]="RpcFrameworkFailed",e[e.GalleryServiceCallFailed=9]="GalleryServiceCallFailed"}(p||(p={}));var v,m=Date.parse("2018-02-01"),h={GalleryItem:"GALLERYITEM",ItemGroup:"ITEMGROUP"},x={Single:"Single",Group:"Group"},g=(0,n.isFeatureEnabled)("fxprivatestoreenabled"),b=[_[_.template],_[_.fragment]],y=(0,n.memoizePromise)((function(){return function(){if(g){var e=(0,c.getPrivateStoreApi)();return(0,i.batch)({uri:e,type:"GET",setTelemetryHeader:"checkAllowList"}).then((function(e){var t,n,i,r=(null===(i=null===(n=null===(t=null==e?void 0:e.content)||void 0===t?void 0:t.value)||void 0===n?void 0:n[0])||void 0===i?void 0:i.properties)||null;return"enabled"===(null==r?void 0:r.availability)})).catch((function(e){return 401===e.httpStatusCode?(S.debug(e.name,e.httpStatusCode,e),!1):(S.error(e.name,e.httpStatusCode,e),!1)}))}return Promise.resolve(!1)}()})),w=MsPortalFx.Base.Diagnostics.Telemetry,I=w.trace,C=w.startTrace,k=w.endTrace,S=(0,r.createLog)(e),P="api-version=2018-08-01-beta",U=["useDetailsIfLinkable","createLanding"],A=["useDetailsIfLinkable","useStackSelectionIfAvailable","createLanding"];function F(e){var t,n,i,r,a,o,l,s=null===(t=null==e?void 0:e.bladeSelection)||void 0===t?void 0:t.detailBladeInputs;return(null===(n=null==s?void 0:s.fx_marketplaceContext)||void 0===n?void 0:n.telemetryId)||(null===(l=null===(o=null===(a=null===(r=FxImpl.fromSerializableObject((null===(i=null==s?void 0:s.internal_bladeCallerParams)||void 0===i?void 0:i.providerConfig)||{}))||void 0===r?void 0:r.provisioningConfig)||void 0===a?void 0:a.galleryCreateOptions)||void 0===o?void 0:o.launchingContext)||void 0===l?void 0:l.telemetryId)}function D(e,t){I({source:"CreateHub",action:"CreateFlowLaunched",name:e,data:t=t||{}})}function T(e,n){var i,r=(n?__spreadArray(__spreadArray([],e.plans.filter((function(e){return e.planId.toLocaleLowerCase()===n.toLocaleLowerCase()})),!0),e.plans.filter((function(e){return e.legacyPlanId.toLocaleLowerCase()===n.toLocaleLowerCase()})),!0):[])[0];if(r||(r=e.plans[0]),e.offerType===t.OfferType.VirtualMachine&&(null==r?void 0:r.stackType)===t.StackType.ARM&&(null===(i=r.metadata)||void 0===i?void 0:i.relatedSkus)){var a=(r.metadata.relatedSkus||[]).filter((function(e){var t;return e.sku.generation>((null===(t=r.metadata)||void 0===t?void 0:t.generation)||1)}))[0];if(a){var o=e.plans.filter((function(e){var t;return e.legacyPlanId.toLowerCase()===(null===(t=null==a?void 0:a.sku)||void 0===t?void 0:t.identity.toLowerCase())}))[0];return o||r}}return r}function M(e){return{planId:e.planId,cspState:e.cspState,displayName:e.displayName,summary:e.summary,description:e.description,isPrivate:!!e.isPrivate,privateSubscriptions:e.privateSubscriptions,isTenantPrivate:e.isTenantPrivate,availabilities:e.availabilities||[],isQuantifiable:e.isQuantifiable,minQuantity:e.minQuantity,maxQuantity:e.maxQuantity,hasFreeTrials:e.hasFreeTrials,planLabels:e.planLabels,planType:e.type}}function B(e,n){if(!e.plans||e.plans.length<=0)return null;var i=[],r=T(e,n);return e.plans.length&&(i=function(e){return e.offerType===t.OfferType.SaaS||e.offerType===t.OfferType.DevService?f.OfferBased:f.PlanBased}(e)===f.OfferBased?e.plans.map((function(e){return M(e)})):__spreadArray(__spreadArray([],i,!0),[M(r)],!1)),{displayName:e.displayName,publisherDisplayName:e.publisherDisplayName,pricingDetailsUri:e.pricingDetailsUri,offerDetails:{publisherId:e.publisherId,offerId:e.offerId,plans:i,selectedPlan:M(r)},legalTermsUri:e.legalTermsUri,privacyPolicyUri:e.privacyPolicyUri,useEnterpriseContract:e.useEnterpriseContract,hasStandardContractAmendments:e.hasStandardContractAmendments,standardContractAmendmentsRevisionId:e.standardContractAmendmentsRevisionId,cspLegalTermsUri:e.cspLegalTermsUri}}function z(e){return e===x.Group?h.ItemGroup:h.GalleryItem}function L(e,t){var n=__assign(__assign({},e),{leadGeneration:null==t?void 0:t.leadGeneration});return(null==t?void 0:t.metadata)&&(n=__assign(__assign({},n),t.metadata)),n}function E(e,t){return e.createBladeType===f.OfferBased?e.offerId:e.isThirdParty?e.offerId+T(e,t).planId:T(e,t).planId}function N(e,t){if(e.createBladeType===f.OfferBased)return __spreadArray([],e.categoryIds,!0);var n=null==t?void 0:t.categoryIds;return n&&n.length||(n=[]),function(e){var t;return null===(t=null==e?void 0:e.categoryIds)||void 0===t?void 0:t.filter((function(t){for(var n,i,r=0,a=e.plans;r<a.length;r++){var o=a[r];if((null===(n=o.categoryIds)||void 0===n?void 0:n.length)&&(null===(i=o.categoryIds)||void 0===i?void 0:i.includes(t)))return!1}return!0}))}(e).concat(n)}function O(e,t,n){return e.itemType===x.Group?function(e){return{identity:e.id,itemDisplayName:e.itemDisplayName,itemType:z(e.itemType),publisherDisplayName:e.publisherDisplayName,iconFileUris:e.iconFileUris}}(e):K(G(e,t,n))}function R(e){return!e.isThirdParty&&!e.isReseller}function G(e,t,n){var i=[];R(e)||i.push(B(e,t));var r=T(e,t),a=__assign(__assign({},L(e.metadata,r)),{supportUrl:e.supportUri});return{identity:null==r?void 0:r.legacyPlanId,itemName:E(e,t),artifacts:null==r?void 0:r.artifacts,categoryIds:N(e,r),description:e.description,iconFileUris:e.iconFileUris,isMyGalleryItem:e.isMyGalleryItem,itemDisplayName:e.createBladeType===f.OfferBased?e.itemDisplayName:null==r?void 0:r.displayName,links:e.links,longSummary:e.longSummary,metadata:a,products:i,publisher:e.publisherId,publisherDisplayName:e.publisherDisplayName,resourceGroupName:"",screenshotUris:e.screenshotUris,summary:e.summary,uiDefinitionUri:null==r?void 0:r.uiDefinitionUri,version:e.createBladeType===f.OfferBased?e.version:null==r?void 0:r.version,itemType:z(e.itemType),privateBadgeText:e.privateBadgeText,isPrivateOffer:e.isPrivate,curationCategoryDisplayName:e.curationCategoryDisplayName,galleryItemAccess:0,searchId:e.searchId,searchIndex:e.searchIndex,searchScore:e.searchScore,isCSPEnabled:e.isCSPEnabled,isCSPSelective:e.isCSPSelective,isMicrosoftProduct:e.isMicrosoftProduct,productOwnershipSellingMotion:e.productOwnershipSellingMotion,isPrivateStore:n}}function Q(e,t,n){return e||(e={}),{errorMessage:t,alternateBladeSelection:{extension:"Microsoft_Azure_Marketplace",detailBlade:"GalleryLaunchCreateFailedBlade",detailBladeInputs:{galleryItem:e,"collectorBindingInternals-inputs":{options:{galleryOptions:{uiDefinition:{markup:{reference:{}}}}}},"collectorBindingInternals-outputs":"","collectorBindingInternals-commit":""}},isOldCreate:!1,errorType:n,logLevel:2}}function W(e,t,n){var i,r;return null===(r=null===(i=T(e,n))||void 0===i?void 0:i.artifacts)||void 0===r?void 0:r.reduce((function(e,n){return(null==n?void 0:n.name)&&n.type.toLowerCase()===_[t]&&(e[n.name]=n.uri),e}),{})}function H(e,t,n,i,r){return __assign(__assign({},J(e,t,r)),{deploymentName:"{0}.{1}".format(e.publisherId,e.offerId),deploymentFragmentFileUris:W(e,_.fragment,t),deploymentTemplateFileUris:W(e,_.template,t),launchingContext:n,uiMetadata:i})}function V(e,t,n,i,r,a){var o,l;try{!function(e,t){var n=MsPortalFx.clone(e.launchingContext,!0),i=MsPortalFx.newGuid();(null==n?void 0:n.telemetryId)||MsPortalFx.extend(n,{telemetryId:i});var r=t.createDefinition.createBlade.name;MsPortalFx.extend(n,{createBlade:r}),e.launchingContext=n}(e,n);var s=function(e,t,n,i,r){var a;return{fx_marketplaceContext:{telemetryId:null===(a=null==e?void 0:e.launchingContext)||void 0===a?void 0:a.telemetryId,marketplaceItem:H(t,i,__assign({galleryItemId:t.id,createBlade:n.createDefinition.createBlade.name},null==e?void 0:e.launchingContext),__assign(__assign({},n.options),{initialData:n.initialData}),r),provisioningConfig:{dontDiscardJourney:!1,dashboardPartReference:n.createDefinition.startboardPart&&{dashboardPartKeyId:n.createDefinition.startboardPartKeyId,partName:n.createDefinition.startboardPart.name,options:{extensionName:n.createDefinition.startboardPart.extension},parameters:null}}}}}(e,t,n,r,a),d={},c=n.createDefinition.createBlade;d.extension=c.extension,d.detailBlade=c.name,d.detailBladeInputs=s;var u={isOldCreate:!1,createVersion:3,bladeSelection:d,actionModifier:i?"OverriddenByExtension":"Default"},f=null==e?void 0:e.launchingContext,_=null==f?void 0:f.galleryItemId,v={galleryItemId:null==f?void 0:f.galleryItemId,blade:u.bladeSelection.detailBlade,extension:u.bladeSelection.extension,context:null==f?void 0:f.source,telemetryId:null==f?void 0:f.telemetryId,isMyGalleryItem:!!t.isMyGalleryItem,oldCreateApi:!1};return u.isOldCreate&&(v.oldCreateApi=!0),D(_,v),u}catch(e){S.error(e);var m="Failed to launch create flow from extension\n        ".concat(null===(l=null===(o=null==n?void 0:n.createDefinition)||void 0===o?void 0:o.createBlade)||void 0===l?void 0:l.name,"\n        for gallery item ").concat(null==t?void 0:t.id," with the following error: ").concat(e);throw Q(O(t,r,a),m,p.GalleryServiceCallFailed)}}function q(e){return __awaiter(this,void 0,void 0,(function(){var t,n,i,r,a,o,l;return __generator(this,(function(s){switch(s.label){case 0:return n=(t=MsPortalFx.Services.Rpc).invokeCallback,i=["Microsoft_Azure_Marketplace","getCreateFlow"],r=[__assign({},e)],o={},a=[__assign({},e.alternateCreateFlowOptions)],l={},[4,(0,u.getAllAssetTypesInformation)()];case 1:return[4,n.apply(t,i.concat([__assign.apply(void 0,r.concat([(o.alternateCreateFlowOptions=__assign.apply(void 0,a.concat([(l.useCreateAssetTypeIfAvailable=s.sent().filter((function(e){return!!e.noPdlCreateBlade})).map((function(e){var t=e.noPdlCreateBlade,n=e.noPdlCreateExtension,i=e.noPdlCreateParameters,r=e.assetType,a=e.extensionName;return{noPdlCreateBlade:t,noPdlCreateExtension:n||a,noPdlCreateParameters:i,assetType:r}})),l)])),o)]))]))];case 2:return[2,s.sent()]}}))}))}function j(e){return(null==e?void 0:e.length)>=1&&e.some((function(e){return"SelectiveOptIn"===e.cspState}))}function K(e){return JSON.parse(JSON.stringify(e))}function J(e,t,n){var i,r,a=G(e,t,n),o=function(e,t,n){var i,r,a,o=[],l=B(e,t);l&&!R(e)&&o.push(l);var s=T(e,t),d=((null==s?void 0:s.artifacts)||[]).reduce((function(e,t){return b.includes(t.type.toLowerCase())?e.concat(t):e}),[]),c=__assign(__assign({},L(e.metadata,s)),{resourceProviderNamespace:null==s?void 0:s.resourceProviderNamespace,resourceType:null==s?void 0:s.resourceType,supportUrl:e.supportUri});return{id:e.createBladeType===f.OfferBased?e.id:null===(i=T(e,t))||void 0===i?void 0:i.legacyPlanId,itemDisplayName:e.itemDisplayName,publisherDisplayName:e.publisherDisplayName,version:e.createBladeType===f.OfferBased?e.version:null===(r=T(e,t))||void 0===r?void 0:r.version,categoryIds:N(e,s),products:o,productsWithNoPricing:[],specialArtifacts:d,metadata:c,filters:e.filters,isPrivateOffer:e.isPrivate,mediumIconUri:null===(a=e.iconFileUris)||void 0===a?void 0:a.medium,isCSPEnabled:e.isCSPEnabled,galleryItemAccess:0,isPrivateStore:n}}(e,t,n);return K({metadata:a.metadata||{},categoryIds:a.categoryIds||[],version:a.version,products:a.products,isPrivateOffer:a.isPrivateOffer,isCSPEnabled:!!a.isCSPEnabled||(i=e.plans,r=!1,(null==i?void 0:i.length)>=1&&(r=i.some((function(e){return"OptIn"===e.cspState||"SelectiveOptIn"===e.cspState||void 0===e.cspState}))),r),isCSPSelective:!!a.isCSPSelective||j(e.plans),publisherDisplayName:a.publisherDisplayName,itemDisplayName:a.itemDisplayName,filters:o.filters||[],id:o.id,productsWithNoPricing:o.productsWithNoPricing,specialArtifacts:__spreadArray([],o.specialArtifacts,!0),mediumIconUri:o.mediumIconUri,galleryItemAccess:0,isPrivateStore:n})}function Y(e,t){return null==e?void 0:e.categoryIds.some((function(e){return(null==e?void 0:e.toLowerCase())===t}))}function Z(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(r){switch(r.label){case 0:return t=((0,n.getFeatureValue)("microsoft_azure_marketplace_ItemHideKey")||"").split(",").filter(s.identity).concat(((0,n.getFeatureValue)("ItemHideKey")||"").split(",").filter(s.identity)).map((function(e,t){return"HideKeys[".concat(t,"]=").concat(e)})).join("&"),[4,(0,i.ajax)({cache:!0,uri:"".concat(FxImpl.internalEnv.fxCatalogEndpoint,"view/offers/").concat(e,"?").concat(P,"&").concat(t)})];case 1:return[2,r.sent()]}}))}))}function $(e,t){return __awaiter(this,void 0,void 0,(function(){var n,r,a,o,l,s,d,c;return __generator(this,(function(u){switch(u.label){case 0:return(null===(s=null===(l=null===(o=null==e?void 0:e.plans)||void 0===o?void 0:o[0])||void 0===l?void 0:l.metadata)||void 0===s?void 0:s.portalfx_createAssetType)?[2,{offer:e}]:(n=(null===(d=T(e,t))||void 0===d?void 0:d.uiDefinitionUri)||e.uiDefinitionUri||(null===(c=e.definitionTemplates)||void 0===c?void 0:c.uiDefinitionFileUri),[4,(0,i.ajax)({cache:!0,uri:n})]);case 1:return r=u.sent(),[4,ne(e,r,t)];case 2:return a=u.sent(),[2,{offer:e,uiDefinition:a,overridden:r!==a}]}}))}))}function X(e,t){return __awaiter(this,void 0,void 0,(function(){var i,r;return __generator(this,(function(a){switch(a.label){case 0:return(0,n.isFeatureEnabled)("marketplaceSingleSub")&&1===t.length?(i=t[0],[4,MsPortalFx.Services.Rpc.invokeCallback("Microsoft_Azure_Marketplace","validateSingleSubscription",{galleryItem:e,subscription:i})]):[3,2];case 1:return[2,{invalidSubscriptions:(r=a.sent()).isValid?[]:[{displayText:r.displayText,subscriptionId:i.subscriptionId}]}];case 2:return[2,MsPortalFx.Services.Rpc.invokeCallback("Microsoft_Azure_Marketplace","validateSubscriptions",{galleryItem:e,subscriptions:t})]}}))}))}function ee(e){var t,n;return null===(n=null===(t=null==e?void 0:e.subscriptionPolicies)||void 0===t?void 0:t.quotaId)||void 0===n?void 0:n.toLowerCase()}function te(e){return!!(e&&e.metadata&&"altStackReference"in e.metadata)||Y(e,"virtualmachine")}t.traceCreateFlowLaunched=D,function(e){e[e.NotEligibleForCSP=0]="NotEligibleForCSP"}(v||(t.GalleryErrorCode=v={})),t.OfferType={None:"None",DevService:"DevService",ManagedApplication:"ManagedApplication",VirtualMachine:"VirtualMachine",AzureApplication:"AzureApplication",Container:"Container",ContainerApps:"ContainerApps",SaaS:"SaaS",SolutionTemplate:"SolutionTemplate"},t.StackType={Classic:"Classic",ARM:"ARM"},t.marketplaceOverrideHandler=(0,d.defineHandler)(l.Provisioning.marketplaceOverrideEndpoint,(function(e){var t=e.messageArg,n=t.galleryUIDefinition,i=t.marketplaceItemId;return ne(t.offer,n,i,e.diContainer.get(FxImpl.Rpc.Client))})),t.QuotaIds={AAD:"aad_2015-09-01",CSP:"csp_2015-05-01",CSPMG:"csp_mg_2017-12-01",CSPDevTest:"cspdevtest_2018-05-01",MPN:"mpn_2014-09-01",MSDN:"msdn_2014-09-01",Default:"default_2014-09-01",Internal:"internal_2014-09-01",BizSpark:"bizspark_2014-09-01",AzurePass:"azurepass_2014-09-01",FreeTrial:"freetrial_2014-09-01",DreamSpark:"dreamspark_2015-02-01",PayAsYouGo:"payasyougo_2014-09-01",MSDNDevTest:"msdndevtest_2014-09-01",AzureInOpen:"azureinopen_2014-09-01",BizSparkPlus:"bizsparkplus_2014-09-01",BackupStorage:"backupstorage_2014-09-01",AzureDynamics:"azuredynamics_2014-09-01",LightweightTrial:"lightweighttrial_2016-09-01",EnterpriseAgreement:"enterpriseagreement_2014-09-01",LegacyMonetaryCommitment:"legacymonetarycommitment_2014-09-01",AzureStackAdmin:"azurestackadmin",AzureStackReseller:"azurestackreseller",AzureStackTenant:"azurestacktenant"},t.notAllowedQuotaIds=[t.QuotaIds.AAD],t.zeroDollarQuotaIds=[t.QuotaIds.DreamSpark,t.QuotaIds.LightweightTrial],t.msdnQuotaIds=[t.QuotaIds.MSDN,t.QuotaIds.MSDNDevTest,t.QuotaIds.BizSpark,t.QuotaIds.BizSparkPlus],t.cspQuotaIds=[t.QuotaIds.CSP,t.QuotaIds.CSPMG,t.QuotaIds.CSPDevTest];function ne(e,t,n){return __awaiter(this,arguments,void 0,(function(e,t,n,i){var r,a,o,s,d,c,u,f,_,v,m,h,x,g,b,w,I,C;return void 0===i&&(i=FxImpl.Rpc.client),__generator(this,(function(k){switch(k.label){case 0:return(r=t.createDefinition.createBlade.extension)!==FxImpl.extensionName?[3,2]:[4,l.Provisioning.marketplaceOverrideEndpoint.invoke(i,MsPortalFx.Base.Constants.Shell,{offer:e,galleryUIDefinition:t,marketplaceItemId:n})];case 1:return[2,k.sent()];case 2:a=t,s=y(),k.label=3;case 3:return k.trys.push([3,10,12,13]),[4,FxImpl.Extension.getManifestEndPoint.invoke(FxImpl.Rpc.client,"fx",{extensionName:r,propertyName:"flags"})];case 4:return 32&k.sent()?[2,t]:[4,FxImpl.Extension.getExtensionGalleryService.acquireObject(FxImpl.Rpc.client,r)];case 5:return o=k.sent(),null!==(w=null===(b=null==o?void 0:o.value)||void 0===b?void 0:b.content)&&void 0!==w?[3,6]:(d=void 0,[3,8]);case 6:return u=(c=w).galleryCreatePreCheck,f=O,_=[e,n],[4,s];case 7:d=u.apply(c,[f.apply(void 0,_.concat([k.sent()])),!1]),k.label=8;case 8:return[4,d];case 9:return a=k.sent(),[3,13];case 10:return v=k.sent(),S.error(v),m="The call to 'galleryCreatePreCheck' was rejected on extension {0}'s "+"gallery service view model for Gallery Item {1}. The 'galleryCreatePreCheck' should never reject.".format(null===(C=null===(I=null==t?void 0:t.createDefinition)||void 0===I?void 0:I.createBlade)||void 0===C?void 0:C.name,null==e?void 0:e.id),h=Q,x=O,g=[e,n],[4,s];case 11:throw h.apply(void 0,[x.apply(void 0,g.concat([k.sent()])),m,p.GalleryServiceCallFailed]);case 12:return null==o||o.dispose(),[7];case 13:if(null==a?void 0:a.$schema)try{a=function(e){if(!e)throw new Error("UI definition is null or undefined.");if(e.declarativeUi)throw new Error("Declarative UI is not supported at the moment.");if(e.createDefinition&&!e.createDefinition.createBlade)throw new Error("Both the create blade and declarative UI are undefined. One of them is required for create.");if(!e.createDefinition)throw new Error("The UI definition must contain a create definition section.");var t=e.createDefinition.createBlade,n=e.createDefinition.startboardPart;if(!t)throw new Error("The create blade is not defined in the UI definition.");if(!t.name||!t.extension)throw new Error("The create blade is not correctly defined in the UI definition. ".concat(t.name?"Extension with create blade name {0} is not correctly defined".format(t.name):"Extension with create blade extension {0} is not correctly defined".format(t.extension)));if(n){if(!n.name||!n.extension)throw new Error("The startboard part is not correctly defined in the UI definition. ".concat(n.name?"Extension with startboard part name {0} is not correctly defined".format(n.name):"Extension with startboard part extension {0} is not correctly defined".format(n.extension)))}else e.createDefinition.startboardPart={name:"ResourceGroupMapPinnedPart",extension:MsPortalFx.Base.Constants.ExtensionNames.Hubs};return e.createDefinition.startboardPartKeyId||(e.createDefinition.startboardPartKeyId="id"),e}(a=function(e){if(!e)throw new Error("UI definition result is null or undefined.");return"string"==typeof e?JSON.parse(e):e}(a))}catch(e){return S.error(e),[2,t]}return[2,a||t]}}))}))}function ie(e,i,r,a){return __awaiter(this,void 0,void 0,(function(){var o,l,s,d,c,u,f,_,p,v,h,x,g,b,w,C,P,D,T,M,B,z,L,E,N,O,R,G,Q,W,H,j,K;return __generator(this,(function(Y){switch(Y.label){case 0:o=(0,n.startTimer)(),l=(0,n.memoizePromise)((function(){return q(e)})),Y.label=1;case 1:return Y.trys.push([1,12,,14]),s=(0,t.getStackSelectionFlag)(),d=y(),c=s?U:A,Object.keys((null==e?void 0:e.alternateCreateFlowOptions)||{}).some((function(t){return e.alternateCreateFlowOptions[t]&&c.includes(t)}))?[4,l()]:[3,3];case 2:if(u=Y.sent())return k(r,"alternateCreateFlow",{telemetryId:F(u),extension:null===(B=null==u?void 0:u.bladeSelection)||void 0===B?void 0:B.extension,blade:null===(z=null==u?void 0:u.bladeSelection)||void 0===z?void 0:z.detailBlade}),[2,u];Y.label=3;case 3:return[4,$(i,e.marketplaceGalleryItemId)];case 4:return f=Y.sent(),_=f.uiDefinition,p=f.overridden,(v=null===(L=null==e?void 0:e.alternateCreateFlowOptions)||void 0===L?void 0:L.useStackSelectionIfAvailable)?(h=te,x=J,g=[i,e.marketplaceGalleryItemId],[4,d]):[3,6];case 5:v=h.apply(void 0,[x.apply(void 0,g.concat([Y.sent()]))]),Y.label=6;case 6:return v?[4,l()]:[3,8];case 7:if(b=Y.sent())return k(r,"stackSelection",{telemetryId:F(b),extension:null===(E=null==b?void 0:b.bladeSelection)||void 0===E?void 0:E.extension,blade:null===(N=null==b?void 0:b.bladeSelection)||void 0===N?void 0:N.detailBlade}),[2,b];Y.label=8;case 8:return function(e){if(!e)return!1;var t="schemas/",n=e.indexOf(t)+8,i=n+10,r=e.slice(n,i);return Date.parse(r)>=m}(_.$schema)?[3,10]:(w=o(),[4,l()]);case 9:if(C=Y.sent())return k(r,"InvalidSchemaRPC",{telemetryId:F(C),extension:null===(O=null==C?void 0:C.bladeSelection)||void 0===O?void 0:O.extension,blade:null===(R=null==C?void 0:C.bladeSelection)||void 0===R?void 0:R.detailBlade,catalogTime:w}),[2,C];I({action:"FxCreateFlow",source:"Marketplace",actionModifier:"InvalidSchemaCatalog",data:{telemetryId:F(C),extension:null===(Q=null===(G=null==_?void 0:_.createDefinition)||void 0===G?void 0:G.createBlade)||void 0===Q?void 0:Q.extension,blade:null===(H=null===(W=null==_?void 0:_.createDefinition)||void 0===W?void 0:W.createBlade)||void 0===H?void 0:H.extension,catalogTime:w}}),Y.label=10;case 10:return D=V,T=[e,i,_,p,e.marketplaceGalleryItemId],[4,d];case 11:return P=D.apply(void 0,T.concat([Y.sent()])),k(r,"Catalog",{telemetryId:F(P),extension:null===(j=null==P?void 0:P.bladeSelection)||void 0===j?void 0:j.extension,blade:null===(K=null==P?void 0:P.bladeSelection)||void 0===K?void 0:K.detailBlade}),[2,P];case 12:return M=Y.sent(),S.error(M),"alternateBladeSelection"in M&&!a?[2,__assign(__assign({},M),{bladeSelection:M.alternateBladeSelection})]:(k(r,"FailoverRPC"),[4,l()]);case 13:return[2,Y.sent()];case 14:return[2]}}))}))}function re(e){return!!e&&t.cspQuotaIds.some((function(t){return t===e.toLowerCase()}))}function ae(e){var t=[];return(null==e?void 0:e.length)>0&&(t=t.concat(e.map((function(e){var t=e.subscriptionPolicies;return null==t?void 0:t.quotaId}))),t=(0,s.unique)(t.filter((function(e){return!!e})))),t}t.getStackSelectionFlag=function(){return(0,n.isFeatureEnabled)("fxcatalogstackselection")},t.checkForCreateFlowOverride=ne,t.getCreateFlowWithMarketplaceItem=ie,t.getCreateFlow=function(e,t){return __awaiter(this,void 0,void 0,(function(){var n,i,r,a,o,l,s,d,c,f,_,p,v,m,h,x,g,b,y,w,I;return __generator(this,(function(P){switch(P.label){case 0:n=C({action:"FxCreateFlow",source:"Marketplace",data:{marketplaceId:e.marketplaceGalleryItemId}}),P.label=1;case 1:return P.trys.push([1,3,,4]),[4,Z(e.marketplaceGalleryItemId)];case 2:return i=P.sent(),[3,4];case 3:return r=P.sent(),S.error(r),k(n,"FailoverRPC"),[2,q(e)];case 4:return P.trys.push([4,7,,8]),(a=null===(g=null===(x=T(i,e.marketplaceGalleryItemId))||void 0===x?void 0:x.metadata)||void 0===g?void 0:g.portalfx_createAssetType)?[4,(0,u.getAllAssetTypesInformation)()]:[3,6];case 5:return o=P.sent(),l=o.find((function(e){return e.assetType===a})),s=MsPortalFx.newGuid(),(null===(b=null==e?void 0:e.launchingContext)||void 0===b?void 0:b.telemetryId)||MsPortalFx.extend(e.launchingContext,{telemetryId:s}),d=l.noPdlCreateBlade,c=l.noPdlCreateExtension,f=l.noPdlCreateParameters,_=l.assetType,p=l.extensionName,v=c||p,m={galleryItemId:e.marketplaceGalleryItemId,blade:d,extension:v,context:null===(y=e.launchingContext)||void 0===y?void 0:y.source,telemetryId:null===(w=e.launchingContext)||void 0===w?void 0:w.telemetryId,isMyGalleryItem:!1,oldCreateApi:!1},D(e.marketplaceGalleryItemId,m),k(n,"CatalogAssetType",{telemetryId:null===(I=e.launchingContext)||void 0===I?void 0:I.telemetryId,extension:v,blade:d}),[2,{bladeName:d,bladeExtension:v,bladeInputs:__assign(__assign({internal_assetTypeInputs:{launchingContext:__assign(__assign({},e.launchingContext),{telemetryId:m.telemetryId}),referenceType:{marketplaceId:e.marketplaceGalleryItemId,assetType:_}}},f),e.additionalConfig)}];case 6:return[3,8];case 7:return h=P.sent(),S.error(h),[3,8];case 8:return[4,ie(e,i,n,t)];case 9:return[2,P.sent()]}}))}))},t.getMarketplaceContext=function(e,t){return __awaiter(this,void 0,void 0,(function(){var n,i,r,a,o,l;return __generator(this,(function(s){switch(s.label){case 0:return[4,Z(e)];case 1:return[4,$(n=s.sent(),e)];case 2:return i=s.sent().uiDefinition,r=y(),l={},a=H,o=[n,e,t,__assign(__assign({},i.options),{initialData:i.initialData})],[4,r];case 3:return[2,(l.marketplaceItem=a.apply(void 0,o.concat([s.sent()])),l.uiDefinition=i,l)]}}))}))},t.isCSPQuotaId=re,t.getSubscriptionPolicyQuotaIds=ae,t.validateSubscriptions=function(e,r){return __awaiter(this,void 0,void 0,(function(){var l;return __generator(this,(function(s){switch(s.label){case 0:return e=K(e),(null==r?void 0:r.length)?"isPrivateOffer"in e&&(null==e?void 0:e.isPrivateOffer)||"isPrivateStore"in e&&(null==e?void 0:e.isPrivateStore)||!(0,n.isFeatureEnabled)("fxmarketplacesubs")?[2,X(e,r)]:(l=r.map((function(n){if(e&&Y(e,"47970b32416a")&&!function(e){return t.msdnQuotaIds.includes(ee(e))}(n))return Promise.resolve({subscriptionId:n.subscriptionId,displayText:o.MarketplaceValidation.msdnOfferRequired});if(e&&Y(e,"enterpriseagreementonly")&&!function(e){return ae(e).some((function(e){return e.toLowerCase()===t.QuotaIds.EnterpriseAgreement}))}([n]))return Promise.resolve({subscriptionId:n.subscriptionId,displayText:o.MarketplaceValidation.eaOfferRequired});if(function(e){return t.notAllowedQuotaIds.includes(ee(e))}(n)||e&&function(e){return!("galleryItemAccess"in e&&0===(null==e?void 0:e.galleryItemAccess)||(null==e?void 0:e.categoryIds.includes("free")))}(e)&&function(e){return t.zeroDollarQuotaIds.includes(ee(e))}(n))return Promise.resolve({subscriptionId:n.subscriptionId,displayText:o.MarketplaceValidation.billableSubscriptionRequired});if(function(e){var t=ae(e);return 1===(null==t?void 0:t.length)&&re(t[0])}([n])&&e){var r="isCSPSelective"in e&&(null==e?void 0:e.isCSPSelective);if("isCSPEnabled"in e&&!e.isCSPEnabled)return Promise.resolve({subscriptionId:n.subscriptionId,displayText:o.MarketplaceValidation.cspNotAllowed});if(!r)return null;if(e.products.length>0)try{var l=e.products[0].offerDetails.publisherId+"."+e.products[0].offerDetails.offerId;return function(e,t){return __awaiter(this,void 0,void 0,(function(){var n,r,l,s,d,u;return __generator(this,(function(f){switch(f.label){case 0:n=(0,c.getMarketplaceOfferAPI)(a.ArmId.stringify({subscription:e},1),t),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,(0,i.batch)({uri:n,requestHeaderDictionary:{"x-ms-pricing-audience":["PartnerCommercial"]},type:"GET",setTelemetryHeader:"checkAllowList"})];case 2:return f.sent(),[3,4];case 3:r=f.sent();try{if(s="",!(null===(u=null==(l=r)?void 0:l.content)||void 0===u?void 0:u.error)&&(s="Could not validate subscription, please retry later.",404===l.httpStatusCode))return I({source:"Marketplace",action:"FxValidateError",data:{subscription:e,offer:t,error:r||"Unknown error"}}),[2,{subscriptionId:e,displayText:s}];if(d=v[l.content.error.code],404===l.httpStatusCode&&d===v.NotEligibleForCSP)return s=l.content.error.message,I({source:"MarketplaceRPC",action:"CSPIsNotEligibibleToBuy",data:{subscription:e,offer:t,error:r||"Unknown error"}}),[2,Promise.resolve({subscriptionId:e,displayText:o.MarketplaceValidation.cspNotAllowed})]}catch(n){I({source:"Marketplace",action:"CSPIsNotEligibibleToBuy",data:{subscription:e,offer:t,error:r||"Unknown error in create launcher"}})}return[3,4];case 4:return[2]}}))}))}(n.subscriptionId,l)}catch(t){return I({source:"MarketplaceExtension",action:"Constructing LegacyId of offer",data:{subscription:n.subscriptionId,galleryItem:e,error:JSON.stringify(t)}}),Promise.resolve({subscriptionId:n.subscriptionId,displayText:"Offer missing details or its products are malformed."})}}return null})).filter((function(e){return!!e})),[4,Promise.all(l)]):[2,Promise.resolve({invalidSubscriptions:[]})];case 1:return[2,{invalidSubscriptions:s.sent().filter((function(e){return!!e}))}]}}))}))}})),
define("FxInternal/CustomDeployment",["require","exports","Fx/Composition/Selectable"],(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCustomDeploymentBladeReference=void 0,t.getCustomDeploymentBladeReference=function(e,t,i){var r={bladeSelection:{detailBlade:"DeployToAzure",detailBladeInputs:{internal_bladeCallId:MsPortalFx.getUniqueId(),internal_bladeCallerParams:{initialData:Object.create(null),providerConfig:MsPortalFx.extend2(i,{provisioningConfig:{provisioningEnabled:!0,dontDiscardJourney:!0,startboardProvisioningInfo:{provisioningPart:{name:"AzureResourceManagerProvisioningPart",extension:"HubsExtension"},startboardPart:{name:"ResourceGroupMapPinnedPart",extension:"HubsExtension"},startboardPartKeyId:"id"},galleryCreateOptions:{galleryItem:{id:"Microsoft.Template",itemDisplayName:"Template deployment (deploy using custom templates)",publisherDisplayName:"Microsoft",version:"2.0.2",categoryIds:{},products:[],productsWithNoPricing:[],specialArtifacts:[],metadata:{leadGeneration:null,testDrive:null,resourceProviderNamespace:{},resourceType:{},supportUrl:null},filters:[],isPrivateOffer:!1,mediumIconUri:"",isCSPEnabled:!0,galleryItemAccess:0},launchingContext:{telemetryId:e,source:[t],galleryItemId:"Microsoft.Template",createBlade:"DeployToAzure"},deploymentName:"Microsoft.Template",deploymentTemplateFileUris:{EmptyTemplate:MsPortalFx.Base.Resources.getVersionlessContentUri("/Content/ResourceTemplates/EmptyTemplate.json")},deploymentFragmentFileUris:{}}}})}},extension:"HubsExtension"},createVersion:1};return new n.PdlBladeReference(r.bladeSelection.detailBlade,r.bladeSelection.extension,{parameters:r.bladeSelection.detailBladeInputs})}})),
define("FxInternal/_generated/Less/WeaveControls/Accordion.Component.css",["module"],(function(e){"use strict";return{css:'.fxc-accordion{display:block;width:100%}.fxc-accordion-disabled{opacity:.5;cursor:default!important;pointer-events:none}.fxc-accordion-section{font-family:az_ea_font,"Segoe UI",az_font,system-ui,-apple-system,BlinkMacSystemFont,Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;font-weight:400;border-style:solid;border-width:0 0 1px;position:relative}.fxc-accordion-section:first-child{border-top-width:1px}.fxc-accordion-section .fxc-markdown{overflow:visible}.fxc-accordion-noborder>.fxc-accordion-section{border:0}.fxc-accordion-heading{margin:0}.fxc-accordion-header{cursor:pointer;font-size:14px;display:flex}.fxc-accordion-header-icon{box-sizing:border-box;height:36px;width:36px;padding:11px 12px;vertical-align:top;flex:0 0 auto}.fxc-accordion-header-icon svg{height:14px;width:12px;vertical-align:top}.fxc-accordion-header-text{line-height:20px;padding:7px 12px 7px 0;flex:1 1 auto;max-width:calc(100% - 36px);overflow:hidden;text-overflow:ellipsis}.fxc-accordion-loading-weave{position:relative;height:24px}.fxc-accordion-section-collapsed>.fxc-accordion-heading>.fxc-accordion-header>.fxc-accordion-header-icon{transition:transform .3s;transform:rotateZ(0deg)}.fxc-accordion-section-expanded>.fxc-accordion-heading>.fxc-accordion-header>.fxc-accordion-header-icon{transition:transform .3s;transform:rotateZ(-180deg)}.fxc-accordion-section-collapsed>.fxc-accordion-panel{max-height:0;padding:0 8px 0 36px;transform:rotateX(-90deg);display:none}.fxc-accordion-section-expanded>.fxc-accordion-panel{max-height:100%;padding:8px 8px 8px 36px;transition:transform .3s;transform-origin:0 0;position:relative}.fxs-mode-dark .fxc-accordion-header-icon svg{color:#a19f9d;fill:#a19f9d}.fxs-mode-dark .fxc-accordion-header-text,.fxs-mode-dark .fxc-accordion-panel{color:var(--colorControlBackgroundDisabledSelected)}body:not(.fxs-mode-highcontrast) .fxc-accordion-header-icon .msportalfx-fill{fill:revert}',moduleId:e.id}})),
define("FxInternal/WeaveControls/Accordion.Component.Internal",["require","exports","Weave/SandboxMode","FxInternal/_generated/Less/WeaveControls/Accordion.Component.css","Weave","FxInternal/Weave/Util","FxInternal/WeaveControls/Common"],(function(e,t,n,i,r,a,o){"use strict";function l(e){return e?0:-1}function s(e){return e||null}Object.defineProperty(t,"__esModule",{value:!0}),t.AccordionInner=void 0,t.AccordionInner=function(e){var t=(0,r.ensureComputation)(e.sections);return n(r.GetContext,{fn:function(c){var u=(0,a.aggregateDisabled)([c.disabled,e.disabled]),f=new r.ElementRef;return n(r.SetContext,{disabled:u},n(r.Css,{css:i}),n("div",{visible:t.compose(a.isNonEmptyArray),className:[e.className,"fxc-accordion",{"fxc-accordion-disabled":u,"fxc-accordion-noborder":e.noFxPadding}],"aria-label":e.ariaLabel},n(r.ForEach,{collection:t,fn:function(e){var t=e.item,i=e.index,_=e.length,p="_accordion_section_".concat(d++),v="".concat(p,"_header"),m="".concat(p,"_panel"),h=(0,o.ensureInputBindingPair)(t.expanded,!1,t.onExpandChange,(function(e){return e.expand})),x=h.field,g=h.onFieldChange,b=x.compose(a.isTruthy),y=x.compose(a.negation);return n("div",{id:p,className:["fxs-portal-border fxc-accordion-section",{"fxc-accordion-section-expanded":b,"fxc-accordion-section-collapsed":y}]},n("h4",{className:"fxc-accordion-heading"},n("div",{role:"button",ref:f,className:"fxc-accordion-header fxs-portal-hover fxs-portal-focus",tabindex:"0",id:v,"aria-controls":m,"aria-expanded":b,"aria-disabled":u.compose(s),onClick:{handler:function(e){var t=e.ltm;(0,r.evaluate)(t,u)||g({ltm:t,expand:!(0,r.evaluate)(t,b)})},stopPropagation:!0,preventDefault:!0},onKeyDown:{handler:function(e){var t=e.ltm,n=e.keyCode;if(!(0,r.evaluate)(t,u))if(40===n||38===n){var a=(0,r.evaluate)(t,_),o=((0,r.evaluate)(t,i)+a+(40===n?1:-1))%a;f.focus(o)}else 13!==n&&32!==n||g({ltm:t,expand:!(0,r.evaluate)(t,b)})},stopPropagation:[40,38,32,13],preventDefault:[40,38,32,13]}},n("span",{className:"fxc-accordion-header-icon",image:MsPortalFx.Base.Images.CaretDown({customClass:"msportalfx-fill"})}),n(r.If,{condition:(0,r.ensureComputation)(t.title),trueFn:function(){return n("div",{className:"fxc-accordion-header-text msportalfx-tooltip-overflow"},t.title)}}))),n("div",{role:"region",className:"fxc-accordion-panel",id:m,"aria-labelledby":v,"aria-hidden":y.compose(s)},n(r.Once,{"data-odebug":"1",condition:(0,r.composeComputation)([b,c.noLazyRender||a.trueComputation],a.or),trueFn:function(){return n(r.SetContext,{tabIndex:b.compose(l)},t.content)}})))}})))}})};var d=0})),
define("FxInternal/Weave/Components/Accordion",["require","exports","Weave/SandboxMode","FxInternal/WeaveControls/Accordion.Component.Internal","FxInternal/WeaveControls/ComponentHandleCore"],(function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Accordion=void 0,t.Accordion=function(e){return(0,r.wrapInsideAggregationNode)(n("div",{visible:e.visible,className:["fxc-accordion-wrapper fxs-validationContainer",e.className]},(0,i.AccordionInner)(__assign(__assign({},e),{className:null}))),e.handle||(0,r.makeSimpleComponentHandle)(),e.visible)}})),
define("FxInternal/Weave/Components/PcControl",["require","exports","Weave/SandboxMode","Weave","FxInternal/Utils/ValidationHelper","Weave/Core/InternalUtil","FxInternal/WeaveControls/Common"],(function(e,t,n,i,r,a,o){"use strict";var l;Object.defineProperty(t,"__esModule",{value:!0}),t.PcControl=void 0;var s=new MsPortalFx.Base.Diagnostics.Log("FxInternal/Weave/Components/PcControl");t.PcControl=function(e){var t=e.container,l=e.vm,c=e.tagName||"div",u=l&&15!==l.controlType?e.className?["fxc-weave-pccontrol",e.className]:["fxc-weave-pccontrol"]:e.className,f=(0,a.WeaveTsx)(c,__assign(__assign({},e),{className:u,pcControl:l,container:void 0,tagName:void 0,vm:void 0}));return l?((0,o.isControlValidatable)(l)&&t&&(0,r.setOnTriggerValidationCallback)(l,(function(){t._internal_noLazyRender(!0)})),n(i.GetContext,{fn:function(e){if(e.hostedInExtension){var t=15===l.controlType?"tabs"in l?"Fx/Controls/TabControl":"Fx/Controls/Section":d[l.controlType];t&&s.warning("".concat(e.extensionName,"/").concat(e.partName," is using ").concat(t,", which is not recommended in TemplateBlade2 for performance and maintainance reason, please check out this doc for replacement: https://aka.ms/portalfx/weave/controlmapping"))}return(0,o.patchFieldControlVM)(e,l),(0,o.tryWrapAggregationSourceForFieldControlVM)(l,f)}})):n(i.GetContext,{fn:function(e){return s.error("".concat(l,' is passed as "vm" into PcControl component of "').concat(e.extensionName,"/").concat(e.partName,"\", it's very likely a code bug.")),f}})};var d=((l={})[23]="Fx/Controls/CustomHtml",l[207]="Fx/Controls/Splitter2",l[127]="Fx/Controls/Accordion",l)})),
//! zip.js
//! authors : Gildas Lormeau
//! license : BSD
//! http://gildas-lormeau.github.com/zip.js/
//!
//! Copyright (c) 2013 Gildas Lormeau. All rights reserved.
//!
//! Redistribution and use in source and binary forms, with or without
//! modification, are permitted provided that the following conditions are met:
//!
//! 1. Redistributions of source code must retain the above copyright notice,
//! this list of conditions and the following disclaimer.
//!
//! 2. Redistributions in binary form must reproduce the above copyright
//! notice, this list of conditions and the following disclaimer in
//! the documentation and/or other materials provided with the distribution.
//!
//! 3. The names of the authors may not be used to endorse or promote products
//! derived from this software without specific prior written permission.
//!
//! THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,
//! INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
//! FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,
//! INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,
//! INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
//! LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
//! OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
//! LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
//! NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
//! EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
define("_oss/zip",["require"],(function(e){!function(e){"use strict";var t=15,n=256,i=573,r=256,a=-2,o=-5,l=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];function s(){var e=this;function n(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}e.build_tree=function(r){var a,o,l,s=e.dyn_tree,d=e.stat_desc.static_tree,c=e.stat_desc.elems,u=-1;for(r.heap_len=0,r.heap_max=i,a=0;a<c;a++)0!==s[2*a]?(r.heap[++r.heap_len]=u=a,r.depth[a]=0):s[2*a+1]=0;for(;r.heap_len<2;)s[2*(l=r.heap[++r.heap_len]=u<2?++u:0)]=1,r.depth[l]=0,r.opt_len--,d&&(r.static_len-=d[2*l+1]);for(e.max_code=u,a=Math.floor(r.heap_len/2);a>=1;a--)r.pqdownheap(s,a);l=c;do{a=r.heap[1],r.heap[1]=r.heap[r.heap_len--],r.pqdownheap(s,1),o=r.heap[1],r.heap[--r.heap_max]=a,r.heap[--r.heap_max]=o,s[2*l]=s[2*a]+s[2*o],r.depth[l]=Math.max(r.depth[a],r.depth[o])+1,s[2*a+1]=s[2*o+1]=l,r.heap[1]=l++,r.pqdownheap(s,1)}while(r.heap_len>=2);r.heap[--r.heap_max]=r.heap[1],function(n){var r,a,o,l,s,d,c=e.dyn_tree,u=e.stat_desc.static_tree,f=e.stat_desc.extra_bits,_=e.stat_desc.extra_base,p=e.stat_desc.max_length,v=0;for(l=0;l<=t;l++)n.bl_count[l]=0;for(c[2*n.heap[n.heap_max]+1]=0,r=n.heap_max+1;r<i;r++)(l=c[2*c[2*(a=n.heap[r])+1]+1]+1)>p&&(l=p,v++),c[2*a+1]=l,a>e.max_code||(n.bl_count[l]++,s=0,a>=_&&(s=f[a-_]),d=c[2*a],n.opt_len+=d*(l+s),u&&(n.static_len+=d*(u[2*a+1]+s)));if(0!==v){do{for(l=p-1;0===n.bl_count[l];)l--;n.bl_count[l]--,n.bl_count[l+1]+=2,n.bl_count[p]--,v-=2}while(v>0);for(l=p;0!==l;l--)for(a=n.bl_count[l];0!==a;)(o=n.heap[--r])>e.max_code||(c[2*o+1]!=l&&(n.opt_len+=(l-c[2*o+1])*c[2*o],c[2*o+1]=l),a--)}}(r),function(e,i,r){var a,o,l,s=[],d=0;for(a=1;a<=t;a++)s[a]=d=d+r[a-1]<<1;for(o=0;o<=i;o++)0!==(l=e[2*o+1])&&(e[2*o]=n(s[l]++,l))}(s,e.max_code,r.bl_count)}}function d(e,t,n,i,r){var a=this;a.static_tree=e,a.extra_bits=t,a.extra_base=n,a.elems=i,a.max_length=r}s._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],s.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],s.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],s.d_code=function(e){return e<256?l[e]:l[256+(e>>>7)]},s.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],s.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],s.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],d.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],d.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],d.static_l_desc=new d(d.static_ltree,s.extra_lbits,257,286,t),d.static_d_desc=new d(d.static_dtree,s.extra_dbits,0,30,t),d.static_bl_desc=new d(null,s.extra_blbits,0,19,7);function c(e,t,n,i,r){var a=this;a.good_length=e,a.max_lazy=t,a.nice_length=n,a.max_chain=i,a.func=r}var u=[new c(0,0,0,0,0),new c(4,4,8,4,1),new c(4,5,16,8,1),new c(4,6,32,32,1),new c(4,4,16,16,2),new c(8,16,32,32,2),new c(8,16,128,128,2),new c(8,32,128,256,2),new c(32,128,258,1024,2),new c(32,258,258,4096,2)],f=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],_=113,p=666,v=258,m=262;function h(e,t,n,i){var r=e[2*t],a=e[2*n];return r<a||r==a&&i[t]<=i[n]}function x(){var e,t,i,l,c,x,g,b,y,w,I,C,k,S,P,U,A,F,D,T,M,B,z,L,E,N,O,R,G,Q,W,H,V,q,j,K,J,Y,Z,$,X,ee=this,te=new s,ne=new s,ie=new s;function re(){var e;for(e=0;e<286;e++)W[2*e]=0;for(e=0;e<30;e++)H[2*e]=0;for(e=0;e<19;e++)V[2*e]=0;W[512]=1,ee.opt_len=ee.static_len=0,K=Y=0}function ae(e,t){var n,i,r=-1,a=e[1],o=0,l=7,s=4;for(0===a&&(l=138,s=3),e[2*(t+1)+1]=65535,n=0;n<=t;n++)i=a,a=e[2*(n+1)+1],++o<l&&i==a||(o<s?V[2*i]+=o:0!==i?(i!=r&&V[2*i]++,V[32]++):o<=10?V[34]++:V[36]++,o=0,r=i,0===a?(l=138,s=3):i==a?(l=6,s=3):(l=7,s=4))}function oe(e){ee.pending_buf[ee.pending++]=e}function le(e){oe(255&e),oe(e>>>8&255)}function se(e,t){var n,i=t;X>16-i?(le($|=(n=e)<<X&65535),$=n>>>16-X,X+=i-16):($|=e<<X&65535,X+=i)}function de(e,t){var n=2*e;se(65535&t[n],65535&t[n+1])}function ce(e,t){var n,i,r=-1,a=e[1],o=0,l=7,s=4;for(0===a&&(l=138,s=3),n=0;n<=t;n++)if(i=a,a=e[2*(n+1)+1],!(++o<l&&i==a)){if(o<s)do{de(i,V)}while(0!=--o);else 0!==i?(i!=r&&(de(i,V),o--),de(16,V),se(o-3,2)):o<=10?(de(17,V),se(o-3,3)):(de(18,V),se(o-11,7));o=0,r=i,0===a?(l=138,s=3):i==a?(l=6,s=3):(l=7,s=4)}}function ue(){16==X?(le($),$=0,X=0):X>=8&&(oe(255&$),$>>>=8,X-=8)}function fe(e,t){var i,r,a;if(ee.pending_buf[J+2*K]=e>>>8&255,ee.pending_buf[J+2*K+1]=255&e,ee.pending_buf[q+K]=255&t,K++,0===e?W[2*t]++:(Y++,e--,W[2*(s._length_code[t]+n+1)]++,H[2*s.d_code(e)]++),0==(8191&K)&&O>2){for(i=8*K,r=M-A,a=0;a<30;a++)i+=H[2*a]*(5+s.extra_dbits[a]);if(i>>>=3,Y<Math.floor(K/2)&&i<Math.floor(r/2))return!0}return K==j-1}function _e(e,t){var i,a,o,l,d=0;if(0!==K)do{i=ee.pending_buf[J+2*d]<<8&65280|255&ee.pending_buf[J+2*d+1],a=255&ee.pending_buf[q+d],d++,0===i?de(a,e):(de((o=s._length_code[a])+n+1,e),0!==(l=s.extra_lbits[o])&&se(a-=s.base_length[o],l),i--,de(o=s.d_code(i),t),0!==(l=s.extra_dbits[o])&&se(i-=s.base_dist[o],l))}while(d<K);de(r,e),Z=e[513]}function pe(){X>8?le($):X>0&&oe(255&$),$=0,X=0}function ve(e,t,n){se(0+(n?1:0),3),function(e,t,n){pe(),Z=8,n&&(le(t),le(~t)),ee.pending_buf.set(b.subarray(e,e+t),ee.pending),ee.pending+=t}(e,t,!0)}function me(e,t,n){var i,r,a=0;O>0?(te.build_tree(ee),ne.build_tree(ee),a=function(){var e;for(ae(W,te.max_code),ae(H,ne.max_code),ie.build_tree(ee),e=18;e>=3&&0===V[2*s.bl_order[e]+1];e--);return ee.opt_len+=3*(e+1)+5+5+4,e}(),i=ee.opt_len+3+7>>>3,(r=ee.static_len+3+7>>>3)<=i&&(i=r)):i=r=t+5,t+4<=i&&-1!=e?ve(e,t,n):r==i?(se(2+(n?1:0),3),_e(d.static_ltree,d.static_dtree)):(se(4+(n?1:0),3),function(e,t,n){var i;for(se(e-257,5),se(t-1,5),se(n-4,4),i=0;i<n;i++)se(V[2*s.bl_order[i]+1],3);ce(W,e-1),ce(H,t-1)}(te.max_code+1,ne.max_code+1,a+1),_e(W,H)),re(),n&&pe()}function he(t){me(A>=0?A:-1,M-A,t),A=M,e.flush_pending()}function xe(){var t,n,i,r;do{if(0===(r=y-z-M)&&0===M&&0===z)r=c;else if(-1==r)r--;else if(M>=c+c-m){b.set(b.subarray(c,c+c),0),B-=c,M-=c,A-=c,i=t=k;do{n=65535&I[--i],I[i]=n>=c?n-c:0}while(0!=--t);i=t=c;do{n=65535&w[--i],w[i]=n>=c?n-c:0}while(0!=--t);r+=c}if(0===e.avail_in)return;t=e.read_buf(b,M+z,r),(z+=t)>=3&&(C=((C=255&b[M])<<U^255&b[M+1])&P)}while(z<m&&0!==e.avail_in)}function ge(e){var t,n,i=E,r=M,a=L,o=M>c-m?M-(c-m):0,l=Q,s=g,d=M+v,u=b[r+a-1],f=b[r+a];L>=G&&(i>>=2),l>z&&(l=z);do{if(b[(t=e)+a]==f&&b[t+a-1]==u&&b[t]==b[r]&&b[++t]==b[r+1]){r+=2,t++;do{}while(b[++r]==b[++t]&&b[++r]==b[++t]&&b[++r]==b[++t]&&b[++r]==b[++t]&&b[++r]==b[++t]&&b[++r]==b[++t]&&b[++r]==b[++t]&&b[++r]==b[++t]&&r<d);if(n=v-(d-r),r=d-v,n>a){if(B=e,a=n,n>=l)break;u=b[r+a-1],f=b[r+a]}}}while((e=65535&w[e&s])>o&&0!=--i);return a<=z?a:z}function be(e){return e.total_in=e.total_out=0,e.msg=null,ee.pending=0,ee.pending_out=0,t=_,l=0,te.dyn_tree=W,te.stat_desc=d.static_l_desc,ne.dyn_tree=H,ne.stat_desc=d.static_d_desc,ie.dyn_tree=V,ie.stat_desc=d.static_bl_desc,$=0,X=0,Z=8,re(),function(){var e;for(y=2*c,I[k-1]=0,e=0;e<k-1;e++)I[e]=0;N=u[O].max_lazy,G=u[O].good_length,Q=u[O].nice_length,E=u[O].max_chain,M=0,A=0,z=0,F=L=2,T=0,C=0}(),0}ee.depth=[],ee.bl_count=[],ee.heap=[],W=[],H=[],V=[],ee.pqdownheap=function(e,t){for(var n=ee.heap,i=n[t],r=t<<1;r<=ee.heap_len&&(r<ee.heap_len&&h(e,n[r+1],n[r],ee.depth)&&r++,!h(e,i,n[r],ee.depth));)n[t]=n[r],t=r,r<<=1;n[t]=i},ee.deflateInit=function(e,t,n,r,o,l){return r||(r=8),o||(o=8),l||(l=0),e.msg=null,-1==t&&(t=6),o<1||o>9||8!=r||n<9||n>15||t<0||t>9||l<0||l>2?a:(e.dstate=ee,g=(c=1<<(x=n))-1,P=(k=1<<(S=o+7))-1,U=Math.floor((S+3-1)/3),b=new Uint8Array(2*c),w=[],I=[],j=1<<o+6,ee.pending_buf=new Uint8Array(4*j),i=4*j,J=Math.floor(j/2),q=3*j,O=t,R=l,255&r,be(e))},ee.deflateEnd=function(){return 42!=t&&t!=_&&t!=p?a:(ee.pending_buf=null,I=null,w=null,b=null,ee.dstate=null,t==_?-3:0)},ee.deflateParams=function(e,t,n){var i=0;return-1==t&&(t=6),t<0||t>9||n<0||n>2?a:(u[O].func!=u[t].func&&0!==e.total_in&&(i=e.deflate(1)),O!=t&&(N=u[O=t].max_lazy,G=u[O].good_length,Q=u[O].nice_length,E=u[O].max_chain),R=n,i)},ee.deflateSetDictionary=function(e,n,i){var r,o=i,l=0;if(!n||42!=t)return a;if(o<3)return 0;for(o>c-m&&(l=i-(o=c-m)),b.set(n.subarray(l,l+o),0),M=o,A=o,C=((C=255&b[0])<<U^255&b[1])&P,r=0;r<=o-3;r++)C=(C<<U^255&b[r+2])&P,w[r&g]=I[C],I[C]=r;return 0},ee.deflate=function(n,s){var v,h,y,S,E,G;if(s>4||s<0)return a;if(!n.next_out||!n.next_in&&0!==n.avail_in||t==p&&4!=s)return n.msg=f[4],a;if(0===n.avail_out)return n.msg=f[7],o;if(e=n,S=l,l=s,42==t&&(h=8+(x-8<<4)<<8,(y=(O-1&255)>>1)>3&&(y=3),h|=y<<6,0!==M&&(h|=32),t=_,oe((G=h+=31-h%31)>>8&255),oe(255&G)),0!==ee.pending){if(e.flush_pending(),0===e.avail_out)return l=-1,0}else if(0===e.avail_in&&s<=S&&4!=s)return e.msg=f[7],o;if(t==p&&0!==e.avail_in)return n.msg=f[7],o;if(0!==e.avail_in||0!==z||0!=s&&t!=p){switch(E=-1,u[O].func){case 0:E=function(t){var n,r=65535;for(r>i-5&&(r=i-5);;){if(z<=1){if(xe(),0===z&&0==t)return 0;if(0===z)break}if(M+=z,z=0,n=A+r,(0===M||M>=n)&&(z=M-n,M=n,he(!1),0===e.avail_out))return 0;if(M-A>=c-m&&(he(!1),0===e.avail_out))return 0}return he(4==t),0===e.avail_out?4==t?2:0:4==t?3:1}(s);break;case 1:E=function(t){for(var n,i=0;;){if(z<m){if(xe(),z<m&&0==t)return 0;if(0===z)break}if(z>=3&&(C=(C<<U^255&b[M+2])&P,i=65535&I[C],w[M&g]=I[C],I[C]=M),0!==i&&(M-i&65535)<=c-m&&2!=R&&(F=ge(i)),F>=3)if(n=fe(M-B,F-3),z-=F,F<=N&&z>=3){F--;do{M++,C=(C<<U^255&b[M+2])&P,i=65535&I[C],w[M&g]=I[C],I[C]=M}while(0!=--F);M++}else M+=F,F=0,C=((C=255&b[M])<<U^255&b[M+1])&P;else n=fe(0,255&b[M]),z--,M++;if(n&&(he(!1),0===e.avail_out))return 0}return he(4==t),0===e.avail_out?4==t?2:0:4==t?3:1}(s);break;case 2:E=function(t){for(var n,i,r=0;;){if(z<m){if(xe(),z<m&&0==t)return 0;if(0===z)break}if(z>=3&&(C=(C<<U^255&b[M+2])&P,r=65535&I[C],w[M&g]=I[C],I[C]=M),L=F,D=B,F=2,0!==r&&L<N&&(M-r&65535)<=c-m&&(2!=R&&(F=ge(r)),F<=5&&(1==R||3==F&&M-B>4096)&&(F=2)),L>=3&&F<=L){i=M+z-3,n=fe(M-1-D,L-3),z-=L-1,L-=2;do{++M<=i&&(C=(C<<U^255&b[M+2])&P,r=65535&I[C],w[M&g]=I[C],I[C]=M)}while(0!=--L);if(T=0,F=2,M++,n&&(he(!1),0===e.avail_out))return 0}else if(0!==T){if((n=fe(0,255&b[M-1]))&&he(!1),M++,z--,0===e.avail_out)return 0}else T=1,M++,z--}return 0!==T&&(n=fe(0,255&b[M-1]),T=0),he(4==t),0===e.avail_out?4==t?2:0:4==t?3:1}(s)}if(2!=E&&3!=E||(t=p),0==E||2==E)return 0===e.avail_out&&(l=-1),0;if(1==E){if(1==s)se(2,3),de(r,d.static_ltree),ue(),1+Z+10-X<9&&(se(2,3),de(r,d.static_ltree),ue()),Z=7;else if(ve(0,0,!1),3==s)for(v=0;v<k;v++)I[v]=0;if(e.flush_pending(),0===e.avail_out)return l=-1,0}}return 4!=s?0:1}}function g(){var e=this;e.next_in_index=0,e.next_out_index=0,e.avail_in=0,e.total_in=0,e.avail_out=0,e.total_out=0}g.prototype={deflateInit:function(e,n){var i=this;return i.dstate=new x,n||(n=t),i.dstate.deflateInit(i,e,n)},deflate:function(e){var t=this;return t.dstate?t.dstate.deflate(t,e):a},deflateEnd:function(){var e=this;if(!e.dstate)return a;var t=e.dstate.deflateEnd();return e.dstate=null,t},deflateParams:function(e,t){var n=this;return n.dstate?n.dstate.deflateParams(n,e,t):a},deflateSetDictionary:function(e,t){var n=this;return n.dstate?n.dstate.deflateSetDictionary(n,e,t):a},read_buf:function(e,t,n){var i=this,r=i.avail_in;return r>n&&(r=n),0===r?0:(i.avail_in-=r,e.set(i.next_in.subarray(i.next_in_index,i.next_in_index+r),t),i.next_in_index+=r,i.total_in+=r,r)},flush_pending:function(){var e=this,t=e.dstate.pending;t>e.avail_out&&(t=e.avail_out),0!==t&&(e.next_out.set(e.dstate.pending_buf.subarray(e.dstate.pending_out,e.dstate.pending_out+t),e.next_out_index),e.next_out_index+=t,e.dstate.pending_out+=t,e.total_out+=t,e.avail_out-=t,e.dstate.pending-=t,0===e.dstate.pending&&(e.dstate.pending_out=0))}};var b=e.zip||e;b.Deflater=b._jzlib_Deflater=function(e){var t=new g,n=512,i=new Uint8Array(n),r=e?e.level:-1;void 0===r&&(r=-1),t.deflateInit(r),t.next_out=i,this.append=function(e,r){var a,o=[],l=0,s=0,d=0;if(e.length){t.next_in_index=0,t.next_in=e,t.avail_in=e.length;do{if(t.next_out_index=0,t.avail_out=n,0!=t.deflate(0))throw new Error("deflating: "+t.msg);t.next_out_index&&(t.next_out_index==n?o.push(new Uint8Array(i)):o.push(new Uint8Array(i.subarray(0,t.next_out_index)))),d+=t.next_out_index,r&&t.next_in_index>0&&t.next_in_index!=l&&(r(t.next_in_index),l=t.next_in_index)}while(t.avail_in>0||0===t.avail_out);return a=new Uint8Array(d),o.forEach((function(e){a.set(e,s),s+=e.length})),a}},this.flush=function(){var e,r,a=[],o=0,l=0;do{if(t.next_out_index=0,t.avail_out=n,1!=(e=t.deflate(4))&&0!=e)throw new Error("deflating: "+t.msg);n-t.avail_out>0&&a.push(new Uint8Array(i.subarray(0,t.next_out_index))),l+=t.next_out_index}while(t.avail_in>0||0===t.avail_out);return t.deflateEnd(),r=new Uint8Array(l),a.forEach((function(e){r.set(e,o),o+=e.length})),r}}}(this),function(e){"use strict";var t=0,n=1,i=-2,r=-3,a=-4,o=-5,l=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],s=1440,d=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],c=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],_=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],p=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],v=15;function m(){var e,n,i,l,d,c;function m(e,n,a,u,f,_,p,m,h,x,g){var b,y,w,I,C,k,S,P,U,A,F,D,T,M,B;A=0,C=a;do{i[e[n+A]]++,A++,C--}while(0!==C);if(i[0]==a)return p[0]=-1,m[0]=0,t;for(P=m[0],k=1;k<=v&&0===i[k];k++);for(S=k,P<k&&(P=k),C=v;0!==C&&0===i[C];C--);for(w=C,P>C&&(P=C),m[0]=P,M=1<<k;k<C;k++,M<<=1)if((M-=i[k])<0)return r;if((M-=i[C])<0)return r;for(i[C]+=M,c[1]=k=0,A=1,T=2;0!=--C;)c[T]=k+=i[A],T++,A++;C=0,A=0;do{0!==(k=e[n+A])&&(g[c[k]++]=C),A++}while(++C<a);for(a=c[w],c[0]=C=0,A=0,I=-1,D=-P,d[0]=0,F=0,B=0;S<=w;S++)for(b=i[S];0!=b--;){for(;S>D+P;){if(I++,B=(B=w-(D+=P))>P?P:B,(y=1<<(k=S-D))>b+1&&(y-=b+1,T=S,k<B))for(;++k<B&&!((y<<=1)<=i[++T]);)y-=i[T];if(B=1<<k,x[0]+B>s)return r;d[I]=F=x[0],x[0]+=B,0!==I?(c[I]=C,l[0]=k,l[1]=P,k=C>>>D-P,l[2]=F-d[I-1]-k,h.set(l,3*(d[I-1]+k))):p[0]=F}for(l[1]=S-D,A>=a?l[0]=192:g[A]<u?(l[0]=g[A]<256?0:96,l[2]=g[A++]):(l[0]=_[g[A]-u]+16+64,l[2]=f[g[A++]-u]),y=1<<S-D,k=C>>>D;k<B;k+=y)h.set(l,3*(F+k));for(k=1<<S-1;0!=(C&k);k>>>=1)C^=k;for(C^=k,U=(1<<D)-1;(C&U)!=c[I];)I--,U=(1<<(D-=P))-1}return 0!==M&&1!=w?o:t}function h(t){var r;for(e||(e=[],n=[],i=new Int32Array(v+1),l=[],d=new Int32Array(v),c=new Int32Array(v+1)),n.length<t&&(n=[]),r=0;r<t;r++)n[r]=0;for(r=0;r<v+1;r++)i[r]=0;for(r=0;r<3;r++)l[r]=0;d.set(i.subarray(0,v),0),c.set(i.subarray(0,v+1),0)}this.inflate_trees_bits=function(t,i,a,l,s){var d;return h(19),e[0]=0,(d=m(t,0,19,19,null,null,a,i,l,e,n))==r?s.msg="oversubscribed dynamic bit lengths tree":d!=o&&0!==i[0]||(s.msg="incomplete dynamic bit lengths tree",d=r),d},this.inflate_trees_dynamic=function(i,l,s,d,c,v,x,g,b){var y;return h(288),e[0]=0,(y=m(s,0,i,257,u,f,v,d,g,e,n))!=t||0===d[0]?(y==r?b.msg="oversubscribed literal/length tree":y!=a&&(b.msg="incomplete literal/length tree",y=r),y):(h(288),(y=m(s,i,l,0,_,p,x,c,g,e,n))!=t||0===c[0]&&i>257?(y==r?b.msg="oversubscribed distance tree":y==o?(b.msg="incomplete distance tree",y=r):y!=a&&(b.msg="empty distance tree with lengths",y=r),y):t)}}m.inflate_trees_fixed=function(e,n,i,r){return e[0]=9,n[0]=5,i[0]=d,r[0]=c,t};var h=0,x=1,g=2,b=3,y=4,w=5,I=6,C=7,k=8,S=9;function P(){var e,a,o,s,d=this,c=0,u=0,f=0,_=0,p=0,v=0,m=0,P=0,U=0,A=0;function F(e,i,a,o,s,d,c,u){var f,_,p,v,m,h,x,g,b,y,w,I,C,k,S,P;x=u.next_in_index,g=u.avail_in,m=c.bitb,h=c.bitk,y=(b=c.write)<c.read?c.read-b-1:c.end-b,w=l[e],I=l[i];do{for(;h<20;)g--,m|=(255&u.read_byte(x++))<<h,h+=8;if(0!==(v=(_=a)[P=3*((p=o)+(f=m&w))]))for(;;){if(m>>=_[P+1],h-=_[P+1],0!=(16&v)){for(v&=15,C=_[P+2]+(m&l[v]),m>>=v,h-=v;h<15;)g--,m|=(255&u.read_byte(x++))<<h,h+=8;for(v=(_=s)[P=3*((p=d)+(f=m&I))];;){if(m>>=_[P+1],h-=_[P+1],0!=(16&v)){for(v&=15;h<v;)g--,m|=(255&u.read_byte(x++))<<h,h+=8;if(k=_[P+2]+(m&l[v]),m>>=v,h-=v,y-=C,b>=k)b-(S=b-k)>0&&2>b-S?(c.window[b++]=c.window[S++],c.window[b++]=c.window[S++],C-=2):(c.window.set(c.window.subarray(S,S+2),b),b+=2,S+=2,C-=2);else{S=b-k;do{S+=c.end}while(S<0);if(C>(v=c.end-S)){if(C-=v,b-S>0&&v>b-S)do{c.window[b++]=c.window[S++]}while(0!=--v);else c.window.set(c.window.subarray(S,S+v),b),b+=v,S+=v,v=0;S=0}}if(b-S>0&&C>b-S)do{c.window[b++]=c.window[S++]}while(0!=--C);else c.window.set(c.window.subarray(S,S+C),b),b+=C,S+=C,C=0;break}if(0!=(64&v))return u.msg="invalid distance code",g+=C=h>>3<(C=u.avail_in-g)?h>>3:C,x-=C,h-=C<<3,c.bitb=m,c.bitk=h,u.avail_in=g,u.total_in+=x-u.next_in_index,u.next_in_index=x,c.write=b,r;f+=_[P+2],v=_[P=3*(p+(f+=m&l[v]))]}break}if(0!=(64&v))return 0!=(32&v)?(g+=C=h>>3<(C=u.avail_in-g)?h>>3:C,x-=C,h-=C<<3,c.bitb=m,c.bitk=h,u.avail_in=g,u.total_in+=x-u.next_in_index,u.next_in_index=x,c.write=b,n):(u.msg="invalid literal/length code",g+=C=h>>3<(C=u.avail_in-g)?h>>3:C,x-=C,h-=C<<3,c.bitb=m,c.bitk=h,u.avail_in=g,u.total_in+=x-u.next_in_index,u.next_in_index=x,c.write=b,r);if(f+=_[P+2],0===(v=_[P=3*(p+(f+=m&l[v]))])){m>>=_[P+1],h-=_[P+1],c.window[b++]=_[P+2],y--;break}}else m>>=_[P+1],h-=_[P+1],c.window[b++]=_[P+2],y--}while(y>=258&&g>=10);return g+=C=h>>3<(C=u.avail_in-g)?h>>3:C,x-=C,h-=C<<3,c.bitb=m,c.bitk=h,u.avail_in=g,u.total_in+=x-u.next_in_index,u.next_in_index=x,c.write=b,t}d.init=function(t,n,i,r,l,d){e=h,m=t,P=n,o=i,U=r,s=l,A=d,a=null},d.proc=function(d,D,T){var M,B,z,L,E,N,O,R=0,G=0,Q=0;for(Q=D.next_in_index,L=D.avail_in,R=d.bitb,G=d.bitk,N=(E=d.write)<d.read?d.read-E-1:d.end-E;;)switch(e){case h:if(N>=258&&L>=10&&(d.bitb=R,d.bitk=G,D.avail_in=L,D.total_in+=Q-D.next_in_index,D.next_in_index=Q,d.write=E,T=F(m,P,o,U,s,A,d,D),Q=D.next_in_index,L=D.avail_in,R=d.bitb,G=d.bitk,N=(E=d.write)<d.read?d.read-E-1:d.end-E,T!=t)){e=T==n?C:S;break}f=m,a=o,u=U,e=x;case x:for(M=f;G<M;){if(0===L)return d.bitb=R,d.bitk=G,D.avail_in=L,D.total_in+=Q-D.next_in_index,D.next_in_index=Q,d.write=E,d.inflate_flush(D,T);T=t,L--,R|=(255&D.read_byte(Q++))<<G,G+=8}if(B=3*(u+(R&l[M])),R>>>=a[B+1],G-=a[B+1],0===(z=a[B])){_=a[B+2],e=I;break}if(0!=(16&z)){p=15&z,c=a[B+2],e=g;break}if(0==(64&z)){f=z,u=B/3+a[B+2];break}if(0!=(32&z)){e=C;break}return e=S,D.msg="invalid literal/length code",T=r,d.bitb=R,d.bitk=G,D.avail_in=L,D.total_in+=Q-D.next_in_index,D.next_in_index=Q,d.write=E,d.inflate_flush(D,T);case g:for(M=p;G<M;){if(0===L)return d.bitb=R,d.bitk=G,D.avail_in=L,D.total_in+=Q-D.next_in_index,D.next_in_index=Q,d.write=E,d.inflate_flush(D,T);T=t,L--,R|=(255&D.read_byte(Q++))<<G,G+=8}c+=R&l[M],R>>=M,G-=M,f=P,a=s,u=A,e=b;case b:for(M=f;G<M;){if(0===L)return d.bitb=R,d.bitk=G,D.avail_in=L,D.total_in+=Q-D.next_in_index,D.next_in_index=Q,d.write=E,d.inflate_flush(D,T);T=t,L--,R|=(255&D.read_byte(Q++))<<G,G+=8}if(B=3*(u+(R&l[M])),R>>=a[B+1],G-=a[B+1],0!=(16&(z=a[B]))){p=15&z,v=a[B+2],e=y;break}if(0==(64&z)){f=z,u=B/3+a[B+2];break}return e=S,D.msg="invalid distance code",T=r,d.bitb=R,d.bitk=G,D.avail_in=L,D.total_in+=Q-D.next_in_index,D.next_in_index=Q,d.write=E,d.inflate_flush(D,T);case y:for(M=p;G<M;){if(0===L)return d.bitb=R,d.bitk=G,D.avail_in=L,D.total_in+=Q-D.next_in_index,D.next_in_index=Q,d.write=E,d.inflate_flush(D,T);T=t,L--,R|=(255&D.read_byte(Q++))<<G,G+=8}v+=R&l[M],R>>=M,G-=M,e=w;case w:for(O=E-v;O<0;)O+=d.end;for(;0!==c;){if(0===N&&(E==d.end&&0!==d.read&&(N=(E=0)<d.read?d.read-E-1:d.end-E),0===N&&(d.write=E,T=d.inflate_flush(D,T),N=(E=d.write)<d.read?d.read-E-1:d.end-E,E==d.end&&0!==d.read&&(N=(E=0)<d.read?d.read-E-1:d.end-E),0===N)))return d.bitb=R,d.bitk=G,D.avail_in=L,D.total_in+=Q-D.next_in_index,D.next_in_index=Q,d.write=E,d.inflate_flush(D,T);d.window[E++]=d.window[O++],N--,O==d.end&&(O=0),c--}e=h;break;case I:if(0===N&&(E==d.end&&0!==d.read&&(N=(E=0)<d.read?d.read-E-1:d.end-E),0===N&&(d.write=E,T=d.inflate_flush(D,T),N=(E=d.write)<d.read?d.read-E-1:d.end-E,E==d.end&&0!==d.read&&(N=(E=0)<d.read?d.read-E-1:d.end-E),0===N)))return d.bitb=R,d.bitk=G,D.avail_in=L,D.total_in+=Q-D.next_in_index,D.next_in_index=Q,d.write=E,d.inflate_flush(D,T);T=t,d.window[E++]=_,N--,e=h;break;case C:if(G>7&&(G-=8,L++,Q--),d.write=E,T=d.inflate_flush(D,T),N=(E=d.write)<d.read?d.read-E-1:d.end-E,d.read!=d.write)return d.bitb=R,d.bitk=G,D.avail_in=L,D.total_in+=Q-D.next_in_index,D.next_in_index=Q,d.write=E,d.inflate_flush(D,T);e=k;case k:return T=n,d.bitb=R,d.bitk=G,D.avail_in=L,D.total_in+=Q-D.next_in_index,D.next_in_index=Q,d.write=E,d.inflate_flush(D,T);case S:return T=r,d.bitb=R,d.bitk=G,D.avail_in=L,D.total_in+=Q-D.next_in_index,D.next_in_index=Q,d.write=E,d.inflate_flush(D,T);default:return T=i,d.bitb=R,d.bitk=G,D.avail_in=L,D.total_in+=Q-D.next_in_index,D.next_in_index=Q,d.write=E,d.inflate_flush(D,T)}},d.free=function(){}}var U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],A=0,F=1,D=2,T=3,M=4,B=5,z=6,L=7,E=8,N=9;function O(e,a){var d,c=this,u=A,f=0,_=0,p=0,v=[0],h=[0],x=new P,g=0,b=new Int32Array(3*s),y=new m;c.bitk=0,c.bitb=0,c.window=new Uint8Array(a),c.end=a,c.read=0,c.write=0,c.reset=function(e,t){t&&(t[0]=0),u==z&&x.free(e),u=A,c.bitk=0,c.bitb=0,c.read=c.write=0},c.reset(e,null),c.inflate_flush=function(e,n){var i,r,a;return r=e.next_out_index,(i=((a=c.read)<=c.write?c.write:c.end)-a)>e.avail_out&&(i=e.avail_out),0!==i&&n==o&&(n=t),e.avail_out-=i,e.total_out+=i,e.next_out.set(c.window.subarray(a,a+i),r),r+=i,(a+=i)==c.end&&(a=0,c.write==c.end&&(c.write=0),(i=c.write-a)>e.avail_out&&(i=e.avail_out),0!==i&&n==o&&(n=t),e.avail_out-=i,e.total_out+=i,e.next_out.set(c.window.subarray(a,a+i),r),r+=i,a+=i),e.next_out_index=r,c.read=a,n},c.proc=function(e,a){var o,s,w,I,C,k,S,P;for(I=e.next_in_index,C=e.avail_in,s=c.bitb,w=c.bitk,S=(k=c.write)<c.read?c.read-k-1:c.end-k;;)switch(u){case A:for(;w<3;){if(0===C)return c.bitb=s,c.bitk=w,e.avail_in=C,e.total_in+=I-e.next_in_index,e.next_in_index=I,c.write=k,c.inflate_flush(e,a);a=t,C--,s|=(255&e.read_byte(I++))<<w,w+=8}switch(g=1&(o=7&s),o>>>1){case 0:s>>>=3,s>>>=o=7&(w-=3),w-=o,u=F;break;case 1:var O=[],R=[],G=[[]],Q=[[]];m.inflate_trees_fixed(O,R,G,Q),x.init(O[0],R[0],G[0],0,Q[0],0),s>>>=3,w-=3,u=z;break;case 2:s>>>=3,w-=3,u=T;break;case 3:return s>>>=3,w-=3,u=N,e.msg="invalid block type",a=r,c.bitb=s,c.bitk=w,e.avail_in=C,e.total_in+=I-e.next_in_index,e.next_in_index=I,c.write=k,c.inflate_flush(e,a)}break;case F:for(;w<32;){if(0===C)return c.bitb=s,c.bitk=w,e.avail_in=C,e.total_in+=I-e.next_in_index,e.next_in_index=I,c.write=k,c.inflate_flush(e,a);a=t,C--,s|=(255&e.read_byte(I++))<<w,w+=8}if((~s>>>16&65535)!=(65535&s))return u=N,e.msg="invalid stored block lengths",a=r,c.bitb=s,c.bitk=w,e.avail_in=C,e.total_in+=I-e.next_in_index,e.next_in_index=I,c.write=k,c.inflate_flush(e,a);f=65535&s,s=w=0,u=0!==f?D:0!==g?L:A;break;case D:if(0===C)return c.bitb=s,c.bitk=w,e.avail_in=C,e.total_in+=I-e.next_in_index,e.next_in_index=I,c.write=k,c.inflate_flush(e,a);if(0===S&&(k==c.end&&0!==c.read&&(S=(k=0)<c.read?c.read-k-1:c.end-k),0===S&&(c.write=k,a=c.inflate_flush(e,a),S=(k=c.write)<c.read?c.read-k-1:c.end-k,k==c.end&&0!==c.read&&(S=(k=0)<c.read?c.read-k-1:c.end-k),0===S)))return c.bitb=s,c.bitk=w,e.avail_in=C,e.total_in+=I-e.next_in_index,e.next_in_index=I,c.write=k,c.inflate_flush(e,a);if(a=t,(o=f)>C&&(o=C),o>S&&(o=S),c.window.set(e.read_buf(I,o),k),I+=o,C-=o,k+=o,S-=o,0!=(f-=o))break;u=0!==g?L:A;break;case T:for(;w<14;){if(0===C)return c.bitb=s,c.bitk=w,e.avail_in=C,e.total_in+=I-e.next_in_index,e.next_in_index=I,c.write=k,c.inflate_flush(e,a);a=t,C--,s|=(255&e.read_byte(I++))<<w,w+=8}if(_=o=16383&s,(31&o)>29||(o>>5&31)>29)return u=N,e.msg="too many length or distance symbols",a=r,c.bitb=s,c.bitk=w,e.avail_in=C,e.total_in+=I-e.next_in_index,e.next_in_index=I,c.write=k,c.inflate_flush(e,a);if(o=258+(31&o)+(o>>5&31),!d||d.length<o)d=[];else for(P=0;P<o;P++)d[P]=0;s>>>=14,w-=14,p=0,u=M;case M:for(;p<4+(_>>>10);){for(;w<3;){if(0===C)return c.bitb=s,c.bitk=w,e.avail_in=C,e.total_in+=I-e.next_in_index,e.next_in_index=I,c.write=k,c.inflate_flush(e,a);a=t,C--,s|=(255&e.read_byte(I++))<<w,w+=8}d[U[p++]]=7&s,s>>>=3,w-=3}for(;p<19;)d[U[p++]]=0;if(v[0]=7,(o=y.inflate_trees_bits(d,v,h,b,e))!=t)return(a=o)==r&&(d=null,u=N),c.bitb=s,c.bitk=w,e.avail_in=C,e.total_in+=I-e.next_in_index,e.next_in_index=I,c.write=k,c.inflate_flush(e,a);p=0,u=B;case B:for(;!(p>=258+(31&(o=_))+(o>>5&31));){var W,H;for(o=v[0];w<o;){if(0===C)return c.bitb=s,c.bitk=w,e.avail_in=C,e.total_in+=I-e.next_in_index,e.next_in_index=I,c.write=k,c.inflate_flush(e,a);a=t,C--,s|=(255&e.read_byte(I++))<<w,w+=8}if(o=b[3*(h[0]+(s&l[o]))+1],(H=b[3*(h[0]+(s&l[o]))+2])<16)s>>>=o,w-=o,d[p++]=H;else{for(P=18==H?7:H-14,W=18==H?11:3;w<o+P;){if(0===C)return c.bitb=s,c.bitk=w,e.avail_in=C,e.total_in+=I-e.next_in_index,e.next_in_index=I,c.write=k,c.inflate_flush(e,a);a=t,C--,s|=(255&e.read_byte(I++))<<w,w+=8}if(w-=o,W+=(s>>>=o)&l[P],s>>>=P,w-=P,(P=p)+W>258+(31&(o=_))+(o>>5&31)||16==H&&P<1)return d=null,u=N,e.msg="invalid bit length repeat",a=r,c.bitb=s,c.bitk=w,e.avail_in=C,e.total_in+=I-e.next_in_index,e.next_in_index=I,c.write=k,c.inflate_flush(e,a);H=16==H?d[P-1]:0;do{d[P++]=H}while(0!=--W);p=P}}h[0]=-1;var V=[],q=[],j=[],K=[];if(V[0]=9,q[0]=6,o=_,(o=y.inflate_trees_dynamic(257+(31&o),1+(o>>5&31),d,V,q,j,K,b,e))!=t)return o==r&&(d=null,u=N),a=o,c.bitb=s,c.bitk=w,e.avail_in=C,e.total_in+=I-e.next_in_index,e.next_in_index=I,c.write=k,c.inflate_flush(e,a);x.init(V[0],q[0],b,j[0],b,K[0]),u=z;case z:if(c.bitb=s,c.bitk=w,e.avail_in=C,e.total_in+=I-e.next_in_index,e.next_in_index=I,c.write=k,(a=x.proc(c,e,a))!=n)return c.inflate_flush(e,a);if(a=t,x.free(e),I=e.next_in_index,C=e.avail_in,s=c.bitb,w=c.bitk,S=(k=c.write)<c.read?c.read-k-1:c.end-k,0===g){u=A;break}u=L;case L:if(c.write=k,a=c.inflate_flush(e,a),S=(k=c.write)<c.read?c.read-k-1:c.end-k,c.read!=c.write)return c.bitb=s,c.bitk=w,e.avail_in=C,e.total_in+=I-e.next_in_index,e.next_in_index=I,c.write=k,c.inflate_flush(e,a);u=E;case E:return a=n,c.bitb=s,c.bitk=w,e.avail_in=C,e.total_in+=I-e.next_in_index,e.next_in_index=I,c.write=k,c.inflate_flush(e,a);case N:return a=r,c.bitb=s,c.bitk=w,e.avail_in=C,e.total_in+=I-e.next_in_index,e.next_in_index=I,c.write=k,c.inflate_flush(e,a);default:return a=i,c.bitb=s,c.bitk=w,e.avail_in=C,e.total_in+=I-e.next_in_index,e.next_in_index=I,c.write=k,c.inflate_flush(e,a)}},c.free=function(e){c.reset(e,null),c.window=null,b=null},c.set_dictionary=function(e,t,n){c.window.set(e.subarray(t,t+n),0),c.read=c.write=n},c.sync_point=function(){return u==F?1:0}}var R=13,G=[0,0,255,255];function Q(){var e=this;function a(e){return e&&e.istate?(e.total_in=e.total_out=0,e.msg=null,e.istate.mode=7,e.istate.blocks.reset(e,null),t):i}e.mode=0,e.method=0,e.was=[0],e.need=0,e.marker=0,e.wbits=0,e.inflateEnd=function(n){return e.blocks&&e.blocks.free(n),e.blocks=null,t},e.inflateInit=function(n,r){return n.msg=null,e.blocks=null,r<8||r>15?(e.inflateEnd(n),i):(e.wbits=r,n.istate.blocks=new O(n,1<<r),a(n),t)},e.inflate=function(e,a){var l,s;if(!e||!e.istate||!e.next_in)return i;for(a=4==a?o:t,l=o;;)switch(e.istate.mode){case 0:if(0===e.avail_in)return l;if(l=a,e.avail_in--,e.total_in++,8!=(15&(e.istate.method=e.read_byte(e.next_in_index++)))){e.istate.mode=R,e.msg="unknown compression method",e.istate.marker=5;break}if(8+(e.istate.method>>4)>e.istate.wbits){e.istate.mode=R,e.msg="invalid window size",e.istate.marker=5;break}e.istate.mode=1;case 1:if(0===e.avail_in)return l;if(l=a,e.avail_in--,e.total_in++,s=255&e.read_byte(e.next_in_index++),((e.istate.method<<8)+s)%31!=0){e.istate.mode=R,e.msg="incorrect header check",e.istate.marker=5;break}if(0==(32&s)){e.istate.mode=7;break}e.istate.mode=2;case 2:if(0===e.avail_in)return l;l=a,e.avail_in--,e.total_in++,e.istate.need=(255&e.read_byte(e.next_in_index++))<<24&4278190080,e.istate.mode=3;case 3:if(0===e.avail_in)return l;l=a,e.avail_in--,e.total_in++,e.istate.need+=(255&e.read_byte(e.next_in_index++))<<16&16711680,e.istate.mode=4;case 4:if(0===e.avail_in)return l;l=a,e.avail_in--,e.total_in++,e.istate.need+=(255&e.read_byte(e.next_in_index++))<<8&65280,e.istate.mode=5;case 5:return 0===e.avail_in?l:(l=a,e.avail_in--,e.total_in++,e.istate.need+=255&e.read_byte(e.next_in_index++),e.istate.mode=6,2);case 6:return e.istate.mode=R,e.msg="need dictionary",e.istate.marker=0,i;case 7:if((l=e.istate.blocks.proc(e,l))==r){e.istate.mode=R,e.istate.marker=0;break}if(l==t&&(l=a),l!=n)return l;l=a,e.istate.blocks.reset(e,e.istate.was),e.istate.mode=12;case 12:return n;case R:return r;default:return i}},e.inflateSetDictionary=function(e,n,r){var a=0,o=r;return e&&e.istate&&6==e.istate.mode?(o>=1<<e.istate.wbits&&(a=r-(o=(1<<e.istate.wbits)-1)),e.istate.blocks.set_dictionary(n,a,o),e.istate.mode=7,t):i},e.inflateSync=function(e){var n,l,s,d,c;if(!e||!e.istate)return i;if(e.istate.mode!=R&&(e.istate.mode=R,e.istate.marker=0),0===(n=e.avail_in))return o;for(l=e.next_in_index,s=e.istate.marker;0!==n&&s<4;)e.read_byte(l)==G[s]?s++:s=0!==e.read_byte(l)?0:4-s,l++,n--;return e.total_in+=l-e.next_in_index,e.next_in_index=l,e.avail_in=n,e.istate.marker=s,4!=s?r:(d=e.total_in,c=e.total_out,a(e),e.total_in=d,e.total_out=c,e.istate.mode=7,t)},e.inflateSyncPoint=function(e){return e&&e.istate&&e.istate.blocks?e.istate.blocks.sync_point():i}}function W(){}W.prototype={inflateInit:function(e){var t=this;return t.istate=new Q,e||(e=15),t.istate.inflateInit(t,e)},inflate:function(e){var t=this;return t.istate?t.istate.inflate(t,e):i},inflateEnd:function(){var e=this;if(!e.istate)return i;var t=e.istate.inflateEnd(e);return e.istate=null,t},inflateSync:function(){var e=this;return e.istate?e.istate.inflateSync(e):i},inflateSetDictionary:function(e,t){var n=this;return n.istate?n.istate.inflateSetDictionary(n,e,t):i},read_byte:function(e){return this.next_in.subarray(e,e+1)[0]},read_buf:function(e,t){return this.next_in.subarray(e,e+t)}};var H=e.zip||e;H.Inflater=H._jzlib_Inflater=function(){var e=new W,i=new Uint8Array(512),r=!1;e.inflateInit(),e.next_out=i,this.append=function(a,l){var s,d,c=[],u=0,f=0,_=0;if(0!==a.length){e.next_in_index=0,e.next_in=a,e.avail_in=a.length;do{if(e.next_out_index=0,e.avail_out=512,0!==e.avail_in||r||(e.next_in_index=0,r=!0),s=e.inflate(0),r&&s===o){if(0!==e.avail_in)throw new Error("inflating: bad input")}else if(s!==t&&s!==n)throw new Error("inflating: "+e.msg);if((r||s===n)&&e.avail_in===a.length)throw new Error("inflating: bad input");e.next_out_index&&(512===e.next_out_index?c.push(new Uint8Array(i)):c.push(new Uint8Array(i.subarray(0,e.next_out_index)))),_+=e.next_out_index,l&&e.next_in_index>0&&e.next_in_index!=u&&(l(e.next_in_index),u=e.next_in_index)}while(e.avail_in>0||0===e.avail_out);return d=new Uint8Array(_),c.forEach((function(e){d.set(e,f),f+=e.length})),d}},this.flush=function(){e.inflateEnd()}}}(this);var t=new Object;return function(e){"use strict";var n,i="File format is not recognized.",r="CRC failed.",a="File contains encrypted entry.",o="Error while reading zip file.",l="Error while writing file data.",s="Error while reading file data.",d=524288,c="text/plain";try{n=0===new Blob([new DataView(new ArrayBuffer(0))]).size}catch(e){}function u(){this.crc=-1}function f(){}function _(e,t){var n,i;return n=new ArrayBuffer(e),i=new Uint8Array(n),t&&i.set(t,0),{buffer:n,array:i,view:new DataView(n)}}function p(){}function v(e){var t,n=this;n.size=0,n.init=function(i,r){var a=new Blob([e],{type:c});(t=new h(a)).init((function(){n.size=t.size,i()}),r)},n.readUint8Array=function(e,n,i,r){t.readUint8Array(e,n,i,r)}}function m(t){var n,i=this;i.size=0,i.init=function(e){for(var r=t.length;"="==t.charAt(r-1);)r--;n=t.indexOf(",")+1,i.size=Math.floor(.75*(r-n)),e()},i.readUint8Array=function(i,r,a){var o,l=_(r),s=4*Math.floor(i/3),d=4*Math.ceil((i+r)/3),c=e.atob(t.substring(s+n,d+n)),u=i-3*Math.floor(s/4);for(o=u;o<u+r;o++)l.array[o-u]=c.charCodeAt(o);a(l.array)}}function h(e){var t=this;t.size=0,t.init=function(n){t.size=e.size,n()},t.readUint8Array=function(t,n,i,r){var a=new FileReader;a.onload=function(e){i(new Uint8Array(e.target.result))},a.onerror=r;try{a.readAsArrayBuffer(function(e,t,n){if(t<0||n<0||t+n>e.size)throw new RangeError("offset:"+t+", length:"+n+", size:"+e.size);return e.slice?e.slice(t,t+n):e.webkitSlice?e.webkitSlice(t,t+n):e.mozSlice?e.mozSlice(t,t+n):e.msSlice?e.msSlice(t,t+n):void 0}(e,t,n))}catch(e){r(e)}}}function x(){}function g(e){var t,i=this;i.init=function(e){t=new Blob([],{type:c}),e()},i.writeUint8Array=function(e,i){t=new Blob([t,n?e:e.buffer],{type:c}),i()},i.getData=function(n,i){var r=new FileReader;r.onload=function(e){n(e.target.result)},r.onerror=i,r.readAsText(t,e)}}function b(t){var n=this,i="",r="";n.init=function(e){i+="data:"+(t||"")+";base64,",e()},n.writeUint8Array=function(t,n){var a,o=r.length,l=r;for(r="",a=0;a<3*Math.floor((o+t.length)/3)-o;a++)l+=String.fromCharCode(t[a]);for(;a<t.length;a++)r+=String.fromCharCode(t[a]);l.length>2?i+=e.btoa(l):r=l,n()},n.getData=function(t){t(i+e.btoa(r))}}function y(e){var t,i=this;i.init=function(n){t=new Blob([],{type:e}),n()},i.writeUint8Array=function(i,r){t=new Blob([t,n?i:i.buffer],{type:e}),r()},i.getData=function(e){e(t)}}function w(){var e,t=this;t.init=function(t,n){e=new Uint8Array,t()},t.writeUint8Array=function(t,n,i){var r=new Uint8Array(e.length+t.length);r.set(e),r.set(t,e.length),e=r,n()},t.getData=function(t){t(e.buffer)}}function I(e,t,n,i,r,a,o,l,s,c){var f,_=0,p=0,v="input"===a,m="output"===a,h=new u;!function a(){var u;if((f=_*d)<r)t.readUint8Array(i+f,Math.min(d,r-f),(function(t){var i;try{i=e.append(t,(function(e){o&&o(f+e,r)}))}catch(e){return void s(e)}i?(p+=i.length,n.writeUint8Array(i,(function(){_++,setTimeout(a,1)}),c),m&&h.append(i)):(_++,setTimeout(a,1)),v&&h.append(t),o&&o(f,r)}),s);else{try{u=e.flush()}catch(e){return void s(e)}u?(m&&h.append(u),p+=u.length,n.writeUint8Array(u,(function(){l(p,h.get())}),c)):l(p,h.get())}}()}function C(e,t,n,i,r,a,o,l,s,c,u){var _="input";o?function(e,t,n,i,r,a,o,l,s,c){var u,f,_,p=0,v=t.sn;function m(){e.removeEventListener("message",h,!1),l(f,_)}function h(t){var n=t.data,r=n.data,l=n.error;if(l)return l.toString=function(){return"Error: "+this.message},void s(l);if(n.sn===v)switch("number"==typeof n.codecTime&&(e.codecTime+=n.codecTime),"number"==typeof n.crcTime&&(e.crcTime+=n.crcTime),n.type){case"append":r?(f+=r.length,i.writeUint8Array(r,(function(){x()}),c)):x();break;case"flush":_=n.crc,r?(f+=r.length,i.writeUint8Array(r,(function(){m()}),c)):m();break;case"progress":o&&o(u+n.loaded,a);break;case"importScripts":case"newTask":case"echo":break;default:console.warn("zip.js:launchWorkerProcess: unknown message: ",n)}}function x(){(u=p*d)<=a?n.readUint8Array(r+u,Math.min(d,a-u),(function(n){o&&o(u,a);var i=0===u?t:{sn:v};i.type="append",i.data=n;try{e.postMessage(i,[n.buffer])}catch(t){e.postMessage(i)}p++}),s):e.postMessage({sn:v,type:"flush"})}f=0,e.addEventListener("message",h,!1),x()}(e,{sn:t,codecClass:"NOOP",crcType:_},n,i,r,a,s,l,c,u):I(new f,n,i,r,a,_,s,l,c,u)}u.prototype.append=function(e){for(var t=0|this.crc,n=this.table,i=0,r=0|e.length;i<r;i++)t=t>>>8^n[255&(t^e[i])];this.crc=t},u.prototype.get=function(){return~this.crc},u.prototype.table=function(){var e,t,n,i=[];for(e=0;e<256;e++){for(n=e,t=0;t<8;t++)1&n?n=n>>>1^3988292384:n>>>=1;i[e]=n}return i}(),f.prototype.append=function(e,t){return e},f.prototype.flush=function(){},v.prototype=new p,v.prototype.constructor=v,m.prototype=new p,m.prototype.constructor=m,h.prototype=new p,h.prototype.constructor=h,x.prototype.getData=function(e){e(this.data)},g.prototype=new x,g.prototype.constructor=g,b.prototype=new x,b.prototype.constructor=b,y.prototype=new x,y.prototype.constructor=y,w.prototype=new x,w.prototype.constructor=w;var k=22,S=65634;function P(e){var t,n,i="",r=["Ç","ü","é","â","ä","à","å","ç","ê","ë","è","ï","î","ì","Ä","Å","É","æ","Æ","ô","ö","ò","û","ù","ÿ","Ö","Ü","ø","£","Ø","×","ƒ","á","í","ó","ú","ñ","Ñ","ª","º","¿","®","¬","½","¼","¡","«","»","_","_","_","¦","¦","Á","Â","À","©","¦","¦","+","+","¢","¥","+","+","-","-","+","-","+","ã","Ã","+","+","-","-","¦","-","+","¤","ð","Ð","Ê","Ë","È","i","Í","Î","Ï","+","+","_","_","¦","Ì","_","Ó","ß","Ô","Ò","õ","Õ","µ","þ","Þ","Ú","Û","Ù","ý","Ý","¯","´","­","±","_","¾","¶","§","÷","¸","°","¨","·","¹","³","²","_"," "];for(t=0;t<e.length;t++)i+=(n=255&e.charCodeAt(t))>127?r[n-128]:String.fromCharCode(n);return i}function U(e){return decodeURIComponent(escape(e))}function A(e){var t,n="";for(t=0;t<e.length;t++)n+=String.fromCharCode(e[t]);return n}function F(e,t){return e.getUint32(t,!0)+e.getUint32(t+4,!0)*Math.pow(2,32)}function D(e,t,n,r,o){var l=!1;if(e.version=t.view.getUint16(n,!0),e.bitFlag=t.view.getUint16(n+2,!0),e.compressionMethod=t.view.getUint16(n+4,!0),e.lastModDateRaw=t.view.getUint32(n+6,!0),e.lastModDate=function(e){var t=(4294901760&e)>>16,n=65535&e;try{return new Date(1980+((65024&t)>>9),((480&t)>>5)-1,31&t,(63488&n)>>11,(2016&n)>>5,2*(31&n),0)}catch(e){}}(e.lastModDateRaw),1==(1&e.bitFlag))return o(a),l;if((r||8!=(8&e.bitFlag))&&(e.crc32=t.view.getUint32(n+10,!0),e.compressedSize=t.view.getUint32(n+14,!0),e.uncompressedSize=t.view.getUint32(n+18,!0)),e.filenameLength=t.view.getUint16(n+22,!0),e.extraFieldLength=t.view.getUint16(n+24,!0),4294967295===e.compressedSize||4294967295===e.uncompressedSize){var s=n+(r?40:26)+e.filenameLength;1!=t.view.getUint16(s,!0)&&o(i),e.uncompressedSize=F(t.view,s+4),e.compressedSize=F(t.view,s+12),t.view.getUint16(s+2,!0)>=24&&(e.offset=F(t.view,s+20)),l=!0}return l}function T(e,t,n){var a=0;function d(){}d.prototype.getData=function(t,o,d,c){var u=this;function f(e,i){c&&!function(e){var t=_(4);return t.view.setUint32(0,e),u.crc32==t.view.getUint32(0)}(i)?n(r):t.getData((function(e){o(e)}))}function p(e){n(e||s)}function v(e){n(e||l)}var m=30+u.filenameLength+u.extraFieldLength;e.readUint8Array(u.offset,m,(function(r){var o,l=_(r.length,r);1347093252==l.view.getUint32(0)?(D(u,l,4,!1,n),m=30+u.filenameLength+u.extraFieldLength,o=u.offset+m,t.init((function(){0===u.compressionMethod?C(u._worker,a++,e,t,o,u.compressedSize,c,f,d,p,v):function(e,t,n,i,r,a,o,l,s,d,c){var u=o?"output":"none";I(new Inflater,n,i,r,a,u,s,l,d,c)}(u._worker,a++,e,t,o,u.compressedSize,c,f,d,p,v)}),v)):n(i)}),p)},d.prototype.getDataChunk=function(t,o,d,c,u){var f=this;function p(e,t){u&&!function(e){var t=_(4);return t.view.setUint32(0,e),f.crc32==t.view.getUint32(0)}(t)?n(r):d.getData((function(e){c(e)}))}function v(e){n(e||s)}function m(e){n(e||l)}var h=30+f.filenameLength+f.extraFieldLength;e.readUint8Array(f.offset,h,(function(r){var l=_(r.length,r);if(1347093252==l.view.getUint32(0)){D(f,l,4,!1,n),h=30+f.filenameLength+f.extraFieldLength;var s=f.offset+h,c=t+s,x=c+o>s+f.compressedSize?f.compressedSize-t:o;d.init((function(){0===f.compressionMethod?C(f._worker,a++,e,d,c,x,u,p,onprogress,v,m):n("Reading data chunk from a compressed file entry is not supported.")}),m)}else n(i)}),v)};var c={getEntries:function(t){var r,a,l,s=this._worker;function c(t,r,a,l,s){r<=0||r>=e.size||a<=0||a>=e.size||l<=0?n(i):e.readUint8Array(r,a,(function(e){var r,a,o,c,u=0,f=[],p=_(e.length,e);for(r=0;r<l;r++){if((a=new d)._worker=t,1347092738!=p.view.getUint32(u))return void n(i);if(1!=D(a,p,u+6,!0,n)&&(a.offset=p.view.getUint32(u+42,!0),4294967295===a.offset)){var v=u+46+a.filenameLength;1==p.view.getUint16(v,!0)&&8==p.view.getUint16(v+2,!0)||n(i),a.offset=F(p.view,v+4)}a.commentLength=p.view.getUint16(u+32,!0),a.directory=16==(16&p.view.getUint8(u+38)),o=A(p.array.subarray(u+46,u+46+a.filenameLength)),a.filename=2048==(2048&a.bitFlag)?U(o):P(o),a.directory||"/"!=a.filename.charAt(a.filename.length-1)||(a.directory=!0),c=A(p.array.subarray(u+46+a.filenameLength+a.extraFieldLength,u+46+a.filenameLength+a.extraFieldLength+a.commentLength)),a.comment=2048==(2048&a.bitFlag)?U(c):P(c),f.push(a),u+=46+a.filenameLength+a.extraFieldLength+a.commentLength}s(f)}),(function(){n(o)}))}!function(t){function r(t,r,a){var l=[80,75,5,6];e.readUint8Array(e.size-t,t,(function(e){for(var o=0;o<=e.length-4;o++)if(e[o]===l[0]&&e[o+1]===l[1]&&e[o+2]===l[2]&&e[o+3]===l[3]){if(t-o>=k)return void r(new DataView(e.buffer,o,k));n(i)}a()}),(function(){n(o)}))}r(k,(function(e){e.byteLength>0?t(e):n(o)}),(function(){var a=Math.min(S,e.size);r(e.size-a,(function(e){e.byteLength>0?t(e):n(o)}),(function(){n(i)}))}))}((function(d){!function(t){function i(t,i,r){var a=[80,75,6,7];e.readUint8Array(e.size-t,t,(function(e){for(var n=0;n<=e.length-4;n++)if(e[n]===a[0]&&e[n+1]===a[1]&&e[n+2]===a[2]&&e[n+3]===a[3]&&t-n>=20)return void i(!0);r()}),(function(){n(o)}))}i(42,t,(function(){i(Math.min(S,e.size),t,(function(){t(!1)}))}))}((function(u){u?function(t){function r(t,r,a){var l=[80,75,6,6];e.readUint8Array(e.size-t,t,(function(e){for(var o=0;o<=e.length-4;o++)if(e[o]===l[0]&&e[o+1]===l[1]&&e[o+2]===l[2]&&e[o+3]===l[3]){if(t-o>=56)return void r(new DataView(e.buffer,o,56));n(i)}a()}),(function(){n(o)}))}r(98,(function(e){e.byteLength>0?t(e):n(o)}),(function(){r(Math.min(S,e.size),(function(e){e.byteLength>0?t(e):n(o)}),(function(){n(i)}))}))}((function(e){l=e.getUint32(32,!0),a=e.getUint32(40,!0),r=F(e,48),c(s,r,a,l,(function(e){t(e)}))})):(l=d.getUint16(10,!0),a=d.getUint32(12,!0),r=d.getUint32(16,!0),c(s,r,a,l,(function(e){t(e)})))}))}))},getEmbeddedEntries:function(t,r,a){var l,s,c=this._worker;l=r,s=function(l){const s=r+l;!function(t,r){function a(t,i,a){e.readUint8Array(t-i,i,(function(e){for(var t=e.length-98;t>=0;t--)if(80===e[t]&&75===e[t+1]&&6===e[t+2]&&6===e[t+3])return void r(new DataView(e.buffer,t,56));a()}),(function(){n(o)}))}a(t,98,(function(){a(t,Math.min(65634,e.size),(function(){n(i)}))}))}(t,(function(t){var r,l,u;u=t.getUint32(32,!0),l=t.getUint32(40,!0),(r=t.getUint32(48,!0)+s)<=0||r>=e.size||l<=0||l>=e.size||u<=0?n(i):e.readUint8Array(r,l,(function(e){var t,r,o,l,f=0,p=[],v=_(e.length,e);for(t=0;t<u;t++){if((r=new d)._worker=c,1347092738!=v.view.getUint32(f))return void n(i);1==D(r,v,f+6,!0,n)?r.offset+=s:r.offset=v.view.getUint32(f+42,!0)+s,r.commentLength=v.view.getUint16(f+32,!0),r.directory=16==(16&v.view.getUint8(f+38)),o=A(v.array.subarray(f+46,f+46+r.filenameLength)),r.filename=2048==(2048&r.bitFlag)?U(o):P(o),r.directory||"/"!=r.filename.charAt(r.filename.length-1)||(r.directory=!0),l=A(v.array.subarray(f+46+r.filenameLength+r.extraFieldLength,f+46+r.filenameLength+r.extraFieldLength+r.commentLength)),r.comment=2048==(2048&r.bitFlag)?U(l):P(l),p.push(r),f+=46+r.filenameLength+r.extraFieldLength+r.commentLength}a(p)}),(function(){n(o)}))}))},e.readUint8Array(l,30,(function(e){var t,r,a=_(e.length,e);1347093252==a.view.getUint32(0)?(t=a.view.getUint16(26,!0),r=a.view.getUint16(28,!0),s(30+t+r)):n(i)}),(function(){n(o)}))},getCDStartOffset:function(t){!function(t){e.size<98?n(i):r(98,(function(){r(Math.min(65634,e.size),(function(){n(i)}))}));function r(i,r){e.readUint8Array(e.size-i,i,(function(e){for(var n=e.length-98;n>=0;n--)if(80===e[n]&&75===e[n+1]&&6===e[n+2]&&6===e[n+3])return void t(new DataView(e.buffer,n,56));r()}),(function(){n(o)}))}}((function(e){var n=e.getUint32(48,!0);t(n)}))},close:function(e){this._worker&&(this._worker.terminate(),this._worker=null),e&&e()},_worker:null};t(c)}function M(e){return unescape(encodeURIComponent(e))}function B(e){var t,n=[];for(t=0;t<e.length;t++)n.push(e.charCodeAt(t));return n}function z(e,t,n,i){var r={},a=[],o=0,l=0;function d(e){n(e||"Error while writing zip file.")}function c(e){n(e||s)}var u={add:function(t,s,u,f,p){var v,m,h,x=this._worker;function g(t,n){var i=_(16);o+=t||0,i.view.setUint32(0,1347094280),void 0!==n&&(v.view.setUint32(10,n,!0),i.view.setUint32(4,n,!0)),s&&(i.view.setUint32(8,t,!0),v.view.setUint32(14,t,!0),i.view.setUint32(12,s.size,!0),v.view.setUint32(18,s.size,!0)),e.writeUint8Array(i.array,(function(){o+=16,u()}),d)}function b(){p=p||{},t=t.trim(),p.directory&&"/"!=t.charAt(t.length-1)&&(t+="/"),r.hasOwnProperty(t)?n("File already exists."):(m=B(M(t)),a.push(t),function(n){var a;h=p.lastModDate||new Date,v=_(26),r[t]={headerArray:v.array,directory:p.directory,filename:m,offset:o,comment:B(M(p.comment||""))},v.view.setUint32(0,335546376),p.version&&v.view.setUint8(0,p.version),i||0===p.level||p.directory||v.view.setUint16(4,2048),v.view.setUint16(6,(h.getHours()<<6|h.getMinutes())<<5|h.getSeconds()/2,!0),v.view.setUint16(8,(h.getFullYear()-1980<<4|h.getMonth()+1)<<5|h.getDate(),!0),v.view.setUint16(22,m.length,!0),(a=_(30+m.length)).view.setUint32(0,1347093252),a.array.set(v.array,4),a.array.set(m,30),o+=a.array.length,e.writeUint8Array(a.array,n,d)}((function(){s?i||0===p.level?C(x,l++,s,e,0,s.size,!0,g,f,c,d):function(e,t,n,i,r,a,o,l,s){I(new Deflater,n,i,0,n.size,"input",o,a,l,s)}(0,l++,s,e,p.level,g,f,c,d):g()})))}s?s.init(b,c):b()},close:function(t){this._worker&&(this._worker.terminate(),this._worker=null);var n,i,l,s=0,c=0;for(i=0;i<a.length;i++)s+=46+(l=r[a[i]]).filename.length+l.comment.length;for(n=_(s+22),i=0;i<a.length;i++)l=r[a[i]],n.view.setUint32(c,1347092738),n.view.setUint16(c+4,5120),n.array.set(l.headerArray,c+6),n.view.setUint16(c+32,l.comment.length,!0),l.directory&&n.view.setUint8(c+38,16),n.view.setUint32(c+42,l.offset,!0),n.array.set(l.filename,c+46),n.array.set(l.comment,c+46+l.filename.length),c+=46+l.filename.length+l.comment.length;n.view.setUint32(c,1347093766),n.view.setUint16(c+8,a.length,!0),n.view.setUint16(c+10,a.length,!0),n.view.setUint32(c+12,s,!0),n.view.setUint32(c+16,o,!0),e.writeUint8Array(n.array,(function(){e.getData(t)}),d)},_worker:null};t(u)}function L(e){console.error(e)}e.zip={Reader:p,Writer:x,BlobReader:h,Data64URIReader:m,TextReader:v,BlobWriter:y,Data64URIWriter:b,TextWriter:g,ArrayBufferWriter:w,createReader:function(e,t,n){n=n||L,e.init((function(){T(e,t,n)}),n)},createWriter:function(e,t,n,i){n=n||L,i=!!i,e.init((function(){z(e,t,n,i)}),n)},useWebWorkers:!1,workerScriptsPath:null,workerScripts:null},t=e.zip}(this),t}));