define("Fx/Composition/PartReferences",["require","exports"],(function(e,t){"use strict";var o;return function(e){var t=function(e){function t(t,o,i){return e.call(this,t,o,i)||this}return __extends(t,e),t}(MsPortalFx.Composition.PartReference);e.PartReference=t}(o||(o={})),o})),
define("FxInternal/Controls/ChartUtil",["require","exports"],(function(e,t){"use strict";function o(e,t,o){var i=t();if(i)return i(o);var n=Q.defer(),r=e.createChildLifetime();return t.subscribeAndRun(r,(function(e){e&&(e(o).then((function(){return n.resolve()})),r.dispose())})),n.promise}function i(e,t,o){o=o||{};var i=MsPortalFx.initObservable(o.tickMarksCount,0),n=MsPortalFx.initObservable(o.scale,1),r=MsPortalFx.initObservable(o.showTickMarks,!1),a=MsPortalFx.initObservable(o.showGridLines,!1);return 0===t&&(n=MsPortalFx.initObservable(o.scale,2),r=MsPortalFx.initObservable(o.showTickMarks,!0)),1===t&&(n=MsPortalFx.initObservable(o.scale,1),a=MsPortalFx.initObservable(o.showGridLines,!0)),{scale:n,reverseDomain:MsPortalFx.initObservable(o.reverseDomain,!1),tickMarksCount:i,ticks:i,showAxis:MsPortalFx.initObservable(o.showAxis,!0),autoScaleUnit:MsPortalFx.initObservable(o.autoScaleUnit,!0),labelPadding:MsPortalFx.initObservable(o.labelPadding,50),rotateLabel:MsPortalFx.initObservable(o.rotateLabel,0),showAxisLine:MsPortalFx.initObservable(o.showAxisLine,!1),showTickMarks:r,showGridLines:a,formatOptions:MsPortalFx.initObservable(o.formatOptions,null),xSliderFormatOptions:MsPortalFx.initObservable(o.xSliderFormatOptions,null),displayLabelFormatter:MsPortalFx.initObservable(o.displayLabelFormatter,""),xSliderCalloutDisplayFormatter:MsPortalFx.initObservable(o.xSliderCalloutDisplayFormatter,""),min:MsPortalFx.initObservable(o.min,null),max:MsPortalFx.initObservable(o.max,null),unit:MsPortalFx.initObservable(o.unit,MsPortalFx.UnitConversion.Unit.None),displaySIUnit:MsPortalFx.initObservable(o.displaySIUnit,!1),customAxisPadding:MsPortalFx.initObservable(o.customAxisPadding,null),hideAxisLabelsOnXSliderHover:MsPortalFx.initObservable(o.hideAxisLabelsOnXSliderHover,!1)}}Object.defineProperty(t,"__esModule",{value:!0}),t.createScatterChart=t.createAreaChart=t.createBarChart=t.createLineChart=void 0,t.createLineChart=function(e,t){t=t||{};var n=MsPortalFx.initObservable(t.showLegend,!1),r=MsPortalFx.initObservable();return{controlType:97,vmKind:"Fx",series:MsPortalFx.initObservableArray(t.series),xAxis:i(0,0,t.xAxis),yAxis:i(0,1,t.yAxis),metricsRules:MsPortalFx.initObservableArray(t.metricsRules),showMetrics:MsPortalFx.initObservable(t.showMetrics,!0),showLegend:n,legendWidth:MsPortalFx.initObservable(t.legendWidth,0),events:MsPortalFx.initValue(t.events,null),loading:MsPortalFx.initObservable(t.loading,!1),noData:MsPortalFx.initObservable(t.noData,!1),noDataMessage:MsPortalFx.initObservable(t.noDataMessage,null),seriesSelections:MsPortalFx.initObservable([]),ariaLabel:MsPortalFx.initObservable(t.ariaLabel),ariaDesc:MsPortalFx.initObservable(t.ariaDesc),legendPosition:ko.computed(e,(function(){return!1===n()?0:4})),chartType:ko.observable(0),seriesSelectionsCallback:r,setSeriesSelections:function(t){return o(e,r,t)}}},t.createBarChart=function(e,t){t=t||{};var n=MsPortalFx.initObservable(t.showLegend,!1),r=MsPortalFx.initObservable(t.barChartType,0),a=MsPortalFx.initObservable();return{controlType:97,vmKind:"Fx",series:MsPortalFx.initObservableArray(t.series),xAxis:i(0,0,t.xAxis),yAxis:i(0,1,t.yAxis),metricsRules:MsPortalFx.initObservableArray(t.metricsRules),showMetrics:MsPortalFx.initObservable(t.showMetrics,!0),enableSparseSeries:MsPortalFx.initObservable(t.enableSparseSeries,!0),barPaddingRatio:MsPortalFx.initObservable(t.barPaddingRatio,.3),barChartType:r,xAxisSpan:MsPortalFx.initObservable(t.xAxisSpan,null),showLegend:n,legendWidth:MsPortalFx.initObservable(t.legendWidth,0),events:MsPortalFx.initValue(t.events,null),loading:MsPortalFx.initObservable(t.loading,!1),noData:MsPortalFx.initObservable(t.noData,!1),noDataMessage:MsPortalFx.initObservable(t.noDataMessage,null),seriesSelections:MsPortalFx.initObservable([]),ariaLabel:MsPortalFx.initObservable(t.ariaLabel),ariaDesc:MsPortalFx.initObservable(t.ariaDesc),legendPosition:ko.computed(e,(function(){return!1===n()?0:4})),chartType:ko.computed(e,(function(){return 1===r()?4:3})),seriesSelectionsCallback:a,setSeriesSelections:function(t){return o(e,a,t)}}},t.createAreaChart=function(e,t){t=t||{};var n=MsPortalFx.initObservable(t.showLegend,!1),r=MsPortalFx.initObservable(t.areaChartType,0),a=MsPortalFx.initObservable();return{controlType:97,vmKind:"Fx",series:MsPortalFx.initObservableArray(t.series),xAxis:i(0,0,t.xAxis),yAxis:i(0,1,t.yAxis),metricsRules:MsPortalFx.initObservableArray(t.metricsRules),showMetrics:MsPortalFx.initObservable(t.showMetrics,!0),enableSparseSeries:MsPortalFx.initObservable(t.enableSparseSeries,!0),areaChartType:r,lineState:MsPortalFx.initObservable(t.lineState,0),showLegend:n,legendWidth:MsPortalFx.initObservable(t.legendWidth,0),events:MsPortalFx.initValue(t.events,null),loading:MsPortalFx.initObservable(t.loading,!1),noData:MsPortalFx.initObservable(t.noData,!1),noDataMessage:MsPortalFx.initObservable(t.noDataMessage,null),seriesSelections:MsPortalFx.initObservable([]),ariaLabel:MsPortalFx.initObservable(t.ariaLabel),ariaDesc:MsPortalFx.initObservable(t.ariaDesc),legendPosition:ko.computed(e,(function(){return!1===n()?0:4})),chartType:ko.computed(e,(function(){return 1===r()?6:1})),seriesSelectionsCallback:a,setSeriesSelections:function(t){return o(e,a,t)}}},t.createScatterChart=function(e,t){t=t||{};var n=MsPortalFx.initObservable(t.showLegend,!1),r=MsPortalFx.initObservable();return{controlType:97,vmKind:"Fx",series:MsPortalFx.initObservableArray(t.series),xAxis:i(0,0,t.xAxis),yAxis:i(0,1,t.yAxis),metricsRules:MsPortalFx.initObservableArray(t.metricsRules),showMetrics:MsPortalFx.initObservable(t.showMetrics,!0),showLegend:n,legendWidth:MsPortalFx.initObservable(t.legendWidth,0),events:MsPortalFx.initValue(t.events,null),loading:MsPortalFx.initObservable(t.loading,!1),noData:MsPortalFx.initObservable(t.noData,!1),noDataMessage:MsPortalFx.initObservable(t.noDataMessage,null),seriesSelections:MsPortalFx.initObservable([]),ariaLabel:MsPortalFx.initObservable(t.ariaLabel),ariaDesc:MsPortalFx.initObservable(t.ariaDesc),legendPosition:ko.computed(e,(function(){return!1===n()?0:4})),chartType:ko.observable(2),seriesSelectionsCallback:r,setSeriesSelections:function(t){return o(e,r,t)}}}})),
define("Fx/Controls/BarChart",["require","exports","FxInternal/Controls/ChartUtil"],(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0,t.create=function(e,t){var i;return ko.ignoreDependencies((function(){i=(0,o.createBarChart)(e,t)})),i}})),
define("FxInternal/Controls/CustomHtml",["require","exports","FxInternal/Controls/Base/Base","FxInternal/Utils/ValidationHelper","FxInternal","Fx/Errors"],(function(e,t,o,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModel=void 0;var a=function(e){function t(t,i,a){void 0===a&&(a=!0);var s=e.call(this,t)||this,l=s.lifetimeManager;return s.controlType=23,s.cssClass=MsPortalFx.initObservable(i.cssClass,""),s.dirty=ko.observable(!1),s.disabled=MsPortalFx.initObservable(i.disabled,!1),s.hideValidationCheck=MsPortalFx.initValue(i.hideValidationCheck,!1),s.htmlTemplate=MsPortalFx.initObservable(i.htmlTemplate),s.infoBalloonContent=MsPortalFx.initObservable(i.infoBalloonContent),s.infoBalloonAriaLabel=MsPortalFx.initObservable(i.infoBalloonAriaLabel),s.infoBalloonLinkContent=MsPortalFx.initObservable(i.infoBalloonLinkContent),s.innerViewModel=i.innerViewModel,s.isolated=MsPortalFx.initValue(i.isolated,!0),s.label=MsPortalFx.initObservable(i.label),s.labelPosition=ko.observable(MsPortalFx.ViewModels.Forms.LabelPosition.Top),s.loading=ko.observable(!1),s.subLabel=MsPortalFx.initObservable(i.subLabel),s.subLabelPosition=ko.observable(MsPortalFx.ViewModels.Forms.SubLabelPosition.Bottom),s.valid=ko.observable(!0),s.validate=ko.observable(0),s.visible=MsPortalFx.initObservable(i.visible,!0),s._msPortalFxClearValidation=ko.observable(),s._msPortalFxLeftLabelWidth=ko.observable(),s._msPortalFxRequired=ko.observable(),s._msPortalFxTriggerValidation=ko.observable(),s._msPortalFxOldControl=a,o.monitorObservable(l,s.htmlTemplate,(function(e){if(!(0,n.isNullOrUndefined)(e)&&"string"!=typeof e)throw new r.FxError({message:"htmlTemplate value must be a string.",data:{htmlTemplate:e}})})),s}return __extends(t,e),t.prototype.clearValidation=function(){var e=this._msPortalFxClearValidation();return e?Q(e()):Q()},t.prototype.triggerValidation=function(){return(0,i.triggerValidation)({vm:this,ltm:this.lifetimeManager,msPortalFxTriggerValidation:this._msPortalFxTriggerValidation})},t}(o.ViewModel);t.ViewModel=a})),
define("Fx/Controls/CustomHtml",["require","exports","FxInternal/Controls/CustomHtml"],(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0,t.create=function(e,t){var i;return ko.ignoreDependencies((function(){i=new o.ViewModel(e,t,!1)})),i}})),
define("FxInternal/Controls/Donut",["require","exports","FxInternal/Controls/Base/Base"],(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModel=void 0;var i=function(e){function t(t,o){var i=e.call(this,t)||this;i.valueInitialized=!1,o=o||{},i.controlType=65,i.disabled=MsPortalFx.initObservable(o.disabled,!1),i.loading=MsPortalFx.initObservable(o.loading,!1),i.gaugeSize=MsPortalFx.initObservable(o.gaugeSize,0),i.groupInfos=MsPortalFx.initObservableArray(o.groupInfos),i.items=MsPortalFx.initObservableArray(o.items),i.itemsDataArray=i.items,i.hoveredIndex=MsPortalFx.initObservable(null);var n=o.itemSetting||{};return MsPortalFx.isNullOrUndefined(o.hoveredIndex)||(i.hoveredIndex=o.hoveredIndex,n=MsPortalFx.extend2(n,{hoveredIndex:i.hoveredIndex})),i.itemSetting=MsPortalFx.initObservable(n),i.total=MsPortalFx.initObservable(o.total,100),i.startOffset=MsPortalFx.initObservable(o.startOffset,-90),i.totalFormat=MsPortalFx.initObservable(o.totalFormat,"{0}"),i.unitFormat=MsPortalFx.initObservable(o.unitFormat,""),i.infoFormat=MsPortalFx.initObservable(o.infoFormat,""),i.numberFormatOptions=MsPortalFx.initObservable(o.numberFormatOptions,{minimumFractionDigits:0,maximumFractionDigits:1}),i.hoverInfoFormat=MsPortalFx.initObservable(o.hoverInfoFormat,"{0} {1}{2}"),i.selectedInfoFormat=MsPortalFx.initObservable(o.selectedInfoFormat,"{0}/{1}{2}"),i.hoveredUnit=MsPortalFx.initObservable(o.hoveredUnit,"%"),i.disableSelectOnClick=MsPortalFx.initObservable(o.disableSelectOnClick,!1),i.showCenter=MsPortalFx.initObservable(o.showCenter,!0),i.noData=MsPortalFx.initObservable(o.noData,!1),i.noDataMessage=MsPortalFx.initObservable(o.noDataMessage,null),i.ariaLabel=MsPortalFx.initObservable(o.ariaLabel),i.ariaDesc=MsPortalFx.initObservable(o.ariaDesc),i._msPortalFxRerenderTrigger=ko.observable(0),i._msPortalFxAriaLive=ko.observable(!1),i}return __extends(t,e),t.prototype.render=function(){this._msPortalFxRerenderTrigger(this._msPortalFxRerenderTrigger.peek()+1)},t}(o.ViewModel);t.ViewModel=i})),
define("Fx/Controls/Donut",["require","exports","FxInternal/Controls/Donut"],(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0,t.create=function(e,t){var i;return ko.ignoreDependencies((function(){i=new o.ViewModel(e,t)})),i}})),
define("Fx/Controls/Essentials",["require","exports","FxInternal/Controls/Essentials"],(function(e,t,o){"use strict";var i;function n(e,t){var i;return ko.ignoreDependencies((function(){i=new o.ViewModel(e,t)})),i}Object.defineProperty(t,"__esModule",{value:!0}),t.createNonResourceLayout=t.createCustomResourceLayout=t.createDefaultResourceLayout=t.ExtendedLocationType=void 0,function(e){e.EdgeZone="EdgeZone",e.Region="Region"}(i||(t.ExtendedLocationType=i={})),t.createDefaultResourceLayout=function(e,t){return n(e,t)},t.createCustomResourceLayout=function(e,t){return n(e,t)},t.createNonResourceLayout=function(e,t){return n(e,t)}})),
define("FxInternal/Controls/InfoBalloon",["require","exports","FxInternal/Controls/Base/Base"],(function(e,t,o){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModel=t.Link=t.Type=void 0,function(e){e[e.Info=0]="Info",e[e.Validation=2]="Validation"}(i||(t.Type=i={}));var n=function(e,t){this.linkText=e||"",this.linkUri=t||""};t.Link=n;var r=function(e){function t(t,o){var n=e.call(this,t)||this;return o=o||{},n.controlType=32,n.content=MsPortalFx.initObservable(o.content),n.balloonVisible=ko.observable(!1),n.disabled=ko.observable(!1),n.link=ko.observable(),n.loading=ko.observable(!1),n.stopClickPropagation=ko.observable(!0),n.type=i.Info,n.ariaLabel=MsPortalFx.initObservable(o.ariaLabel,""),n.triggerFadeOut=ko.observable(!1),n}return __extends(t,e),t}(o.ViewModel);t.ViewModel=r})),
define("Fx/Controls/InfoBalloon",["require","exports","FxInternal/Controls/InfoBalloon"],(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=t.Box=t.Link=void 0;var i=function(e,t){this.linkText=e||"",this.linkUri=t||""};t.Link=i;var n=function(e,t,o,i){this.top=e||0,this.left=t||0,this.width=o||0,this.height=i||0};t.Box=n,t.create=function(e,t){var i;return ko.ignoreDependencies((function(){i=new o.ViewModel(e,t)})),i}})),
define("FxInternal/Controls/InfoBox",["require","exports","FxInternal/Controls/Base/Base"],(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModel=void 0;var i=function(e){function t(t,i,n){var r=e.call(this,t)||this;r.loading=ko.observable(!1),n=n||{};var a=r.lifetimeManager;return r.controlType=78,r.image=MsPortalFx.initObservable(),r.text=MsPortalFx.initObservable(n.text),r.ariaLabel=MsPortalFx.initObservable(n.ariaLabel,null),r.size=MsPortalFx.initObservable(null,1),r.style=MsPortalFx.initObservable(n.style,1),r.disabled=MsPortalFx.initObservable(n.disabled),r.canClose=!!n.canClose,r.onCloseClickCallback=n.onCloseClickCallback,r.visible=MsPortalFx.initObservable(n.visible,!0),r.onClick=n.onClick,r.isInline=i,o.monitorObservable(a,r.text,o.validateTemplate),r}return __extends(t,e),t}(o.ViewModel);t.ViewModel=i})),
define("Fx/Controls/InfoBox",["require","exports","FxInternal/Controls/InfoBox"],(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createInline=t.create=void 0,t.create=function(e,t){var i;return ko.ignoreDependencies((function(){i=new o.ViewModel(e,!1,t)})),i},t.createInline=function(e,t){var i;return ko.ignoreDependencies((function(){i=new o.ViewModel(e,!0,t)})),i}})),
define("FxInternal/Controls/Legend",["require","exports","FxInternal/Controls/Base/Base"],(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModel=void 0;var i=function(e){function t(t,o){var i=e.call(this,t)||this;o=o||{},i.controlType=118,i.items=MsPortalFx.initObservableArray(o.items,[]),i.data=i.items;var n=i.itemSetting=o.itemSetting||{};return i.indexKey=n.indexKey||"",i.colorKey=n.colorKey,i.hatchingKey=n.hatchingKey,i.selectedKey=n.selectedKey,i.labelKey=n.labelKey,i.enableSelection=MsPortalFx.initValue(o.enableSelection,!0),i.hoveredIndex=MsPortalFx.initObservable(o.hoveredIndex),i.ariaLabel=MsPortalFx.initObservable(o.ariaLabel,""),i}return __extends(t,e),t}(o.ViewModel);t.ViewModel=i})),
define("Fx/Controls/Legend",["require","exports","FxInternal/Controls/Legend"],(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0,t.create=function(e,t){var i;return ko.ignoreDependencies((function(){i=new o.ViewModel(e,t)})),i}})),
define("FxInternal/Controls/Map",["require","exports","FxInternal/Controls/Base/Base"],(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasicLayoutViewModel=void 0;var i=function(e){function t(t,o){var i=e.call(this,t)||this,n=o||{};return i.controlType=68,i.isFxVM=!0,i.items=MsPortalFx.initObservableArray(n.items,[]),i.links=MsPortalFx.initObservableArray(n.links,[]),i.events=MsPortalFx.initValue(n.events,null),i.width=MsPortalFx.initObservable(n.width,0),i.height=ko.observable(0),i.ariaLabel=MsPortalFx.initObservable(n.ariaLabel,""),i.ariaDesc=MsPortalFx.initObservable(n.ariaDesc,""),i}return __extends(t,e),t}(o.ViewModel);t.BasicLayoutViewModel=i})),
define("Fx/Controls/Map",["require","exports","FxInternal/Controls/Map"],(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=t.mapAspectRatio=void 0,t.mapAspectRatio=2,t.create=function(e,t){var i;return ko.ignoreDependencies((function(){i=new o.BasicLayoutViewModel(e,t)})),i}})),
define("FxInternal/Controls/Pill",["require","exports","FxInternal/Controls/Base/Base"],(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModel=void 0;var i=MsPortalFx.initObservable;function n(e){return!!e.buttons}var r=function(e){function t(t,o){var r=e.call(this,t)||this;r.controlType=128,r.disabled=i(o.disabled,!1),r.value=i(o.value),r.showRemoveButton=i(o.showRemoveButton,!0),r.icon=i(o.icon),r.readOnly=i(o.readOnly,!1),r.editMode=i(o.editMode,!1),r.infoBalloonContent=i(o.infoBalloonContent),r.infoBalloonAriaLabel=i(o.infoBalloonAriaLabel),r.ariaLabel=i(o.ariaLabel,""),r.onRemoved=o.onRemoved||MsPortalFx.noop,r.suppressDirtyBehavior=!!o.suppressDirtyBehavior,r._msPortalFxEditor=ko.observable(null),r.displayText={key:ko.observable(""),value:ko.observable(""),operator:ko.observable("")};var a=function(e){r.displayText.key(o.getKeyText(e)),r.displayText.value(o.getValueText(e)),r.displayText.operator(o.getOperatorText?o.getOperatorText(e):null)};r.value.subscribeAndRun(t,a);var s,l=function(e){ko.isWritableObservable(r.value)||e!==r.value.peek()?r.value(e):a(e)};function c(e){var i=this;e?(s=t.createChildLifetime(),Promise.resolve(o.createEditor(s)).then((function(e){if(e){if(function(e){return!!e.onClick}(e))return{type:"Custom",onClick:e.onClick};if(n(e))return{type:"Dialog",buttons:e.buttons,content:e.content,title:e.title,hideTitle:e.hideTitle,telemetryName:e.telemetryName,onEditModeExited:function(t){return Promise.resolve(e.onEditModeExited(t)).then((function(e){4!==t&&6!==t||l(e)}))}};if(function(e){return!!e.content&&!n(e)}(e))return{type:"Inline",content:e.content,onEditModeExited:function(){return Promise.resolve(e.onEditModeExited()).then((function(e){l(e)}))}}}throw new Error("Unknown Pill Editor type")})).then((function(e){i.editor(e)}))):(this.editor(null),s&&s.dispose())}return r.editor=ko.observable(),ko.reactor(t,[r.editMode,r.readOnly],(function(e,t){c.call(r,e&&!t)})),r.enterEditMode=function(){return r.editMode(!0),Promise.resolve()},r.exitEditMode=function(){return r.editMode(!1),Promise.resolve()},r}return __extends(t,e),t}(o.ViewModel);t.ViewModel=r})),
define("Fx/Controls/Pill",["require","exports","FxInternal/Controls/Pill"],(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0,t.create=function(e,t){var i;return ko.ignoreDependencies((function(){i=new o.ViewModel(e,t)})),i}})),
define("FxInternal/Controls/PillCollection",["require","exports","FxInternal/Controls/Base/Base"],(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModel=void 0;var i=MsPortalFx.initObservable,n=MsPortalFx.initObservableArray,r=function(e){function t(t,o){var r=e.call(this,t)||this;if(r.controlType=129,r.items=n(o.items,[]),r.disabled=i(o.disabled,!1),r.ariaLabel=i(o.ariaLabel,""),r.theme=o.theme||1,r.multipleRows="boolean"!=typeof o.multipleRows||o.multipleRows,r.maxVisibleItems=o.maxVisibleItems||1/0,o.addition){var a=o.addition;r.addition={canAddPill:i(a.canAddPill,!1),label:i(a.label,""),ariaLabel:i(a.ariaLabel,null),alwaysShowLabel:i(a.alwaysShowLabel,!0),icon:i(a.icon,null),labelProvided:a.hasOwnProperty("label"),addPill:function(e){var t=!1;if(a.addPill){var o=a.addPill(e);o&&(r.items.push(o),t=!0)}return Promise.resolve(t)}}}else r.addition={canAddPill:ko.observable(!1),label:ko.observable(""),ariaLabel:ko.observable(null),alwaysShowLabel:ko.observable(!1),icon:ko.observable(null),labelProvided:!1,addPill:function(){return Promise.resolve(!1)}};return r.deletion={removePill:function(e){var t=r.items.remove(e);return Promise.resolve(!!(null==t?void 0:t.length))}},r}return __extends(t,e),t}(o.ViewModel);t.ViewModel=r})),
define("Fx/Controls/PillCollection",["require","exports","FxInternal/Controls/PillCollection"],(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0,t.create=function(e,t){var i;return ko.ignoreDependencies((function(){i=new o.ViewModel(e,t)})),i}})),
define("FxInternal/Controls/Recommendations",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModel=void 0;var o=function(e){function t(t,o){var i=e.call(this,t)||this;return i.controlType=206,i.resourceId=o.resourceId,i.totalRecommendationCount=MsPortalFx.initObservable(0),i}return __extends(t,e),t}(MsPortalFx.ViewModels.Controls.Base.ViewModel);t.ViewModel=o})),
define("Fx/Controls/Recommendations",["require","exports","FxInternal/Controls/Recommendations"],(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0,t.create=function(e,t){var i;return ko.ignoreDependencies((function(){i=new o.ViewModel(e,t)})),i}})),
define("Fx/Controls/TabControl",["require","exports","FxInternal/Controls/Section"],(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0,t.create=function(e,t){var i;return ko.ignoreDependencies((function(){t=t||{};var n=__assign(__assign({},t),{children:t.tabs,style:4}),r=new o.ViewModel(e,n),a=ko.computed(e,{read:function(){return MsPortalFx.find(r.children(),(function(e){return e&&e.active()}))},write:function(e){e.active(!0),arguments[1]&&r._msPortalFxSetFocusOnTab(MsPortalFx.findIndex(r.children(),(function(t){return t===e})))}}),s=ko.computed(e,{read:function(){return MsPortalFx.findIndex(r.children(),(function(e){return e&&e.active()}))},write:function(e){var t=r.children()&&r.children()[e];t&&(t.active(!0),arguments[1]&&r._msPortalFxSetFocusOnTab(e))}});i=MsPortalFx.extend(r,{tabs:r.children,activeTab:a,activeTabIndex:s,alertOnClose:MsPortalFx.initObservable(t.alertOnClose,!1),showRequiredStatusOnTabs:MsPortalFx.initObservable(t.showRequiredStatusOnTabs,!1),showValidationStatusOnTabs:MsPortalFx.initObservable(t.showValidationStatusOnTabs,!1),allowClosableTabs:MsPortalFx.initObservable(t.allowClosableTabs,!1),focusedTabIndex:MsPortalFx.initObservable(0)})})),i}})),
define("FxInternal/Controls/TextBlock",["require","exports","FxInternal/Controls/Base/Base"],(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModel=void 0;var i=function(e){function t(t,o){var i=e.call(this,t)||this;return o=o||{},i.controlType=101,i.text=MsPortalFx.initObservable(o.text),i.visible=MsPortalFx.initObservable(o.visible,!0),i.cssClass=MsPortalFx.initObservable(o.cssClass,""),i}return __extends(t,e),t}(o.ViewModel);t.ViewModel=i})),
define("Fx/Controls/TextBlock",["require","exports","FxInternal/Controls/TextBlock"],(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0,t.create=function(e,t){var i;return ko.ignoreDependencies((function(){i=new o.ViewModel(e,t)})),i}})),
define("Fx/Controls/Validations",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Uri=t.StaticMessage=t.Required=t.RegExMatch=t.Range=t.Numeric=t.NotRegExMatch=t.NotContainsCharacters=t.NotContains=t.MinValue=t.MinLength=t.MaxValue=t.MaxLength=t.LocaleAwareCaseInsensitiveComparison=t.LengthRange=t.Invalid=t.HasUpperCaseLetter=t.HasPunctuation=t.HasLowerCaseLetter=t.HasLetter=t.HasDigit=t.Equals=t.CustomV=t.Custom=t.ContainsCharacters=t.Contains=t.CaseInsensitiveComparison=void 0,t.CaseInsensitiveComparison=MsPortalFx.ViewModels.CaseInsensitiveComparisonValidation,t.Contains=MsPortalFx.ViewModels.ContainsValidation,t.ContainsCharacters=MsPortalFx.ViewModels.ContainsCharactersValidation,t.Custom=MsPortalFx.ViewModels.CustomValidation,t.CustomV=MsPortalFx.ViewModels.CustomValidationV,t.Equals=MsPortalFx.ViewModels.EqualsValidation,t.HasDigit=MsPortalFx.ViewModels.HasDigitValidation,t.HasLetter=MsPortalFx.ViewModels.HasLetterValidation,t.HasLowerCaseLetter=MsPortalFx.ViewModels.HasLowerCaseLetterValidation,t.HasPunctuation=MsPortalFx.ViewModels.HasPunctuationValidation,t.HasUpperCaseLetter=MsPortalFx.ViewModels.HasUpperCaseLetterValidation,t.Invalid=MsPortalFx.ViewModels.InvalidValidation,t.LengthRange=MsPortalFx.ViewModels.LengthRangeValidation,t.LocaleAwareCaseInsensitiveComparison=MsPortalFx.ViewModels.LocaleAwareCaseInsensitiveComparisonValidation,t.MaxLength=MsPortalFx.ViewModels.MaxLengthValidation,t.MaxValue=MsPortalFx.ViewModels.MaxValueValidation,t.MinLength=MsPortalFx.ViewModels.MinLengthValidation,t.MinValue=MsPortalFx.ViewModels.MinValueValidation,t.NotContains=MsPortalFx.ViewModels.NotContainsValidation,t.NotContainsCharacters=MsPortalFx.ViewModels.NotContainsCharactersValidation,t.NotRegExMatch=MsPortalFx.ViewModels.NotRegExMatchValidation,t.Numeric=MsPortalFx.ViewModels.NumericValidation,t.Range=MsPortalFx.ViewModels.RangeValidation,t.RegExMatch=MsPortalFx.ViewModels.RegExMatchValidation,t.Required=MsPortalFx.ViewModels.RequiredValidation,t.StaticMessage=MsPortalFx.ViewModels.StaticMessageValidation,t.Uri=MsPortalFx.ViewModels.UriValidation})),
define("Fx/Notifications",["require","exports","FxInternal/Notifications"],(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.publishPollingNotification=t.publishPendingNotification=t.publishNotification=t.executeAzureAsyncOperation=void 0,t.executeAzureAsyncOperation=function(e,t){return o.executeAzureAsyncOperation(e,t,!1,!1)},t.publishNotification=function(e){return o.publishNotification(e,!1)},t.publishPendingNotification=function(e){var t=o.publishPendingNotification(e,!1);return{complete:function(e){return t.complete(e)},id:t.id,update:function(e){return t.update(e)}}},t.publishPollingNotification=function(e){var t,i=o.getAuthDetails(null===(t=null==e?void 0:e.pollingDetails)||void 0===t?void 0:t.uri),n=__assign(__assign({},e),{pollingDetails:__assign(__assign({},null==e?void 0:e.pollingDetails),i&&{authDetails:i})});return o.publishPollingNotification(n,!1)}})),
define("Fx/Pinner",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pin=t.Internal=void 0;var o,i=MsPortalFx.Base,n=FxImpl.Rpc;!function(e){e.pinEndPoint=new n.FuncEndPointDefinition(FxImpl.Constants.RpcMethods.pinParts)}(o||(t.Internal=o={})),t.pin=function(e,t){return Q(o.pinEndPoint.invoke(n.client,i.Constants.Shell,{parts:e,options:t}))}})),
define("FxHubs/ArmHelpers/ArmApis",["require","exports","FxHubs/ArmHelpers/ArmApisStartup"],(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPrivateStoreApi=t.getMarketplaceOfferAPI=t.getCheckPolicyRestrictionsApi=t.resourcesInResourceGroupByNameApi=t.moveResourcesToSubscriptionApi=t.validateSubscriptionMoveAvailabilityApi=t.validateMoveResourcesApi=t.moveResourcesApi=t.classicResourcesInSubscriptionApi=t.locksOnResourceApi=t.deploymentOperationsApi=t.cancelDeploymentApi=t.validateDeploymentApi=t.listDeploymentsApi=t.getDeploymentStacksApi=t.appendDeploymentStackApiVersion=t.getDeploymentApi=t.appendDeploymentApiVersion=t.getResourceProviderAtScope=t.getAfecResourceProviderWithSubscriptionApi=t.getResourceProviderWithSubscriptionApi=t.unregisterResourceProvidersApi=t.registerResourceProvidersApi=t.getResourceProviderApi=t.listResourceProvidersWithMetadataApi=t.listResourceProvidersApi=t.getDeploymentApiVersionQueryString=void 0;var i=MsPortalFx.Base,n=["Microsoft.ClassicCompute/virtualMachines","Microsoft.ClassicCompute/domainNames","Microsoft.ClassicStorage/storageAccounts","Microsoft.ClassicNetwork/virtualNetworks","Microsoft.ClassicNetwork/reservedIps"],r=/^[\s/]*|\/*$/g,a=MsPortalFx.isFeatureEnabled("enableregionmove")?"?api-version=2020-07-01":"?api-version=2015-01-01";function s(e){return e.replace(r,"")}function l(e){return e?"/"+s(e):""}function c(e){return MsPortalFx.trimEnd(MsPortalFx.trimStart(e,"/"),"/")}function u(e){if(e)return"?api-version=2024-03-01";var t=MsPortalFx.getFeatureValue("deployapiver");return t?"?api-version=".concat(t):MsPortalFx.isFeatureEnabled("deployments2022")?"?api-version=2022-12-01":"?api-version=2020-06-01"}function d(e,t){return"".concat(l(e),"/providers/Microsoft.Resources/deployment").concat(t?"Stack":"","s")}function m(e){return"".concat(e).concat(u())}function p(e){return"".concat(e).concat("?api-version=2024-03-01")}t.getDeploymentApiVersionQueryString=u,t.listResourceProvidersApi=function(e,t){var o="?api-version=2019-08-01";return e?"/subscriptions/".concat(c(e),"/providers").concat(o)+(t&&t.length?"&$select=".concat(t.join(",")):""):"/providers".concat(o)},t.listResourceProvidersWithMetadataApi=function(e){var t=e&&"/subscriptions/".concat(c(e))||"";return"".concat(t,"/providers").concat("?api-version=2016-02-01","&$expand=metadata")},t.getResourceProviderApi=function(e,t){return t=t||"?api-version=2019-08-01","/providers/".concat(c(e)).concat(t)},t.registerResourceProvidersApi=function(e,t){return"/subscriptions/".concat(c(e),"/providers/").concat(c(t),"/register").concat("?api-version=2014-04-01-preview")},t.unregisterResourceProvidersApi=function(e,t){return"/subscriptions/".concat(c(e),"/providers/").concat(c(t),"/unregister").concat("?api-version=2014-04-01-preview")},t.getResourceProviderWithSubscriptionApi=function(e,t){return"/subscriptions/".concat(c(e),"/providers/").concat(c(t)).concat("?api-version=2014-04-01-preview")},t.getAfecResourceProviderWithSubscriptionApi=function(e,t){return"/subscriptions/".concat(c(e),"/providers/Microsoft.Features/providers/").concat(c(t),"/features?api-version=").concat("2021-07-01")},t.getResourceProviderAtScope=function(e,t){return"".concat(e,"/providers/").concat(c(t)).concat("?api-version=2014-04-01-preview")},t.appendDeploymentApiVersion=m,t.getDeploymentApi=function(e,t){return m("".concat(d(e),"/").concat(t))},t.appendDeploymentStackApiVersion=p,t.getDeploymentStacksApi=function(e,t){return p("".concat(d(e,!0),"/").concat(t))},t.listDeploymentsApi=function(e,t,o){var i="".concat(d(e)).concat(u());return(null==o?void 0:o.length)&&(i+="&$select=".concat(o.join(","))),t&&(i+="&$top=".concat(t)),i},t.validateDeploymentApi=function(e,t,o){return"".concat(d(e,o),"/").concat(t,"/validate").concat(u(o))},t.cancelDeploymentApi=function(e){return"".concat(l(e),"/cancel").concat(u())},t.deploymentOperationsApi=function(e){return"".concat(l(e),"/operations").concat(u())},t.locksOnResourceApi=function(e){return"/".concat(c(e),"/providers/Microsoft.Authorization/locks").concat("?api-version=2016-09-01")},t.classicResourcesInSubscriptionApi=function(e){var t=new i.UriBuilder(o.resourcesInSubscriptionApi(e)),r=n.map((function(e){return"resourceType eq '".concat(e,"'")})).join(" or ");return t.query.setParameter("$filter",r),t.toString()},t.moveResourcesApi=function(e){return"".concat(l(e),"/moveresources").concat(a)},t.validateMoveResourcesApi=function(e){return"".concat(l(e),"/validateMoveResources").concat(a)},t.validateSubscriptionMoveAvailabilityApi=function(e){return"".concat(l(e),"/providers/Microsoft.ClassicCompute/validateSubscriptionMoveAvailability").concat("?api-version=2015-10-01")},t.moveResourcesToSubscriptionApi=function(e){return"/subscriptions/".concat(s(e),"/providers/Microsoft.ClassicCompute/moveSubscriptionResources").concat("?api-version=2015-10-01")},t.resourcesInResourceGroupByNameApi=function(e,t){return"/subscriptions/".concat(c(e),"/resourcegroups/").concat(c(t),"/resources").concat("?api-version=2014-04-01-preview")},t.getCheckPolicyRestrictionsApi=function(e){return"".concat(e,"/providers/Microsoft.PolicyInsights/checkPolicyRestrictions").concat("?api-version=2020-07-01")},t.getMarketplaceOfferAPI=function(e,t){return"".concat(e,"/providers/Microsoft.Marketplace/offers/").concat(t,"?api-version=").concat("?api-version=2018-08-01-beta")},t.getPrivateStoreApi=function(){return"/providers/Microsoft.Marketplace/PrivateStores".concat("?api-version=2021-06-01")}})),
define("FxHubs/ArtBrowse/ArtBrowseArea",["require","exports","Fx/DependencyInjection","Fx","FxHubs/RpcEndPointsCore","FxHubs/Resources/FxHubsClientStrings","Fx/Notifications","FxHubs/HubsSettingsSchema","FxHubs/Common/UserSettingsHelper"],(function(e,t,o,i,n,r,a,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataContext=void 0;var c=s.Keys.browseFavoriteViews,u=function(){function t(e){this._diContainer=e,this._responseMap=new Map,this._viewLru={},this._viewFavorite={},this._viewMap={},this._viewNameSet=new Set,this.detailsBladeSelectedRowIndex=ko.observable(),this.detailsBladeSelectedRowIndexChangedWithButton=!1,this._viewLifetime=new FxImpl.TriggerableLifetimeManager}return t.prototype.setResponseForDetailsBlade=function(e){var t=i.getUniqueId();return this._responseMap.set(t,e),t},t.prototype.getResponseForDetailsBlade=function(e){return this._responseMap.get(e)},t.prototype.removeResponseForDetailsBlade=function(e){this._responseMap.delete(e)},t.prototype.getSavedBrowseViews=function(e){var t=(e||"").toLowerCase(),o=Q(this._viewLru[t]||this._loadSavedBrowseViews(t));return Q(MsPortalFx.tryImmediateResolve(o,MsPortalFx.identity))},t.prototype.isSavedFavoriteBrowseViewInitialized=function(e){var t=(e||"").toLowerCase();return!!this._viewFavorite[t]},t.prototype.initializeSavedFavoriteBrowseView=function(e,t,o){var i=(e||"").toLowerCase();return this._viewFavorite[i]?o&&this._viewFavorite[i](t):(this._viewFavorite[i]=ko.observable(t),this._watchSavedFavoriteBrowseView(i)),this._viewFavorite[i]},t.prototype.getSavedFavoriteBrowseView=function(e){var t=(e||"").toLowerCase(),o=Q(this._viewFavorite[t]||this._loadSavedFavoriteBrowseView(t));return Q(MsPortalFx.tryImmediateResolve(o,MsPortalFx.identity))},t.prototype.deleteSavedBrowseView=function(e,t,o){var i=this;return Q(MsPortalFx.tryImmediateResolve(this.getSavedBrowseViews(e),(function(e){var n,s=(i._viewMap[t]||{name:null}).name;return e.remove((function(e){return e.id===t})),delete i._viewMap[t],i._viewNameSet.delete(s),o||(n=(0,a.publishPendingNotification)({title:r.Browse.deletingViewLabel.format(s),description:r.Browse.deletingViewDescription.format(s)})),i._diContainer.get(l.UserSettingsHelper).deleteSettings(["View_"+t],15).then((function(){n&&!o&&n.complete({title:r.Browse.deletedViewLabel.format(s),description:r.Browse.deletedViewDescription.format(s),status:4})})).catch((function(e){return n&&n.complete({title:r.Browse.deleteViewFailedLabel.format(s),description:r.Browse.deleteViewFailedDescription.format(s),status:2}),Q.reject(e)}))})))},t.prototype.getSavedBrowseView=function(e){return Q(this._viewMap[e]||this._loadSavedView(e))},t.prototype.updateSavedBrowseViewDetails=function(e){this._viewMap[e.id]=e},t.prototype.saveSavedBrowseView=function(e,t){this._viewMap[e.id]=e,this._viewNameSet.add(e.name);var o,i=Object.create(null);return i["View_"+e.id]={version:1,view:ko.toJS(e)},t||(o=(0,a.publishPendingNotification)({title:r.Browse.savingViewLabel.format(e.name),description:r.Browse.savingViewDescription.format(e.name)})),this._diContainer.get(l.UserSettingsHelper).writeSettings(i,void 0,15).then((function(){o&&!t&&o.complete({title:r.Browse.savedViewLabel.format(e.name),description:r.Browse.savedViewDescription.format(e.name),status:4})})).catch((function(t){return o&&o.complete({title:r.Browse.saveViewFailedLabel.format(e.name),description:r.Browse.saveViewFailedDescription.format(e.name),status:2}),Q.reject(t)}))},t.prototype._loadSavedBrowseViews=function(e){var t=this,o=this._diContainer.get(l.UserSettingsHelper),i=ko.observableArray([]);return i.extend({rateLimit:50}),o.readSettings(["LRU_"+e],15).then((function(n){if(t._viewLru[e]=i,n&&n["LRU_"+e]){var r=n["LRU_"+e];1===r.version&&(i(r.lru),r.lru.forEach((function(e){t._viewNameSet.add(e.name)})))}return i.subscribe(t._viewLifetime,(function(t){var i=Object.create(null);i["LRU_"+e]={version:1,lru:ko.toJS(t)},o.writeSettings(i,void 0,15)})),Q(t._viewLru[e])}))},t.prototype._watchSavedFavoriteBrowseView=function(e){var t=this,o=this._diContainer.get(l.UserSettingsHelper);this._viewFavorite[e].subscribe(this._viewLifetime,(function(i){o.readSettings([c],15).then((function(r){r||(r=Object.create(null)),r[c]||(r[c]=Object.create(null)),r[c][e]=i,o.writeSettings(r,void 0,15),n.Browse.onBrowseFavoriteViewIdUpdatedEndPoint.invoke(t._diContainer.get(FxImpl.Rpc.Client),"fxw",{resourceTypeKey:e,favoriteViewId:i})}))}))},t.prototype._loadSavedFavoriteBrowseView=function(e){var t=this,o=this._diContainer.get(l.UserSettingsHelper),i=ko.observable();return i.extend({rateLimit:50}),o.readSettings([c],15).then((function(o){if(t._viewFavorite[e]=i,o&&o[c]&&o[c][e]){var n=o[c][e];i(n||"_default_")}else i("_default_");return t._watchSavedFavoriteBrowseView(e),Q(t._viewFavorite[e])}))},t.prototype._loadSavedView=function(e){return this._diContainer.get(l.UserSettingsHelper).readSettings(["View_"+e],15).then((function(t){if(t&&t["View_"+e]){var o=t["View_"+e];if(1===o.version)return o.view}return Q(null)}))},t=__decorate([__metadata("fx:diagnostics",[e,"DataContext"]),o.Class(),__metadata("design:paramtypes",[o.Container])],t)}();t.DataContext=u})),
define("FxHubs/ArtHelpers/ArtApis",["require","exports","FxHubs/ArmHelpers/ArmApisStartup","Fx/Ajax","Fx"],(function(e,t,o,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRetryAfterMinutes=t.getRetryAfterSeconds=t.getDataFromArt=void 0;var r=MsPortalFx.Base.Diagnostics.createLog(e);function a(e){return 429===e.httpStatusCode&&e.headers?Math.max(Number(e.headers["Retry-After"])||0,1):0}t.getDataFromArt=function(e,t,s,l,c,u){var d=MsPortalFx.getFeatureValue("argapiversion"),m=encodeURIComponent(d);d?e.options?e.options.resultFormat||(e.options.resultFormat="table"):e.options={$top:1e3,resultFormat:"table"}:e.options?e.options.resultFormat||(e.options.resultFormat="table"):e.options={resultFormat:"table"};var p=d?m:(null==l?void 0:l.apiVersion)||"2021-03-01",f=(null==u?void 0:u.retryTimeoutsInSeconds)||[5,10,60],v=-1,b=null==u?void 0:u.skipErrorLogging,h=function(){return Q(i.batch({uri:(0,o.getAbsoluteArmUri)("/providers/Microsoft.ResourceGraph/resources?api-version="+p),setTelemetryHeader:t,type:"POST",content:e,options:s||1}).then((function(e){return __assign(__assign({},e.content),{correlationId:e.headers["x-ms-correlation-request-id"],httpStatusCode:e.httpStatusCode})}),(function(e){var o=MsPortalFx.getLogFriendlyMessage({commandName:t,apiVersion:p,error:e}),i=FxImpl.Azure.buildSimplifiedError(e).message||"";if(429!==e.httpStatusCode||(null==u?void 0:u.skipRetryHandling)){if(400===e.httpStatusCode&&i.toLowerCase().includes("novalidsubscriptionsinqueryrequest"))return!b&&r.warning(o,e.httpStatusCode,e),{};403===e.httpStatusCode||401===e.httpStatusCode||c&&(null==o?void 0:o.includes("InvalidQuery"))?!b&&r.warning(o,e.httpStatusCode,e):e.httpStatusCode&&!b&&r.error(o,e.httpStatusCode,e)}else{if(!(++v>f.length-1)){var s=a(e)||f[v];return!b&&r.warning(o+" - retry in ".concat(s," seconds"),e.httpStatusCode,e),(null==u?void 0:u.notifyRetry)&&(null==u||u.notifyRetry(o,v,s)),n.delay(1e3*s).then((function(){return h()}))}!b&&r.error(o,e.httpStatusCode,e)}throw e})))};return h()},t.getRetryAfterSeconds=a,t.getRetryAfterMinutes=function(e){return a(e)&&Math.max(Math.ceil(a(e)/60),1)}})),
define("FxHubs/ArtHelpers/ArtRequestGenerator",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRequest=void 0,t.getRequest=function(e,t){var o=ko.observable(),i=t.managementGroupsObservable||ko.observable(),n=function(e,t,i,n,r,a,s){var l={query:i,options:{$top:a,$skip:a*((n||1)-1),$skipToken:r||""}};(null==e?void 0:e.length)?l.subscriptions=e:t&&(l.managementGroups=t),!s&&MsPortalFx.deepEquals(o.peek(),l)||o(l)};return ko.explicitComputed(e,[t.subscriptionsObservable,i,t.queryObservable],(function(e,o,i){t.skipPageReset?n(e,o,i,t.pageObservable&&t.pageObservable(),t.skipTokenObservable&&t.skipTokenObservable(),t.pageSizeObservable()):n(e,o,i,1,"",t.pageSizeObservable())})),{request:o,triggerUpdate:function(e){n(t.subscriptionsObservable(),i(),t.queryObservable(),t.pageObservable&&t.pageObservable(),t.skipTokenObservable&&t.skipTokenObservable(),t.pageSizeObservable(),e)}}}})),
define("FxHubs/ArtHelpers/KustoQueryGenerator",["require","exports","Fx/Errors","FxHubs/Resources/KustoClientStrings"],(function(e,t,o,i){"use strict";var n,r,a,s,l,c,u,d,m,p;Object.defineProperty(t,"__esModule",{value:!0}),t.KustoQueryGenerator=t.buildSubscriptionUniqueDisplayNameMapProvider=t.buildIifMapProvider=t.buildValueToStringMapProvider=t.buildDisplayNameMapProvider=t.getPredicate=t.encodeKustoValue=t.extendColumnWithCastFunctionWrappedColumn=t.wrapColumnWithCastFunction=t.log=void 0,t.log=MsPortalFx.Base.Diagnostics.createLog(e);var f=((n={})[1]="contains_cs",n[2]="==",n[3]="in",n[4]="startswith_cs",n[5]="endswith_cs",n[6]="contains",n[7]="=~",n[8]="in~",n[9]="startswith",n[10]="endswith",n[11]="!contains_cs",n[12]="!=",n[13]="!in",n[14]="!startswith_cs",n[15]="!endswith_cs",n[16]="!contains",n[17]="!~",n[18]="!in~",n[19]="!startswith",n[20]="!endswith",n[21]="isempty({0})",n[22]="isnull({0})",n[25]="has",n[26]="<",n[27]=">",n[28]="<=",n[29]=">=",n[30]="between ({0}..{1})",n[31]="!between ({0}..{1})",n[23]="isnotempty({0})",n[24]="isnotnull({0})",n),v=((r={})[2]="and",r[1]="or",r),b=((a={})[21]=!0,a[23]=!0,a[22]=!0,a[24]=!0,a),h=((s={})[3]=!0,s[13]=!0,s[8]=!0,s[18]=!0,s[30]=!0,s[31]=!0,s),x=((l={})[2]=3,l[7]=8,l[12]=13,l[17]=18,l),y=((c={})[21]=!0,c[23]=!0,c[22]=!0,c[24]=!0,c[30]=!0,c[31]=!0,c),C={},M=function(e,t){t.forEach((function(t){return C[t]=e}))};M("or",[1,2,4,5,6,7,9,10,23,24,26,27,28,29,3,8,25]),M("and",[11,12,14,15,16,17,19,20,21,22,13,18]);var g=((u={})[2]=21,u[7]=21,u[12]=23,u[17]=23,u),P=((d={})[2]=22,d[7]=22,d[12]=24,d[17]=24,d),w='"'+[i.Months.jan,i.Months.feb,i.Months.mar,i.Months.apr,i.Months.may,i.Months.jun,i.Months.jul,i.Months.aug,i.Months.sep,i.Months.oct,i.Months.nov,i.Months.dec].join('","')+'"',F='"'+[i.Days.sun,i.Days.mon,i.Days.tue,i.Days.wed,i.Days.thu,i.Days.fri,i.Days.sat].join('","')+'"',_=((m={})[2]=function(e){return"tolower(tostring(".concat(e,"))")},m[3]=function(e){return"tostring(".concat(e,")")},m[4]=function(e){return"todatetime(".concat(e,")")},m[5]=function(e){return"todouble(".concat(e,")")},m[6]=function(e){return"tobool(".concat(e,")")},m[7]=function(e){return"totimespan(".concat(e,")")},m[8]=function(e){return"todecimal(".concat(e,")")},m[9]=function(e){return"bin(todatetime(".concat(e,"),1d)")},m[10]=function(e){return'make_datetime(datetime_part("Year",todatetime('.concat(e,')),datetime_part("Month",todatetime(').concat(e,")),1)")},m[11]=function(e){return'make_datetime(datetime_part("Year",todatetime('.concat(e,")),1,1)")},m[12]=function(e){return'make_datetime(datetime_part("Year",todatetime('.concat(e,')),datetime_part("Month",todatetime(').concat(e,")),1)")},m[13]=function(e){return"hourofday(todatetime(".concat(e,"))")},m[14]=function(e){return"hourofday(todatetime(".concat(e,"))")},m[15]=function(e){return"dayofweek(todatetime(".concat(e,"))")},m[16]=function(e){return"dayofmonth(todatetime(".concat(e,"))")},m[17]=function(e){return"monthofyear(todatetime(".concat(e,"))")},m[18]=function(e){return'datetime_part("Year",todatetime('.concat(e,"))")},m),D=((p={})[12]=function(e){return"strcat(tostring(dynamic([".concat(w,"])[toint(monthofyear(").concat(e,')-1)]),", ",format_datetime(').concat(e,',"yyyy"))')},p[14]=function(e){return"tolower(format_datetime(make_datetime(2020,1,1,".concat(e,',0,0),"h tt"))')},p[15]=function(e){return"tostring(dynamic([".concat(F,"])[toint(format_timespan(").concat(e,',"d"))])')},p[17]=function(e){return"tostring(dynamic([".concat(w,"])[toint(").concat(e,"-1)])")},p);function S(e,t){return(_[t]||MsPortalFx.identity)(e)}t.wrapColumnWithCastFunction=S,t.extendColumnWithCastFunctionWrappedColumn=function(e,t){var o=S(e,t);return o===e?null:"extend ".concat(e,"=").concat(o)};var k={"'":"\\'","\\":"\\\\"};function O(e,t){return(e=e&&ko.toJS(e))&&"string"==typeof e?function(e){if(!e)return e;for(var t="",o=0;o<e.length;o++){var i=e.charCodeAt(o);if(i<32){for(var n=i.toString(16);n.length<2;)n="0"+n;t+="\\x"+n}else t+=e.charAt(o)}return t}("'"+MsPortalFx.replaceMany(t?e:e.trim(),k)+"'"):"'"+(e||"")+"'"}function T(e,t,o,i,n,r,a,s,l){var c=" ".concat(r&&C[e]||"or"," ");if(n)return t.map((function(t){return"(".concat(f[e].format(t),")")})).join(c);var u=a?"((".concat(a.prefixText,") ").concat(v[a.operator]," ("):"",d=a?"))":"",m=function(e,t){var o;return y[e]?(o=f[e]).format.apply(o,t):1===t.length?"".concat(f[e]," (").concat(t[0],")"):"".concat(f[e]," (").concat(t.join(","),")")};if(h[e])return u+t.map((function(t){return"(".concat(t," ").concat(m(e,o.map((function(e){return"string"==typeof e?O(e,i):e.toString()}))),")")})).join(c)+d;if(o.length>1){var p=x[e];if(p){var b=o.map((function(e){return null===e?null:"string"==typeof e?O(e,i):e.toString()})),M=g[e],w=P[e],F=M&&b.some((function(e){return"''"===e}));F&&(b=b.filter((function(e){return"''"!==e})));var S=w&&b.some((function(e){return null===e}));return S&&(b=b.filter((function(e){return null!==e}))),u+t.map((function(t){var o=1!==b.length?"(".concat(t," ").concat(m(p,b),")"):"(".concat(t," ").concat(m(e,b),")");return F&&S?"(".concat([o,"(".concat(m(M,[t]),")"),"(".concat(m(w,[t]),")")].join(c),")"):F?"(".concat([o,"(".concat(m(M,[t]),")")].join(c),")"):S?"(".concat([o,"(".concat(m(w,[t]),")")].join(c),")"):o})).join(c)+d}}return u+t.map((function(t){return o.map((function(o){if(null===o&&(n=P[e]))return"(".concat(m(n,[t]),")");var n,r="string"==typeof o?O(o,i):o.toString();if("''"===r&&(n=g[e]))return"(".concat(m(n,[t]),")");return t=(_[s]||MsPortalFx.identity)(t),D[s]&&(t=(D[s]||MsPortalFx.identity)(t)),r=(_[l]||MsPortalFx.identity)(r),"(".concat(t," ").concat(m(e,[r]),")")})).join(" ".concat(C[e]," "))})).join(c)+d}function L(e,i){var n={},r={};return e.forEach((function(a){var s=a.split("=",2).map((function(e){return e.trim()})),l=s[0];if(n[l]){if(!!r[l].assignment!=(1!==s.length))throw new o.FxError({message:"One or more than one column in the "+i+" columns had an assignment ("+l+") which did not match: "+e.join(", ")});if(r[l].assignment&&s[1]!==r[l].assignment)throw new o.FxError({message:"More than one column in the "+i+" columns had an assignment ("+l+") which did not match: "+e.join(", ")});t.log.warning(new o.FxError({message:"Setting the "+i+" columns with a duplicate column name ("+l+"): "+e.join(", ")}))}else n[l]=!0,r[l]={assignment:s[1]}})),Object.keys(r).map((function(e){return e+(r[e].assignment?"="+r[e].assignment:"")}))}t.encodeKustoValue=O,t.getPredicate=T,t.buildDisplayNameMapProvider=function(e){var t=[],o=f[e.comparisonTypeOverride||7];if(MsPortalFx.forEachKey(e.displayNameMapFunc()||{},(function(i,n){e.subValueColumnName&&n.subValueDisplayNames&&MsPortalFx.forEachKey(n.subValueDisplayNames,(function(n,r){t.push("(".concat(e.columnName," ").concat(o," ").concat(O(i,e.skipColumnNameTrim),") and (").concat(e.subValueColumnName," ").concat(o," ").concat(O(n,e.skipColumnNameTrim),"),").concat(O(r,e.skipDisplayNameTrim),","))})),t.push("".concat(e.columnName," ").concat(o," ").concat(O(i,e.skipColumnNameTrim),",").concat(O(null==n?void 0:n.displayName,e.skipDisplayNameTrim),","))})),t.length){if(t.length>700){for(var i=[],n=[],r=0;r<t.length;r+=700){var a=Math.min(r+700,t.length),s=t.slice(r,a),l="".concat(e.mappedColumnName).concat(n.length+1);n.push(l),i.push("extend ".concat(l,"=case(").concat(s.join(""),'"")'))}return"".concat(i.join("|"),"|extend ").concat(e.mappedColumnName,"=coalesce(").concat(n.join(","),",").concat(e.columnName,")")}return"extend ".concat(e.mappedColumnName,"=case(").concat(t.join("")).concat(e.columnName,")")}return"extend ".concat(e.mappedColumnName,"=").concat(e.columnName)},t.buildValueToStringMapProvider=function(e){return"extend ".concat(e.mappedColumnName,"=tostring(").concat(e.columnName,")")},t.buildIifMapProvider=function(e){return"extend ".concat(e.mappedColumnName,"=iif(").concat(e.predicate,",").concat(e.trueValue,",").concat(e.falseValue,")")},t.buildSubscriptionUniqueDisplayNameMapProvider=function(){return"extend uniqueDisplayName=strcat(iif(properties.state=~'disabled','(disabled) ',''),name,' (',subscriptionId,')')"};var I=function(){function e(e,t,o,i){this._mappingProviders=[],this._queryProviders=[],this._expansionProviders=[],this._postExpandMappingProviders=[],this._postExpandQueryProviders=[],this._summarizeQueryProviders=[],this._summarizeColumnExtensions=[],this._postSummarizeQueryProviders=[],this._prefixPredicates=[],this._suffixPredicates=[],this._preSortPredicates=[],this._preSortQueryProviders=[],this.query=ko.observable(""),this._sortProviders=e&&e.slice()||[];var n=L(t||[],"projected");this._projectedColumns=n.slice(),this._summarizedColumns=o&&o.slice()||[],this._defaultQueryPredicate=i}return e.prototype.setSources=function(e){this._sources=e},e.prototype.getSources=function(){return this._sources},e.prototype.setIncludeSubscriptionNameJoin=function(e){this._includeSubscriptionNameJoin=e},e.prototype.getIncludeSubscriptionNameJoin=function(){return this._includeSubscriptionNameJoin},e.prototype.setDefaultQueryPredicate=function(e){this._defaultQueryPredicate=e},e.prototype.getDefaultQueryPredicate=function(){return this._defaultQueryPredicate},e.prototype.setMappingProviders=function(e){var t;(t=this._mappingProviders).splice.apply(t,__spreadArray([0,this._mappingProviders.length],e||[],!1))},e.prototype.getMappingProviders=function(){var e;return(null===(e=this._mappingProviders)||void 0===e?void 0:e.slice())||[]},e.prototype.setQueryProviders=function(e){var t;(t=this._queryProviders).splice.apply(t,__spreadArray([0,this._queryProviders.length],e||[],!1))},e.prototype.getQueryProviders=function(){var e;return(null===(e=this._queryProviders)||void 0===e?void 0:e.slice())||[]},e.prototype.setExpansionProviders=function(e){var t;(t=this._expansionProviders).splice.apply(t,__spreadArray([0,this._expansionProviders.length],e||[],!1))},e.prototype.getExpansionProviders=function(){var e;return(null===(e=this._expansionProviders)||void 0===e?void 0:e.slice())||[]},e.prototype.setPostExpandMappingProviders=function(e){var t;(t=this._postExpandMappingProviders).splice.apply(t,__spreadArray([0,this._postExpandMappingProviders.length],e||[],!1))},e.prototype.getPostExpandMappingProviders=function(){var e;return(null===(e=this._postExpandMappingProviders)||void 0===e?void 0:e.slice())||[]},e.prototype.setPostExpandQueryProviders=function(e){var t;(t=this._postExpandQueryProviders).splice.apply(t,__spreadArray([0,this._postExpandQueryProviders.length],e||[],!1))},e.prototype.getPostExpandQueryProviders=function(){var e;return(null===(e=this._postExpandQueryProviders)||void 0===e?void 0:e.slice())||[]},e.prototype.setSummarizeQueryProviders=function(e,t,o){var i,n;(i=this._summarizeQueryProviders).splice.apply(i,__spreadArray([0,this._summarizeQueryProviders.length],e||[],!1)),this._removeProjectedColumns=t,(n=this._summarizeColumnExtensions).splice.apply(n,__spreadArray([0,this._summarizeColumnExtensions.length],o||[],!1))},e.prototype.setSummarizeQuery=function(e,t){this._summarizeQuery=e,this._removeProjectedColumns=t,this._summarizeColumnExtensions.splice(0,this._summarizeColumnExtensions.length)},e.prototype.setPostSummarizeQueryProviders=function(e){var t;(t=this._postSummarizeQueryProviders).splice.apply(t,__spreadArray([0,this._postSummarizeQueryProviders.length],e||[],!1))},e.prototype.setSortProviders=function(e){var t;(t=this._sortProviders).splice.apply(t,__spreadArray([0,this._sortProviders.length],e||[],!1))},e.prototype.getSortProviders=function(){var e;return(null===(e=this._sortProviders)||void 0===e?void 0:e.slice())||[]},e.prototype.setProjectedColumns=function(e){var t,o=L(e||[],"projected");(t=this._projectedColumns).splice.apply(t,__spreadArray([0,this._projectedColumns.length],o,!1))},e.prototype.getProjectedColumns=function(){var e;return(null===(e=this._projectedColumns)||void 0===e?void 0:e.slice())||[]},e.prototype.setPreSortPredicates=function(e){var t;(t=this._preSortPredicates).splice.apply(t,__spreadArray([0,this._preSortPredicates.length],e||[],!1))},e.prototype.getPreSortPredicates=function(){var e;return(null===(e=this._preSortPredicates)||void 0===e?void 0:e.slice())||[]},e.prototype.setPreSortQueryProviders=function(e){var t;(t=this._preSortQueryProviders).splice.apply(t,__spreadArray([0,this._preSortQueryProviders.length],e||[],!1))},e.prototype.getPreSortQueryProviders=function(){var e;return(null===(e=this._preSortQueryProviders)||void 0===e?void 0:e.slice())||[]},e.prototype.setPrefixPredicates=function(e){var t;(t=this._prefixPredicates).splice.apply(t,__spreadArray([0,this._prefixPredicates.length],e||[],!1))},e.prototype.getPrefixPredicates=function(){var e;return(null===(e=this._prefixPredicates)||void 0===e?void 0:e.slice())||[]},e.prototype.setSuffixPredicates=function(e){var t;(t=this._suffixPredicates).splice.apply(t,__spreadArray([0,this._suffixPredicates.length],e||[],!1))},e.prototype.getSuffixPredicates=function(){var e;return(null===(e=this._suffixPredicates)||void 0===e?void 0:e.slice())||[]},e.prototype.setInlineDataSource=function(e){this._inlineDataSource=e},e.prototype.updateQuery=function(e,t){var o=[];if(this._sources&&!t){var i=[];1==(1&this._sources)&&i.push("resources");var n=[];if(2==(2&this._sources)&&n.push("microsoft.resources/subscriptions/resourcegroups"),4==(4&this._sources)&&n.push("microsoft.resources/subscriptions"),n.length&&i.push("(resourcecontainers|where type in~ ('"+n.join("','")+"'))"),i.length){o.push(i[0]);for(var r=1;r<i.length;r++)o.push("union("+i[r]+")")}}var a=this._prefixPredicates;if((a||[]).length&&o.push.apply(o,a),this._defaultQueryPredicate&&o.push(this._defaultQueryPredicate),this._inlineDataSource){var s=this._inlineDataSource.dataTableHeader,l=this._inlineDataSource.upstreamDataFilterColumn;if(l){var c;s.some((function(e,t){var o=e[0];e[1];if(o===l)return c=t,!0}));var u=this._inlineDataSource.dataTableRows.map((function(e){return e[c]}));if(null==u?void 0:u.length){var d="where (".concat(T(13,[l],u),")");o.push(d)}}var m="union (datatable (".concat(s.map((function(e){var t=e[0],o=e[1];return"['".concat(t,"']: ").concat(o)})).join(", "),")[").concat(this._inlineDataSource.dataTableRows.map((function(e){return e.map((function(e){return"string"==typeof e?O(e):"dynamic({".concat(Object.keys(null!=e?e:{}).map((function(t){return"".concat(O(t),":").concat(O(e[t]))})),"})")})).join(", ")})).join(", "),"])");o.push(m)}this._includeSubscriptionNameJoin&&(o.push('join kind=leftouter (resourcecontainers|where type =~ "microsoft.resources/subscriptions"|project subscriptionDisplayName=strcat(iif(properties.state=~"disabled","(disabled) ",""),name," (",subscriptionId,")"),subscriptionId) on $left.subscriptionId == $right.subscriptionId'),o.push("project-away subscriptionId1")),this._mappingProviders.forEach((function(e){return o.push(e)}));var p=function(e){e.forEach((function(e){var t=e.comparisonType?{queryProviders:[e],operator:2}:e,i=(t.queryProviders||[]).reduce((function(e,o){var i=b[o.comparisonType],n=T(o.comparisonType,MsPortalFx.makeArray(o.columnName),!i&&MsPortalFx.makeArray(o.value),o.skipValueTrim,i,o.useOperatorMapForMultipleColumns,o.prefix,o.castFunction,o.valueCastFunction);if(n){var r="",a=o.nestedQueryProvider;if(a){var s=b[a.comparisonType],l=T(a.comparisonType,[a.columnName],!s&&MsPortalFx.makeArray(a.value),a.skipValueTrim,i);if(l){var c=v[a.operatorOverride||2];r="".concat(c," (").concat(l,")")}}var u="".concat(n," ").concat(r);return o.negate&&(u="not(".concat(u,")")),(u=u.trim())&&(e?(e.multipleClauses=!0,e.accumulation="".concat(e.accumulation,") ").concat(v[t.operator]," (").concat(u)):e={accumulation:u}),e}}),null);(null==i?void 0:i.accumulation)&&(i.multipleClauses?o.push("where (".concat(i.accumulation,")")):o.push("where ".concat(i.accumulation)))}))};p(this._queryProviders),this._expansionProviders.forEach((function(e){o.push("extend ".concat(e.expandedTargetColumn,"=").concat(e.sourceColumn)),o.push("mvexpand bagexpansion=array ".concat(e.expandedTargetColumn))})),this._postExpandMappingProviders.forEach((function(e){return o.push(e)})),p(this._postExpandQueryProviders),o.push.apply(o,this._summarizeColumnExtensions.map((function(e){if(e.extendColumn!==e.column||e.castFunction>1){var t=_[e.castFunction]||MsPortalFx.identity;return"extend ".concat(e.extendColumn,"=").concat(t(e.column))}})).filter((function(e){return!!e})));var f=this._projectedColumns;this._summarizeQueryProviders.forEach((function(e){var t=[];(e.countColumns||[]).forEach((function(e){t.push("".concat(e,"=count()"))}));var i=MsPortalFx.extendArrayIntoMap(Object.create(null),e.wrappedColumns||[],MsPortalFx.identity,(function(e){return!0})),n=[],r=[];f.forEach((function(e){i[e]?n.push("".concat(e,"=any(").concat(e,")")):r.push(e)})),e.wrappedColumnsFirst?t.unshift.apply(t,n):t.push.apply(t,n),o.push("summarize ".concat(t.join(",")," by ").concat(r.join(",")))})),this._summarizeQuery&&o.push(this._summarizeQuery),p(this._postSummarizeQueryProviders),(f||[]).length&&!this._removeProjectedColumns&&o.push("project ".concat(f.join(",")));var h=this._preSortPredicates;(h||[]).length&&o.push.apply(o,h),p(this._preSortQueryProviders);var x=this._sortProviders;if((x||[]).length){var y=x.map((function(e){var t=(_[e.castFunction||2]||MsPortalFx.identity)(e.sortBy);return"(".concat(MsPortalFx.replaceAll(t,".","_"),") ").concat(1===e.order?"asc":"desc")})).join(",");o.push("sort by ".concat(y))}var C=(this._summarizeColumnExtensions||[]).filter((function(e){return!e.keepExtendedColumn}));C.length&&o.push("project-away ".concat(C.map((function(e){return e.extendColumn})).join(","))),o.push.apply(o,this._summarizeColumnExtensions.map((function(e){var t=D[e.castFunction];return t&&"extend ".concat(e.extendColumn,"=").concat(t(e.column))})).filter((function(e){return!!e})));var M=this._summarizedColumns;(M||[]).length&&o.push("summarize by ".concat(M.join(",")));var g=this._suffixPredicates;(g||[]).length&&o.push.apply(o,g),e&&o.push(e);var P=o.join("|");return this.query(P),P},e}();t.KustoQueryGenerator=I})),
define("FxHubs/ArtHelpers/KustoQueryHelpers",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.smartQuerySplit=t.buildTypeWithKindInclusionQueryProvider=t.buildTypeExclusionWithKindInclusionQueryProvider=t.buildTypeKindsExclusionQueryProvider=t.buildTypeInclusionQueryProvider=t.buildTypeExclusionQueryProvider=void 0,t.buildTypeExclusionQueryProvider=function(e){return{columnName:"type",comparisonType:17,value:e}},t.buildTypeInclusionQueryProvider=function(e){return{columnName:"type",comparisonType:7,value:e}},t.buildTypeKindsExclusionQueryProvider=function(e,t){return{columnName:"type",comparisonType:7,value:e,negate:!0,nestedQueryProvider:{columnName:"kind",comparisonType:7,value:t}}},t.buildTypeExclusionWithKindInclusionQueryProvider=function(e,t){return{columnName:"type",comparisonType:17,value:e,nestedQueryProvider:{columnName:"kind",comparisonType:7,value:t,operatorOverride:1}}},t.buildTypeWithKindInclusionQueryProvider=function(e,t){return{columnName:"type",comparisonType:7,value:e,nestedQueryProvider:{columnName:"kind",comparisonType:7,value:t}}},t.smartQuerySplit=function(e){for(var t=0,o=0,i=0,n=[];o<e.length;){var r=e[o++];if("("===r)++t;else if(")"===r)--t;else if("|"===r&&!t){var a=e.substring(i,o-1);a.length>0&&n.push(a.trim()),i=o}}var s=e.substring(i);return s.length>0&&n.push(s.trim()),n}})),
define("FxHubs/Common/AssetViewModelCommon",["require","exports","Fx/DependencyInjection","FxHubs/RpcEndPoints","FxHubs/ResourceManagement","FxInternal/Composition/ViewModelComposer","FxInternal/Composition/ViewModel"],(function(e,t,o,i,n,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isReactViewAssetTypeViewModel=t.getAssetTypeViewModel=t.AssetTypeViewModelWrapperImpl=t.AssetTypeViewModelWrapper=void 0;var s=function(){function e(e,t,o,i,n){this._dispose=i,this._getContent=n,this.assetTypeInformation=e,this.assetTypeName=t,this.assetTypeViewModelName=o}return e.prototype.dispose=function(){this._dispose()},e.prototype.getAssetTypeContract=function(e){return(0,n.supportsContract)(this.assetTypeInformation.contracts,e)?this._getContent():null},e}();t.AssetTypeViewModelWrapper=s;var l=function(e){function t(t,o,i,n,r){return e.call(this,t,o,i,(function(){MsPortalFx.disposeViewModelProperties(r),n.dispose()}),(function(){return r.content()}))||this}return __extends(t,e),t}(s);function c(e){var t,o;return null===(o=null===(t=null==e?void 0:e.viewModelLocator)||void 0===t?void 0:t.module)||void 0===o?void 0:o.endsWith(".AssetType")}function u(e){return e.viewModelLocator.module.split("/").slice(-1)[0]}t.AssetTypeViewModelWrapperImpl=l,t.getAssetTypeViewModel=function(e,t,n){var d;t instanceof o.Container?n=t:d=t;var m=e.assetType,p=e.viewModel;if(c(e)){if(!n)throw new Error("Not implemented");return i.AssetMenu.getReactAssetTypeViewModelEndpoint.acquireObject(FxImpl.Rpc.client,MsPortalFx.Base.Constants.Shell,{extensionName:e.viewModelExtensionName||e.extensionName,moduleName:u(e),bladeInstanceId:n.get(a.PartContext).bladeInstanceId}).then((function(t){return new s(e,m,p,(function(){t.value.dispose(),t.dispose()}),(function(){return t.value}))}))}if("HubsExtension"===e.extensionName){if(d)throw new Error("Local asset type view models do not support early exec tasks");return(0,r.composeViewModelWithDi)(o.container.createChildContainer("viewModel"),e.viewModelLocator,null).then((function(t){return new l(e,m,p,{value:p,dispose:function(){}},t)}))}return Q(r.getViewModelEndPoint.acquireChannel(FxImpl.Rpc.client,e.viewModelExtensionName||e.extensionName,{type:11,locator:e.viewModelLocator||{name:p},createSelectable:!1,earlyExecTask:d})).then((function(t){return new l(e,m,p,t,t.value)}))},t.isReactViewAssetTypeViewModel=c})),
define("FxHubs/Common/ResourcesOperationsCache",["require","exports","Fx/DependencyInjection","FxHubs/ArmHelpers/ArmEventsHelpers","FxHubs/ArmClient"],(function(e,t,o,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourcesOperationsCache=void 0;var r,a=MsPortalFx.Base.Constants.ResourceTypes,s=12e4,l=!1,c=!1,u=function(e){MsPortalFx.remove(e,(function(e){return e.timeToLive<=0})),e.forEach((function(e){return e.timeToLive-=6e4}))},d=function(){function t(e){this._diContainer=e,this._deletedResourcesIds=ko.observableArray([]),this._createdResourceGroups=ko.observableArray([]),this._createdResources=ko.observableArray([]),this._ltm=new FxImpl.TriggerableLifetimeManager}return t.prototype.watchArmEvents=function(){return l?null:(l=!0,this.watchForResourceDeletes())},t.prototype.addDeletedResourceId=function(e){this._deletedResourcesIds.push({timeToLive:s,value:e}),c||this.setClearTimer()},t.prototype.getDeletedResourceIds=function(){return this._deletedResourcesIds.map(this._ltm,(function(e,t){return t.value}))},t.prototype.addNewlyCreatedResourceGroup=function(e){this._createdResourceGroups.push({timeToLive:s,value:e}),MsPortalFx.remove(this._deletedResourcesIds(),(function(t){return t.value.toLowerCase()===e.armResourceGroup.id.toLowerCase()})),c||this.setClearTimer()},t.prototype.getCreatedResourceGroups=function(){return this._createdResourceGroups.map(this._ltm,(function(e,t){return t.value}))},t.prototype.addNewlyCreatedResources=function(e){var t=this;MsPortalFx.remove(this._deletedResourcesIds(),(function(t){return e.some((function(e){return(null==e?void 0:e.toLowerCase())===t.value.toLowerCase()}))}));for(var o=0,i=e.slice(0,10);o<i.length;o++){var r=i[o];(0,n.getResource)(r,"ResourcesOperationsCache").then((function(e){t._createdResources.push({timeToLive:s,value:e})}))}c||this.setClearTimer()},t.prototype.getCreatedResources=function(){return this._createdResources.map(this._ltm,(function(e,t){return t.value}))},t.prototype.watchForResourceDeletes=function(){var e=new i.ArmEventWatcher(this._diContainer);return e.attachEventWatch((a.AllResources||"").toLowerCase(),{resourceGroupDeleted:this.makeResourceOrGroupDeletedFunc(),resourceDeleted:this.makeResourceOrGroupDeletedFunc()},this._ltm),e},t.prototype.makeResourceOrGroupDeletedFunc=function(){var e=this;return function(t){t.forEach((function(t){e.addDeletedResourceId(t.assetId)}))}},t.prototype.clearCache=function(){u(this._deletedResourcesIds()),u(this._createdResourceGroups()),this._createdResourceGroups().length+this._deletedResourcesIds().length===0&&(clearInterval(r),c=!1)},t.prototype.setClearTimer=function(){var e=this;c=!0,r=setInterval((function(){return e.clearCache()}),6e4)},t=__decorate([__metadata("fx:diagnostics",[e,"ResourcesOperationsCache"]),o.Class(),__metadata("design:paramtypes",[o.Container])],t)}();t.ResourcesOperationsCache=d})),
define("FxHubs/ResourceCommands/BrowseBulkCommandConfig",["require","exports","FxHubs/Resources/FxHubsClientStrings"],(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BulkCommandDefinitions=t.AzureSqlCommandDefinition=t.EHNamespacesCommandDefinition=t.SBNamespacesCommandDefinition=t.CloudSimpleDedicatedCloudServicesCommandDefinition=t.CloudSimpleDedicatedCloudNodesCommandDefinition=t.CloudSimpleVMCommandDefinition=t.MlWorkspacesCommandDefinition=t.SqlDatabasesCommandDefinition=t.StorageCommandDefinition=t.AppServiceCommandDefinition=t.CloudServicesCommandDefinition=t.VirtualMachineScaleSetsCommandDefinition=t.AllResourcesCommandDefinition=void 0;var i=MsPortalFx.Base.Images;function n(e){return a.confirmCommand.format(e.toLowerCase())}var r=MsPortalFx.isFeatureEnabled("forcedelete"),a=o.BulkCommand,s="api-version=2015-06-01",l="api-version=2016-08-01",c=r?"api-version=2020-12-01":"api-version=2016-03-30",u="api-version=2017-03-30",d="api-version=2017-10-01-preview",m="api-version=2019-04-01",p="api-version=2017-04-01",f=a.confirmDeleteDescription,v=a.confirmStopVirtualMachineScaleSets,b=n(a.start),h=n(a.stop),x=n(a.restart),y=n(a.delete),C=n(a.suspend),M={"microsoft.compute/virtualmachines":{httpMethodType:"DELETE",uri:"{resourceid}?"+c,asyncOperation:{pollingHeaderOverride:"Azure-AsyncOperation"}},"microsoft.classiccompute/virtualmachines":{httpMethodType:"DELETE",uri:"{resourceid}?keep-disks=true&api-version=2015-12-01",asyncOperation:{pollingHeaderOverride:"Azure-AsyncOperation"}}},g={"microsoft.compute/virtualmachinescalesets":{httpMethodType:"DELETE",uri:"{resourceid}?api-version=2020-12-01",asyncOperation:{pollingHeaderOverride:"Azure-AsyncOperation"}}},P={"microsoft.sql/servers/databases":{httpMethodType:"DELETE",uri:"{resourceid}?"+d},"microsoft.sql/servers/elasticpools":{httpMethodType:"DELETE",uri:"{resourceid}?api-version=2017-10-01-preview"},"microsoft.sql/managedinstances":{httpMethodType:"DELETE",uri:"{resourceid}?api-version=2015-05-01-preview"},"microsoft.sqlvirtualmachine/sqlvirtualmachines":{httpMethodType:"DELETE",uri:"{resourceid}?api-version=2017-03-01-preview"},"microsoft.sql/servers":{httpMethodType:"DELETE",uri:"{resourceid}?api-version=2015-05-01-preview"}},w={"microsoft.web/sites":{httpMethodType:"DELETE",uri:"{resourceid}?deleteEmptyServerFarm=false&"+l}};t.AllResourcesCommandDefinition=[{id:"BulkDelete",label:a.delete,icon:i.Delete(),confirmation:{title:y,message:f.format(a.resources,a.confirmDeleteAllResources)},isBulkDeleteOperation:!0,armCommandDefinitions:MsPortalFx.extend2({"*":{httpMethodType:"DELETE",uri:null,retryableArmCodes:["publicipaddresscannotbedeleted","inusenetworksecuritygroupcannotbedeleted","nicinuse","inusesubnetcannotbedeleted","storageaccountoperationfailed"]}},M,r&&g,w)}],t.VirtualMachineScaleSetsCommandDefinition=[{id:"BulkStart",label:a.start,icon:i.Start(),confirmation:{message:b},armCommandDefinitions:{"microsoft.compute/virtualmachinescalesets":{uri:"{resourceid}/start?"+u}}},{id:"BulkRestart",label:a.restart,icon:i.Redo(),confirmation:{message:v.format(a.restart.toLowerCase())},armCommandDefinitions:{"microsoft.compute/virtualmachinescalesets":{uri:"{resourceid}/restart?"+u}}},{id:"BulkStop",label:a.stop,icon:i.Stop(),confirmation:{message:v.format(a.stop.toLowerCase())},armCommandDefinitions:{"microsoft.compute/virtualmachinescalesets":{uri:"{resourceid}/deallocate?"+u}}},{id:"BulkDelete",label:a.delete,icon:i.Delete(),confirmation:{title:y,message:f.format(a.virtualMachineScaleSets,a.confirmDeleteVirtualMachineScaleSets)},isBulkDeleteOperation:!0,armCommandDefinitions:{"microsoft.compute/virtualmachinescalesets":{httpMethodType:"DELETE",uri:"{resourceid}?"+u}}}],t.CloudServicesCommandDefinition=[{id:"BulkStartProduction",label:a.startProduction,icon:i.Start(),confirmation:{message:a.confirmStartProdCloudServices},armCommandDefinitions:{"microsoft.classiccompute/domainnames":{uri:"{resourceid}/slots/production/start?"+s}}},{id:"BulkStopProduction",label:a.stopProduction,icon:i.Stop(),confirmation:{title:a.confirmStopProdCloudServicesTitle,message:a.confirmBillingInfo},armCommandDefinitions:{"microsoft.classiccompute/domainnames":{uri:"{resourceid}/slots/production/stop?"+s}}},{id:"BulkStartStaging",label:a.startStaging,icon:i.Start(),confirmation:{message:a.confirmStartStagingCloudServices},armCommandDefinitions:{"microsoft.classiccompute/domainnames":{uri:"{resourceid}/slots/staging/start?"+s}}},{id:"BulkStopStaging",label:a.stopStaging,icon:i.Stop(),confirmation:{title:a.confirmStopStagingCloudServicesTitle,message:a.confirmBillingInfo},armCommandDefinitions:{"microsoft.classiccompute/domainnames":{uri:"{resourceid}/slots/staging/stop?"+s}}},{id:"BulkSwap",label:a.swap,icon:i.Swap(),confirmation:{message:a.confirmSwapCloudServices},armCommandDefinitions:{"microsoft.classiccompute/domainnames":{uri:"{resourceid}/swap?"+s}}},{id:"BulkDelete",label:a.delete,icon:i.Delete(),confirmation:{title:y,message:f.format(a.cloudServices,a.confirmDeleteCloudServices)},isBulkDeleteOperation:!0,armCommandDefinitions:{"microsoft.classiccompute/domainnames":{httpMethodType:"DELETE",uri:"{resourceid}?force=true&"+s}}}],t.AppServiceCommandDefinition=[{id:"BulkStart",label:a.start,icon:i.Start(),confirmation:{message:b},armCommandDefinitions:{"microsoft.web/sites":{uri:"{resourceid}/start?"+l}}},{id:"BulkRestart",label:a.restart,icon:i.Redo(),confirmation:{message:x},armCommandDefinitions:{"microsoft.web/sites":{uri:"{resourceid}/restart?"+l}}},{id:"BulkStop",label:a.stop,icon:i.Stop(),confirmation:{message:h},armCommandDefinitions:{"microsoft.web/sites":{uri:"{resourceid}/stop?"+l}}},{id:"BulkDelete",label:a.delete,icon:i.Delete(),confirmation:{title:y,message:f.format(a.webApps,a.confirmDeleteAppService)},isBulkDeleteOperation:!0,armCommandDefinitions:w}],t.StorageCommandDefinition=[{id:"BulkDelete",label:a.delete,icon:i.Delete(),confirmation:{title:y,message:f.format(a.storage,a.confirmDeleteStorage)},isBulkDeleteOperation:!0,armCommandDefinitions:{"microsoft.storage/storageaccounts":{httpMethodType:"DELETE",uri:"{resourceid}?api-version=2015-06-15"},"microsoft.classicstorage/storageaccounts":{httpMethodType:"DELETE",uri:"{resourceid}?api-version=2015-12-01"}}}],t.SqlDatabasesCommandDefinition=[{id:"BulkDelete",label:a.delete,icon:i.Delete(),confirmation:{title:y,message:f.format(a.databases,a.confirmDeleteDatabases)},isBulkDeleteOperation:!0,armCommandDefinitions:{"microsoft.sql/servers/databases":{httpMethodType:"DELETE",uri:"{resourceid}?"+d}}}],t.MlWorkspacesCommandDefinition=[{id:"BulkDelete",label:a.delete,icon:i.Delete(),confirmation:{title:y,message:f.format(a.mlWorkspaces,a.confirmDeleteMlWorkspaces)},isBulkDeleteOperation:!0,armCommandDefinitions:{"microsoft.machinelearningservices/workspaces":{httpMethodType:"DELETE",uri:"{resourceid}?api-version=2018-11-19"}}}],t.CloudSimpleVMCommandDefinition=[{id:"BulkStart",label:a.start,icon:i.Start(),confirmation:{message:b},armCommandDefinitions:{"microsoft.vmwarecloudsimple/virtualmachines":{uri:"{resourceid}/start?"+m}}},{id:"BulkRestart",label:a.restart,icon:i.Redo(),confirmation:{message:x},armCommandDefinitions:{"microsoft.vmwarecloudsimple/virtualmachines":{uri:"{resourceid}/stop?mode=reboot&"+m}}},{id:"BulkSuspend",label:a.suspend,icon:i.Paused(),confirmation:{message:C},armCommandDefinitions:{"microsoft.vmwarecloudsimple/virtualmachines":{uri:"{resourceid}/stop?mode=suspend&"+m}}},{id:"BulkStop",label:a.stop,icon:i.Stop(),confirmation:{message:h},armCommandDefinitions:{"microsoft.vmwarecloudsimple/virtualmachines":{uri:"{resourceid}/stop?mode=shutdown&"+m}}},{id:"BulkDelete",label:a.delete,icon:i.Delete(),confirmation:{title:y,message:f.format(a.cloudSimpleVM,a.confirmDeleteCloudSimpleVM)},isBulkDeleteOperation:!0,armCommandDefinitions:{"microsoft.vmwarecloudsimple/virtualmachines":{httpMethodType:"DELETE",uri:"{resourceid}?"+m}}}],t.CloudSimpleDedicatedCloudNodesCommandDefinition=[{id:"BulkDelete",label:a.delete,icon:i.Delete(),confirmation:{title:y,message:f.format(a.cloudSimpleDedicatedCloudNodes,a.confirmDeleteCloudSimpleDCN)},isBulkDeleteOperation:!0,armCommandDefinitions:{"microsoft.vmwarecloudsimple/dedicatedcloudnodes":{httpMethodType:"DELETE",uri:"{resourceid}?"+m}}}],t.CloudSimpleDedicatedCloudServicesCommandDefinition=[{id:"BulkDelete",label:a.delete,icon:i.Delete(),confirmation:{title:y,message:f.format(a.cloudSimpleDedicatedCloudServices,a.confirmDeleteCloudSimpleDCS)},isBulkDeleteOperation:!0,armCommandDefinitions:{"microsoft.vmwarecloudsimple/dedicatedcloudservices":{httpMethodType:"DELETE",uri:"{resourceid}?"+m}}}],t.SBNamespacesCommandDefinition=[{id:"BulkDelete",label:a.delete,icon:i.Delete(),confirmation:{title:y,message:f.format(a.sbNamespaces,a.confirmDeleteSBNamespaces)},isBulkDeleteOperation:!0,armCommandDefinitions:{"microsoft.servicebus/namespaces":{httpMethodType:"DELETE",uri:"{resourceid}?"+p}}}],t.EHNamespacesCommandDefinition=[{id:"BulkDelete",label:a.delete,icon:i.Delete(),confirmation:{title:y,message:f.format(a.sbNamespaces,a.confirmDeleteEHNamespaces)},isBulkDeleteOperation:!0,armCommandDefinitions:{"microsoft.eventhub/namespaces":{httpMethodType:"DELETE",uri:"{resourceid}?"+p}}}],t.AzureSqlCommandDefinition=[{id:"BulkDelete",label:a.delete,icon:i.Delete(),confirmation:{title:y,message:f.format(a.resources,a.confirmDeleteAllResources)},isBulkDeleteOperation:!0,armCommandDefinitions:P}],t.BulkCommandDefinitions={"microsoft.resources/resources":t.AllResourcesCommandDefinition,"microsoft.compute/virtualmachinescalesets":t.VirtualMachineScaleSetsCommandDefinition,"microsoft.classiccompute/domainnames":t.CloudServicesCommandDefinition,"microsoft.web/sites":t.AppServiceCommandDefinition,"microsoft.storage/storageaccounts":t.StorageCommandDefinition,"microsoft.classicstorage/storageaccounts":t.StorageCommandDefinition,"microsoft.sql/servers/databases":t.SqlDatabasesCommandDefinition,"microsoft.machinelearningservices/workspaces":t.MlWorkspacesCommandDefinition,"microsoft.vmwarecloudsimple/virtualmachines":t.CloudSimpleVMCommandDefinition,"microsoft.vmwarecloudsimple/dedicatedcloudnodes":t.CloudSimpleDedicatedCloudNodesCommandDefinition,"microsoft.vmwarecloudsimple/dedicatedcloudservices":t.CloudSimpleDedicatedCloudServicesCommandDefinition,"microsoft.servicebus/namespaces":t.SBNamespacesCommandDefinition,"microsoft.eventhub/namespaces":t.EHNamespacesCommandDefinition,"microsoft.sql/azuresql":t.AzureSqlCommandDefinition}})),
define("FxHubs/ResourceCommands/BrowseBulkCommandImpl",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BulkCommandImpl=void 0;var o=MsPortalFx.Base,i=function(){function e(e,t,o,i,n){var r=this;this._canExecute=ko.observable(!0),this._telemetrySource=t,this._armCmdDef=i,this._cmdContext=o,this._apiVersionsMap=n,this.canExecute=ko.computed(e,(function(){return r._cmdContext.hasSelectedItems()&&r._canExecute()}))}return e.prototype.execute=function(e,t){var i=this;if(this._canExecute(!1),6===(null==e?void 0:e.button)||4===(null==e?void 0:e.button)){var n=this._cmdContext.selectedBrowseItems(),r=n.map((function(e){return{name:e.name,resourceId:e.id,resourceType:e.type.toLowerCase(),kind:e.kind}}));o.Diagnostics.Telemetry.trace({action:"BulkCommandExecuted",source:this._telemetrySource,name:this._armCmdDef.id,data:{resourceType:this._cmdContext.resourceType,numberOfResources:n.length,confirmation:!!this._armCmdDef.confirmation,selectionModel:this._armCmdDef.selection&&this._armCmdDef.selection.maxSelectedItems,commandType:"ArmCommand"}});var a=MsPortalFx.require("FxHubs/ResourceCommands/ArmBulkCommand").then((function(e){return e.execute(i._armCmdDef,i._cmdContext.resourceType,r,null,i._apiVersionsMap,t)}));return this._canExecute(!0),a.then((function(){if(i._cmdContext.onCompleteCallback)return i._cmdContext.onCompleteCallback(n)}))}return this._canExecute(!0),Q()},e}();t.BulkCommandImpl=i})),
define("FxHubs/ResourceCommands/BulkDeleteBladeModel",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MaxBatchDeleteResources=void 0,t.MaxBatchDeleteResources=100})),
define("FxHubs/ResourceCommands/BrowseCommanding",["require","exports","Fx/Controls/Toolbar","Fx/Composition","FxHubs/ResourceCommands/BulkDeleteBladeModel","FxHubs/ResourceCommands/BrowseBulkCommandImpl","FxHubs/ResourceCommands/BrowseBulkCommandConfig","FxHubs/Resources/FxHubsClientStrings","Fx/Composition/Selectable","FxHubs/RpcEndPointsCore"],(function(e,t,o,i,n,r,a,s,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createServiceHoverCardCommand=t.createSelectionCommandDescriptors=t.createSelectionCommands=t.createGenericCommandDescriptors=t.createGenericCommands=void 0;var u=FxImpl.Composition.Selectable.PdlBladeReference,d=MsPortalFx.Base,m=d.Diagnostics.Telemetry,p=o.ToolbarItems.createBasicButton,f=s.BulkCommand,v=d.Diagnostics.createLog(e),b={};function h(e,t){return e?s.BulkCommand.disabledByPolicyTooltip:t}function x(e,t){var o=e.bladeReference;if(o&&o.blade)return{itemType:"openBlade",commandDefinition:e,isDisabled:t};if(e.marketplaceItemId)return{itemType:"openMarketplace",commandDefinition:e,isDisabled:t};if(e.commands&&e.commands.length){var i=[];return e.commands.forEach((function(e){e.bladeReference&&e.bladeReference.blade?i.push({itemType:"openBlade",commandDefinition:e,isDisabled:t}):e.marketplaceItemId&&i.push({itemType:"openMarketplace",commandDefinition:e,isDisabled:t})})),{itemType:"menu",commandDefinition:e,isDisabled:t,commandItems:i}}}function y(e){if(e.armCommandDefinitionOptions&&e.armCommandDefinitionOptions.isDelete||e.isBulkDeleteOperation)return{itemType:"selectionBulkDelete",commandDefinition:e};if(!e.confirmation||!e.confirmation.explicitConfirmationText){if(e.bladeReference&&e.bladeReference.blade)return{itemType:"selectionOpenBlade",commandDefinition:e};if(e.commands&&e.commands.length){var t=[];return e.commands.forEach((function(o){if(o.bladeReference&&o.bladeReference.blade)t.push({itemType:"selectionOpenBlade",commandDefinition:o});else if(o.armCommandDefinitionOptions&&o.armCommandDefinitionOptions.definitions){var i=void 0;i=o.armCommandDefinitionOptions.isDelete?{itemType:"selectionBulkDelete",commandDefinition:e}:{itemType:"selectionArmBulkCommand",commandDefinition:o},t.push(i)}})),{itemType:"selectionMenu",commandDefinition:e,commandItems:t}}return{itemType:"selectionArmBulkCommand",commandDefinition:e}}}function C(e,t,o){var i,n,r,a=[];if(t){var s=e.kindCommandNameMapping&&e.kindCommandNameMapping[t.toLowerCase()],l=s&&e.kindCommands&&e.kindCommands[s.toLowerCase()];(null==(a=o?null==l?void 0:l.selectionCommands:null==l?void 0:l.commands)?void 0:a.length)||o||(a=null===(i=null==e?void 0:e.commands)||void 0===i?void 0:i.commands)}else a=o?null===(n=null==e?void 0:e.commands)||void 0===n?void 0:n.selectionCommands:null===(r=null==e?void 0:e.commands)||void 0===r?void 0:r.commands;return a||[]}function M(e,t,o,i,n,r,a,s){var l,c=[],u=o&&o.hiddenCommands,d=o&&o.browseCommandExperiments&&(null===(l=o.browseCommandExperiments[r])||void 0===l?void 0:l.commands),p=C(t,s,!1);return!(null==d?void 0:d.length)||n&&1!==n?p.forEach((function(e){(function(e){var t=e.visibility,o=t&&(t&n)!==n;return!(u&&(u.includes("*")||u.includes(e.id.toLowerCase()))||16===e.visibility||1===t&&o||1===n&&o||4===n&&(!t||o)||32===t)})(e)&&c.push(x(e,a))})):(m.trace({source:e,action:"BrowseCommandBarExperimentFound",data:{commandSectionType:"NonSelectionCommands",resourceType:i,treatmentVariableValue:r,commandIds:d.join(",")}}),d.forEach((function(e){var t=p.find((function(t){return t.id.toLowerCase()===e.toLowerCase()}));t?c.push(x(t,a)):v.warning("Missing command definition for resource type: {0} with command id {1} specified in commands array from experimentation config".format(i,e))}))),c}function g(e,t,o,i,n,r,s,l){var c,u,d,p,f,b,h,x=[],C=null==i?void 0:i.toLowerCase(),M=o&&o.hiddenCommands,g=!1;if(g=!(!(null===(c=t.commands)||void 0===c?void 0:c.commands)&&!(null===(u=t.commands)||void 0===u?void 0:u.selectionCommands)),h=(null===(d=t.commands)||void 0===d?void 0:d.selectionCommands)||!g&&a.BulkCommandDefinitions[C]||[],s){var P=t.kindCommandNameMapping&&t.kindCommandNameMapping[null==s?void 0:s.toLowerCase()],w=P&&t.kindCommands&&t.kindCommands[P.toLowerCase()];g=!!(null===(p=null==w?void 0:w.selectionCommands)||void 0===p?void 0:p.length)||!!(null===(f=null==w?void 0:w.commands)||void 0===f?void 0:f.length),h=(null==w?void 0:w.selectionCommands)||[]}var F=(null==o?void 0:o.browseCommandExperiments)&&(null===(b=o.browseCommandExperiments[r])||void 0===b?void 0:b.selectionCommands);return!(null==F?void 0:F.length)||n&&1!==n?h.forEach((function(e){var t,o,i,r=e.visibility&&(e.visibility&n)!==n;M&&(M.includes("*")||M.includes(e.id.toLowerCase()))||n&&2===n&&((null===(t=e.selection)||void 0===t?void 0:t.minSelectedItems)>1||(null===(o=e.commands)||void 0===o?void 0:o.length)&&!l||r)||16===n||1===n&&r||8===n&&((null===(i=e.selection)||void 0===i?void 0:i.minSelectedItems)>1||r)||x.push(y(e))})):(m.trace({source:e,action:"BrowseCommandBarExperimentFound",data:{commandSectionType:"SelectionCommands",resourceType:i,treatmentVariableValue:r,commandIds:F.join(",")}}),F.forEach((function(e){var t=h.find((function(t){return t.id.toLowerCase()===e.toLowerCase()}));t?x.push(y(t)):v.warning("Missing command definition for resource type: {0} with command id {1} specified in selectionCommands array from experimentation config".format(i,e))}))),x}function P(e){MsPortalFx.forEachKey(e,(function(t,o){if(o&&"string"==typeof o){var i=decodeURIComponent(o);try{o=JSON.parse(i)}catch(e){o=i}e[t]=o}}))}function w(e,t,o,i,n){void 0===n&&(n=3),0!==n&&MsPortalFx.forEachKey(t,(function(r,a){if(a){if("object"==typeof a&&!Array.isArray(a))return w(e,a,o,i,--n);if("string"==typeof a&&"{resourceids}"===a.toLowerCase()){var s=i.toLowerCase();"microsoft.compute/virtualmachines"!==s&&"microsoft.classiccompute/virtualmachines"!==s||"microsoft_azure_automation"!==e.bladeReference.extension.toLowerCase()||"multivmonboardingblade"!==e.bladeReference.blade.toLowerCase()?t[r]=o().map((function(e){return e.id})):t[r]=o().map((function(e){return{resourceId:e.id,locationId:e.location}}))}}}))}t.createGenericCommands=function(e,t,i,n,r,a,s,l,c,u,d){var m=function(t){return D({showIcon:!0,showLabel:!0,showCustomIcon:!0},e,t.commandDefinition,n,r,a,n,t.isDisabled,s,d)},p=function(t){return S({showIcon:!0,showLabel:!0,showCustomIcon:!0},e,t.commandDefinition,n,a,n,t.isDisabled,s)};return M(e,t,i,a,s,l,c,u).map((function(e){switch(e.itemType){case"openBlade":return m(e);case"openMarketplace":return p(e);case"menu":var t=e.commandItems.map((function(e){switch(e.itemType){case"openBlade":return m(e);case"openMarketplace":return p(e)}}));return o.ToolbarItems.createMenuButton(n,{label:e.commandDefinition.label,icon:e.commandDefinition.icon,buttons:t,ariaLabel:e.commandDefinition.ariaLabel,tooltip:h(c,e.commandDefinition.toolTip),telemetryName:"".concat(a,"-").concat(e.commandDefinition.id),cssClass:4===s?"ext-hubs-artbrowse-empty-custom-button":"",disabled:e.isDisabled})}}))},t.createGenericCommandDescriptors=M,t.createSelectionCommands=function(e,t,a,s,d,m,v,h,x,y,M,F,D,S){var O,T=(null==a?void 0:a.extensibleCommandsApiVersions)||{},L=function(t){var i=f.tooltip.format(t.commandDefinition.label);return function(e,t,i,n,r,a,s,c,d){var m=t.bladeReference.blade,f=t.bladeReference.extension,v=function(){var o,i=MsPortalFx.clone(t.bladeReference.parameters),n=f||r&&r();P(i),w(t,i,s,a),_(i,d),o=t.bladeReference.doesProvisioning?new l.ProvisioningBladeReference(m,n,null,{parameters:i}):new u(m,n,{parameters:i}),t.bladeReference.inContextPane?c.openContextPane(o):c.openBlade(o,{asSubJourney:!0}),k({telemetrySource:e,action:"BulkCommandExecuted",commandId:t.id,commandType:"OpenBladeSelectionCommand",resourceType:a,selectionModel:t.selection&&t.selection.maxSelectedItems,numberOfResources:s().length})};return t.content?o.ToolbarItems.createMenuItemCustomButton(n,{label:t.label,icon:t.icon,ariaLabel:t.ariaLabel,tooltip:t.toolTip||i,content:t.content,telemetryName:"".concat(a,"-").concat(t.id),disabled:ko.pureComputed((function(){if(t.selection){var e=t.selection,o=e.maxSelectedItems,i=e.minSelectedItems,n=s().length;return!n||o&&n>o||i&&n<i}return!s().length})),disabledMessage:t.selection&&t.selection.disabledMessage,onClick:v}):p(n,{label:t.label,icon:t.icon,ariaLabel:t.ariaLabel,tooltip:t.toolTip||i,telemetryName:"".concat(a,"-").concat(t.id),disabled:ko.pureComputed((function(){if(t.selection){var e=t.selection,o=e.maxSelectedItems,i=e.minSelectedItems,n=s().length;return!n||o&&n>o||i&&n<i}return!s().length})),disabledMessage:t.selection&&t.selection.disabledMessage,onClick:v})}(e,t.commandDefinition,i,s,d,m,v,x,S)},I=function(t){var o=f.tooltip.format(t.commandDefinition.label);return function(e,t,o,r,a,s,l){return p(r,{label:t.label,icon:t.icon,ariaLabel:t.ariaLabel,tooltip:t.toolTip||o,disabled:ko.pureComputed((function(){return!s().length})),telemetryName:"".concat(a,"-").concat(t.id),onClick:function(){var o=[],r=[],c=[],u=s(),d=u.length;d<=n.MaxBatchDeleteResources&&(o=u.map((function(e){var t={name:e.name,resourceId:e.id,resourceType:e.type.toLowerCase(),assetType:e.typeDisplayName,icon:e.icon,kind:e.kind};return e.typeDisplayName||(r.push(t),c.push(t.resourceId)),t}))),k({telemetrySource:e,action:"BulkCommandExecuted",commandId:t.id,commandType:"ArmCommand",resourceType:a,selectionModel:t.selection&&t.selection.maxSelectedItems,numberOfResources:s().length}),(r.length?MsPortalFx.Assets.getResourceAssetInformation(c).then((function(e){for(var t=0;t<(null==e?void 0:e.length);t++)r[t].assetType=e[t].assetType})):Promise.resolve()).then((function(){var e=i.BladeReferences.forExtension("Microsoft_Azure_Resources").forBlade("BulkDelete.ReactView");l.openContextPane(e.createReference({parameters:{resources:o,commandDefinition:t,resourceType:a,resourceInfoCount:d}}))}))}})}(e,t.commandDefinition,o,s,m,v,x)},A=function(i){var n=f.tooltip.format(i.commandDefinition.label),a=function(e){var t,o={};return MsPortalFx.forEachKey(null===(t=null==e?void 0:e.armCommandDefinitionOptions)||void 0===t?void 0:t.definitions,(function(t){var i,n=T[t];if(n){var r=null===(i=e.id)||void 0===i?void 0:i.toLowerCase(),a=n[r];o[r]=a}})),o}(i.commandDefinition);return O||(O=ko.computed(s,(function(){return!!v().length}))),function(e,t,i,n,a,s,l,u,d,m,p){return o.ToolbarItems.createBasicButton(a,{telemetryName:"{0}.BulkCmd.{1}".format(s,t.id),label:t.label,icon:t.icon,ariaLabel:t.ariaLabel,tooltip:t.toolTip||n,disabled:ko.pureComputed((function(){return!l().length})),onClick:function(){u.openDialog({title:t.confirmation.title,content:t.confirmation.message,buttons:4,telemetryName:"{0}.BulkCmd.{1}".format(s,t.id),onClosed:function(o){var n,u,f={},v=(null===(n=m.mergedResourceTypes)||void 0===n?void 0:n.length)>0,h=function(){var n=new r.BulkCommandImpl(a,e,{resourceType:s,hasSelectedItems:i,selectedBrowseItems:l,onCompleteCallback:function(){return Q()}},t,d);n.canExecute()&&n.execute(o,f)},x=function(){l().forEach((function(e){var o,i,n,r,a,s,l;if(e.kind){var c=e.kind,u=f[null===(o=e.type)||void 0===o?void 0:o.toLowerCase()]||{};if(u[c])return;var d=null===(n=C(v?b[null===(i=e.type)||void 0===i?void 0:i.toLowerCase()]:m,c,!0))||void 0===n?void 0:n.find((function(e){return e.label.toLowerCase()===t.label.toLowerCase()}));u[c]=null===(a=null===(r=null==d?void 0:d.armCommandDefinitionOptions)||void 0===r?void 0:r.definitions)||void 0===a?void 0:a[null===(s=e.type)||void 0===s?void 0:s.toLowerCase()],f[null===(l=e.type)||void 0===l?void 0:l.toLowerCase()]=u}})),h()};if(p)if(v)if(b[s.toLowerCase()]=m,l().some((function(e){var t;return!b[null===(t=e.type)||void 0===t?void 0:t.toLowerCase()]}))){var y=null===(u=m.mergedResourceTypes.map((function(e){return e.resourceTypeName})))||void 0===u?void 0:u.reduce((function(e,t){return e.includes(t)||e.push(t),e}),[]);c.Browse.getBrowseManifestsForResourceTypesEndpoint.invoke(FxImpl.Rpc.client,"fxw",y).then((function(e){y.forEach((function(t){b[null==t?void 0:t.toLowerCase()]=e[t]})),x()}))}else x();else x();else h()}})}})}(e,i.commandDefinition,O,n,s,m,v,h,a,t,D)};return g(e,t,a,m,y,M,F).map((function(e){var t;switch(e.itemType){case"selectionOpenBlade":return L(e);case"selectionBulkDelete":return I(e);case"selectionArmBulkCommand":return A(e);case"selectionMenu":return o.ToolbarItems.createMenuButton(s,{label:e.commandDefinition.label,icon:e.commandDefinition.icon,buttons:null===(t=e.commandItems)||void 0===t?void 0:t.map((function(e){switch(e.itemType){case"selectionOpenBlade":return L(e);case"selectionBulkDelete":return I(e);case"selectionArmBulkCommand":return A(e)}})),ariaLabel:e.commandDefinition.ariaLabel,tooltip:e.commandDefinition.toolTip,telemetryName:"".concat(m,"-").concat(e.commandDefinition.id),disabled:ko.pureComputed((function(){if(e.commandDefinition.selection){var t=e.commandDefinition.selection,o=t.maxSelectedItems,i=t.minSelectedItems,n=v().length;return!n||o&&n>o||i&&n<i}return!v().length})),disabledMessage:e.commandDefinition.selection&&e.commandDefinition.selection.disabledMessage})}}))},t.createSelectionCommandDescriptors=g,t.createServiceHoverCardCommand=function(e,t,i,n,r,a,s,l,c,u){var d=C(i,u,!1),m=null==d?void 0:d.find((function(e){return 32&e.visibility&&!(null==c?void 0:c.includes(e.id.toLowerCase()))}));if(!m)return null;if(c&&(c.includes("*")||c.includes(m.id.toLowerCase())))return null;var p=m.bladeReference;if(p&&p.blade)return D(e,t,m,n,r,a,s,l,null);if(m.marketplaceItemId)return S(e,t,m,n,a,s,l,null);if(m.commands&&m.commands.length){var f=[];return m.commands.forEach((function(e){e.bladeReference&&e.bladeReference.blade?f.push(D({showIcon:!0,showLabel:!0,showCustomIcon:!0},t,e,n,r,a,s,l,32)):e.marketplaceItemId&&f.push(S({showIcon:!0,showLabel:!0,showCustomIcon:!0},t,e,n,a,s,l,32))})),o.ToolbarItems.createMenuButton(n,{label:e.showLabel?m.label:"",icon:e.showIcon?e.showCustomIcon?m.icon:MsPortalFx.Base.Images.Add():null,buttons:f,ariaLabel:m.ariaLabel,tooltip:h(l,m.toolTip),disabled:l})}return null};var F=/^\{\w+\}$/gm;function _(e,t,o){void 0===o&&(o=3),0!==o&&MsPortalFx.forEachKey(e,(function(i,n){n&&("object"!=typeof n||Array.isArray(n)?"string"==typeof n&&(MsPortalFx.forEachKey(t,(function(t,o){n.toLowerCase()==="{".concat(t,"}").toLowerCase()&&(e[i]=o)})),e[i].match(F)&&(e[i]=void 0)):_(n,t,o-1))}))}function D(e,t,i,n,r,a,s,c,d,m){var f,v=i.bladeReference.blade,b=i.bladeReference.extension,x=MsPortalFx.clone(i.bladeReference.parameters);_(x,m),P(x);var y={label:e.showLabel?i.label:"",icon:e.showIcon?e.showCustomIcon?i.icon:MsPortalFx.Base.Images.Add():null,ariaLabel:i.ariaLabel,tooltip:h(c,i.toolTip),telemetryName:"".concat(a,"-").concat(i.id),cssClass:4===d?"ext-hubs-artbrowse-empty-custom-button":"",onClick:function(){f=i.bladeReference.doesProvisioning?new l.ProvisioningBladeReference(v,b||r&&r(),null,{parameters:x}):new u(v,b||r&&r(),{parameters:x}),i.bladeReference.inContextPane?s.openContextPane(f):s.openBlade(f,{asSubJourney:!0}),k({telemetrySource:t,resourceType:a,commandId:i.id,action:"ExtensibleCommandExecuted",commandType:"OpenBladeCommand"})},disabled:c};if(i.content){var C=MsPortalFx.extend2(y,{content:i.content});return o.ToolbarItems.createMenuItemCustomButton(n,C)}return p(n,y)}function S(e,t,n,r,a,s,l,c){var u={label:e.showLabel?n.label:"",icon:e.showIcon?e.showCustomIcon?n.icon:MsPortalFx.Base.Images.Add():null,ariaLabel:n.ariaLabel,tooltip:h(l,n.toolTip),telemetryName:"".concat(a,"-").concat(n.id),onClick:function(){s.openBlade(i.BladeReferences.forMarketplace().createReference({marketplaceId:n.marketplaceItemId}),{asSubJourney:!0}),k({telemetrySource:t,resourceType:a,commandId:n.id,action:"ExtensibleCommandExecuted",commandType:"OpenMarketplaceCommand"})},cssClass:4===c?"ext-hubs-artbrowse-empty-custom-button":"",disabled:l};if(n.content){var d=MsPortalFx.extend2(u,{content:n.content});return o.ToolbarItems.createMenuItemCustomButton(r,d)}return p(r,u)}function k(e){m.trace({source:e.telemetrySource,action:e.action,name:e.commandId,data:{commandType:e.commandType,confirmation:e.confirmation,numberOfResources:e.numberOfResources,resourceType:e.resourceType,selectionModel:e.selectionModel}})}})),
define("FxInternal/Controls/DataGrid",["require","exports","FxInternal/Controls/Grid2/Grid2.DataGrid"],(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUriLinkColumn=t.createTextColumn=t.createTemplateColumn=t.createTagListColumn=t.createResourceLinkColumn=t.createCustomLinkColumn=t.createBladeLinkColumn=t.create=void 0,t.create=function(e,t){return ko.ignoreDependencies((function(){return new o.ViewModel(e,t)}))},t.createBladeLinkColumn=function(e){return __assign(__assign({},e),{type:"BladeLink"})},t.createCustomLinkColumn=function(e){return __assign(__assign({},e),{type:"CustomLink"})},t.createResourceLinkColumn=function(e){return __assign(__assign({},e),{type:"ResourceLink"})},t.createTagListColumn=function(e){return __assign(__assign({},e),{type:"TagList"})},t.createTemplateColumn=function(e){return __assign(__assign({},e),{type:"Template"})},t.createTextColumn=function(e){return __assign(__assign({},e),{type:"Text"})},t.createUriLinkColumn=function(e){return __assign(__assign({},e),{type:"UriLink"})}}));