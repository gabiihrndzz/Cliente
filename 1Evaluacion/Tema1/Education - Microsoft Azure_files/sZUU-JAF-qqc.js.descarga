define("@microsoft/azureportal-reactview/Navigation",["require","exports","react","@microsoft/azureportal-reactview/Az","@microsoft/azureportal-reactview/ResourceManagement","@microsoft/azureportal-reactview/internal/ReactView","@microsoft/azureportal-reactview/Environment"],(function(e,n,t,r,o,a,s){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.toggleFullScreen=n.openContextPane=n.openBlade=n.isMinimized=n.getRecentBlades=n.navigateToDeepLink=n.toggleSideBar=n.navigateToHome=n.executeInCloudShell=n.openHelpPane=n.useSideBarLayoutMode=n.useDeepLink=n.addDeepLinkChangeListener=n.getCurrentDeepLink=n.hasMenuItem=n.sanitizeLink=n.handleTagsContextPaneResults=n.getMoveLocationBladeReference=n.getMoveResourceBladeReference=n.getEditTagsBladeReference=n.getTagsBladeReference=n.getResourceBladeReference=n.getAutomationBladeReference=n.getArmErrorsBladeReference=n.getBladeLink=n.MoveType=n.BladeReference=n.TroubleshootingLinks=n.BladeReferences=n.BladeClosedReason=n.HelpPaneState=void 0,n.HelpPaneState=r.HelpPaneState,n.BladeClosedReason=r.BladeClosedReason;const i=__InternalAzurePortal.AzInternalApi.internalApi,u=()=>(0,s.getEnvironmentValue)("extensionName");var c,l;n.BladeReferences={forBlade:e=>m(u(),e),forMenuBlade:(e,n,t)=>R(u(),e,n,t),forMarketplace:()=>m("",""),forCreateAssetType:()=>m("",""),forExtension:e=>({forBlade:n=>m(e,n),forMenuBlade:(n,t,r)=>R(e,n,t,r)})},function(e){e[e.CommonDeploymentErrors=0]="CommonDeploymentErrors",e[e.ResourceMoveDocs=1]="ResourceMoveDocs",e[e.CreateArmTemplateDocs=2]="CreateArmTemplateDocs"}(c||(n.TroubleshootingLinks=c={}));function d(){return i.getCurrentDeepLink()}function p(e){return i.addDeepLinkEventHandler(e)}n.BladeReference=class{},function(e){e[e.Subscription=0]="Subscription",e[e.ResourceGroup=1]="ResourceGroup",e[e.SubscriptionAndResourceGroup=3]="SubscriptionAndResourceGroup",e[e.None=4]="None"}(l||(n.MoveType=l={})),n.getBladeLink=function(e){return i.getBladeLink({bladeReference:{...e,onClosed:void 0}})},n.getArmErrorsBladeReference=function(e){return i.getArmErrorsBladeReference(e)},n.getAutomationBladeReference=function(e){return i.getAutomationBladeReference(e)},n.getResourceBladeReference=function(e,n){return i.getResourceBladeReference({resourceId:e,resourceKind:n})},n.getTagsBladeReference=function(e){return i.getTagsBladeReference(e)},n.getEditTagsBladeReference=function(e,n){return i.getEditTagsBladeReference({resourceId:e,tagName:n.tagName}).then((e=>(e.onClosed=n.onClosed,e)))},n.getMoveResourceBladeReference=function(e,n){const t=(0,s.isFeatureEnabled)("moveresourcesreact"),r=(0,s.isFeatureEnabled)("resourcesextmoveresources"),o=t?"MoveResources.ReactView":"MoveResourceBlade",a=t&&r?"Microsoft_Azure_Resources":"HubsExtension";return Promise.resolve({bladeName:o,extensionName:a,parameters:{resourceId:e,moveType:n}})},n.getMoveLocationBladeReference=function(e,n){if(0===e.length)throw new Error("You must specify at least one resource to move");const t=o.ArmId.parse(e[0],!0).subscription,r=e.find((e=>o.ArmId.parse(e,!0).subscription!==t));if(r)throw new Error(`All resources must have the same subscriptionId ${r} did not match ${t}`);return i.getMoveLocationBladeReference({resourceIds:e,sourceRegion:n,subscriptionId:t})},n.handleTagsContextPaneResults=function(e,n){const t=new Map;return t.set(e,JSON.parse(n)),i.handleTagsContextPaneResults({resourceId:e,resourceToTagsMap:t})},n.sanitizeLink=function(e){return __InternalAzurePortal.AzInternalApi.internalApi.sanitizeReactLink({uri:e}).then((e=>e.uri))},n.hasMenuItem=function(e){return i.hasMenuItem(e)},n.getCurrentDeepLink=d,n.addDeepLinkChangeListener=p;let f=null;n.useDeepLink=function(){let e=null;null===f&&(e=i.getInitialDeepLink(),f="string"==typeof e?e:"");const[n,r]=t.useState(f);return t.useEffect((()=>{const n=e=>{e!==f&&(f=e,r(f))};return e instanceof Promise?e.then(n):d().then(n),p(n)}),[]),n};let g=null;function m(e,n){return{createReference:function(t){if(t){const{marketplaceId:r,marketplaceOptions:o,doesProvisioning:a,assetType:s,telemetryId:i}=t;if(r||o||a||s)return{bladeName:n,extensionName:e,parameters:t.parameters,onClosed:t.onClosed,marketplaceId:r,telemetryId:i,marketplaceOptions:o,createAssetType:s,referenceType:3};if(t.supplyInitialData||t.supplyProviderConfig||t.receiveResult)return{bladeName:n,extensionName:e,parameters:t.parameters,onClosed:t.onClosed,supplyInitialData:t.supplyInitialData,supplyProviderConfig:t.supplyProviderConfig,receiveResult:t.receiveResult,referenceType:1}}return{referenceType:0,extensionName:e,bladeName:n,parameters:t?.parameters,onClosed:t?.onClosed}}}}function R(e,n,t,r){return{createReference:function(o){return{extensionName:e,bladeName:n,parameters:o?.parameters,onClosed:o?.onClosed,referenceType:2,menuId:t,contentBladeReference:r}}}}n.useSideBarLayoutMode=function(){let e=null;null===g&&(e=i.getLatestSideBarLayoutMode(),g="number"==typeof e?e:0);const[n,r]=t.useState(g);return t.useEffect((()=>{const n=e=>{e!==g&&(g=e,r(g))};return e instanceof Promise?e.then(n):n(e),i.addSideBarLayoutModeEventHandler(n)}),[]),n},n.openHelpPane=function(e){return i.openHelpPane(e)},n.executeInCloudShell=function(e,...n){const t="string"==typeof e?{cliType:e}:e;return i.executeInCloudShell({options:t,commands:n})},n.navigateToHome=function(){i.navigateToHome()},n.toggleSideBar=function(){i.toggleSideBar()},n.navigateToDeepLink=function(e){i.navigateToDeepLink(e)},n.getRecentBlades=function(){return i.getRecentBlades()},n.isMinimized=function(){return a.ReactView.getInstance(!0).getIsMinimized()},n.openBlade=function(e,n){return r.openBlade(e,n)},n.openContextPane=function(e){return r.openContextPane(e)},n.toggleFullScreen=function(){i.toggleFullScreen()}}));