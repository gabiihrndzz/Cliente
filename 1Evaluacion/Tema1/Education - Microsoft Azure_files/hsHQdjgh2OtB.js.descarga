"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var __extends,__assign,__rest,__decorate,__param,__esDecorate,__runInitializers,__propKey,__setFunctionName,__metadata,__awaiter,__generator,__exportStar,__values,__read,__spread,__spreadArrays,__spreadArray,__await,__asyncGenerator,__asyncDelegator,__asyncValues,__makeTemplateObject,__importStar,__importDefault,__classPrivateFieldGet,__classPrivateFieldSet,__classPrivateFieldIn,__createBinding,__addDisposableResource,__disposeResources,Reflect,ko;"function"==typeof self.importScripts&&(window=function(e){function t(){}function n(){var e={parentNode:null,toString:function(){return"FakeElement:"+e.nodeType},getAttribute:t,setAttribute:t,removeChild:t,addEventListener:t,removeEventListener:t,getElementById:n,createElement:n,cloneNode:n,createDocumentFragment:n,ownerDocument:r,documentElement:r,appendChild:function(e){return e},checked:!0,defaultValue:"checked",nodeType:1};return e.lastChild=e.firstChild=e,e.getElementsByTagName=e.getElementsByClassName=function(){return[e]},e}e.window=e;var r=e.document=n();r.head=n(),r.body=n(),r.ownerDocument=r.documentElement=r,r.nodeType=9;var o={},i={clear:function(){o={}},getItem:function(e){return o[e]||null},setItem:function(e,t){o[e]=t},removeItem:function(e){delete o[e]},key:function(e){return Object.keys(o)[e]}};return e.sessionStorage=i,e.localStorage=i,e}(self),document=window.document),function(){var e=window;e.module=void 0,e.performance||(e.performance={}),e.performance.mark||(e.performance.mark=function(){}),e.performance.measure||(e.performance.measure=function(){});var t=e.fx=e.fx||{},n=Date.now,r=n(),o=e.performance,i=o.now&&function(){return o.now()};o.mark("OssStart");var a=t.getTimestamp=t.getTimestamp||i||function(){return n()-r};o.now||(o.now=t.getTimestamp),t.bootstrapTelemetry={ossFxScriptsBegin:a(),ossFxScriptsEnd:0,fxScriptsBegin:0,fxScriptsEnd:0}}(),function(e){var t="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:{};function n(e,n){return e!==t&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(t,r){return e[t]=n?n(t,r):r}}"function"==typeof define&&define.amd?(
define("tslib",["exports"],(function(r){e(n(t,n(r)))})),require(["tslib"])):"object"==typeof module&&"object"==typeof module.exports?e(n(t,n(module.exports))):e(n(t))}((function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};__extends=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){Object.defineProperty(this,"constructor",{configurable:!0,value:e,writable:!0})}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},__assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},__rest=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},__decorate=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},__param=function(e,t){return function(n,r){t(n,r,e)}},__esDecorate=function(e,t,n,r,o,i){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var s,l=r.kind,u="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),p=!1,f=n.length-1;f>=0;f--){var h={};for(var m in r)h[m]="access"===m?{}:r[m];for(var m in r.access)h.access[m]=r.access[m];h.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(e||null))};var v=(0,n[f])("accessor"===l?{get:d.get,set:d.set}:d[u],h);if("accessor"===l){if(void 0===v)continue;if(null===v||"object"!=typeof v)throw new TypeError("Object expected");(s=a(v.get))&&(d.get=s),(s=a(v.set))&&(d.set=s),(s=a(v.init))&&o.unshift(s)}else(s=a(v))&&("field"===l?o.unshift(s):d[u]=s)}c&&Object.defineProperty(c,r.name,d),p=!0},__runInitializers=function(e,t,n){for(var r=arguments.length>2,o=0;o<t.length;o++)n=r?t[o].call(e,n):t[o].call(e);return r?n:void 0},__propKey=function(e){return"symbol"==typeof e?e:"".concat(e)},__setFunctionName=function(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})},__metadata=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},__generator=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},__exportStar=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||__createBinding(t,e,n)},__createBinding=Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},__values=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},__spread=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read(arguments[t]));return e},__spreadArrays=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},__spreadArray=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},__await=function(e){return this instanceof __await?(this.v=e,this):new __await(e)},__asyncGenerator=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return",(function(e){return function(t){return Promise.resolve(t).then(e,u)}})),r[Symbol.asyncIterator]=function(){return this},r;function a(e,t){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))},t&&(r[e]=t(r[e])))}function s(e,t){try{(n=o[e](t)).value instanceof __await?Promise.resolve(n.value.v).then(l,u):c(i[0][2],n)}catch(e){c(i[0][3],e)}var n}function l(e){s("next",e)}function u(e){s("throw",e)}function c(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}},__asyncDelegator=function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:__await(e[r](t)),done:!1}:o?o(t):t}:o}},__asyncValues=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}},__makeTemplateObject=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var n=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};__importStar=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return n(t,e),t},__importDefault=function(e){return e&&e.__esModule?e:{default:e}},__classPrivateFieldGet=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},__classPrivateFieldSet=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},__classPrivateFieldIn=function(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)},__addDisposableResource=function(e,t,n){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose]}if("function"!=typeof r)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t};var r="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};__disposeResources=function(e){function t(t){e.error=e.hasError?new r(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}return function n(){for(;e.stack.length;){var r=e.stack.pop();try{var o=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(o).then(n,(function(e){return t(e),n()}))}catch(e){t(e)}}if(e.hasError)throw e.error}()},e("__extends",__extends),e("__assign",__assign),e("__rest",__rest),e("__decorate",__decorate),e("__param",__param),e("__esDecorate",__esDecorate),e("__runInitializers",__runInitializers),e("__propKey",__propKey),e("__setFunctionName",__setFunctionName),e("__metadata",__metadata),e("__awaiter",__awaiter),e("__generator",__generator),e("__exportStar",__exportStar),e("__createBinding",__createBinding),e("__values",__values),e("__read",__read),e("__spread",__spread),e("__spreadArrays",__spreadArrays),e("__spreadArray",__spreadArray),e("__await",__await),e("__asyncGenerator",__asyncGenerator),e("__asyncDelegator",__asyncDelegator),e("__asyncValues",__asyncValues),e("__makeTemplateObject",__makeTemplateObject),e("__importStar",__importStar),e("__importDefault",__importDefault),e("__classPrivateFieldGet",__classPrivateFieldGet),e("__classPrivateFieldSet",__classPrivateFieldSet),e("__classPrivateFieldIn",__classPrivateFieldIn),e("__addDisposableResource",__addDisposableResource),e("__disposeResources",__disposeResources)})),Promise.withResolvers||(Promise.withResolvers=function(){var e,t;return{promise:new Promise((function(n,r){e=n,t=r})),resolve:e,reject:t}}),function(e){var t;!function(e){var t=window||self;function n(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,value:n})}function r(e,t){var n={threw:!1,result:null};try{n.result=e(t)}catch(e){n.threw=!0,n.result=e}return n}function o(e){return o.resolve(e)}!function(e){if(function(e){var n,r,o,i,a=null===(r=null===(n=t.fx)||void 0===n?void 0:n.environment)||void 0===r?void 0:r.features;if(a)return"true"===a[e];var s=null===(i=null===(o=t.FxImpl)||void 0===o?void 0:o.bootEnv)||void 0===i?void 0:i.shellFeatures;if(s){var l="feature.".concat(e),u=(null==s?void 0:s.fromQuery[l])||(null==s?void 0:s.fromConfig[l]);if(u)return"true"===u}return!1}("debugpromise")){var o=globalThis.Promise,i=function(e){var n,r,i,a,s=Reflect.construct(o,[function(e,t){i=e,a=t}],this.constructor);s.dState="pending",s.dResult=void 0,s.dExtension=null===(r=null===(n=t.fx)||void 0===n?void 0:n.environment)||void 0===r?void 0:r.extensionName,s.dCreateStack=(new Error).stack,s.dResultStack=void 0;var l=function(e){var t;"pending"===s.dState&&(null!==(t=s.dResultStack)&&void 0!==t||(s.dResultStack=(new Error).stack),m(e)?e.then(l,u):(s.dState="fulfilled",s.dResult=e,i(e)))},u=function(e){var t;"pending"===s.dState&&(null!==(t=s.dResultStack)&&void 0!==t||(s.dResultStack=(new Error).stack),e||(e=new Error("Unspecified rejection reason")),s.dState="rejected",s.dResult=e,a(e))};return e(l,u),s};Object.setPrototypeOf(i,o),Object.setPrototypeOf(i.prototype,o.prototype),globalThis.Promise=i}var a=globalThis.Promise;function s(e){return((null==Reflect?void 0:Reflect.construct)?Reflect.construct(a,[e],this.constructor):a.call(this,e))||this}function l(){var e,t,n=new u((function(n,r){e=n,t=r}));return{resolve:e,reject:t,notify:function(e){return n.notify(e)},promise:n}}t.__extends(s,a);var u=function(o){function i(e){var t,r,i=o.call(this,(function(e,n){t=e,r=n}))||this;n(i,"_qState","pending"),n(i,"_qResult",void 0),n(i,"_qSettling",!1),n(i,"_qProgressHandlers",[]),n(i,"_qChildProgressHandlers",[]);var a=function(e,n){if(i._qSettling=!0,"rejected"===e)i._qProgressHandlers=null,i._qChildProgressHandlers=null,i._qState="rejected",i._qResult=n,r(n);else if(h(n)&&!n.isPending()){var o=n.inspect();n.isFulfilled()?a("fulfilled",o.value):(n.catch((function(){})),a("rejected",o.reason))}else m(n)?n.then((function(e){a("fulfilled",e)}),(function(e){a("rejected",e)})):(i._qProgressHandlers=null,i._qChildProgressHandlers=null,i._qState="fulfilled",i._qResult=n,t(n))};return e((function(e){var t;"pending"!==i._qState||i._qSettling||(h(e)&&i._qChildProgressHandlers&&i._qChildProgressHandlers.length&&e._qChildProgressHandlers&&(t=e._qChildProgressHandlers).push.apply(t,i._qChildProgressHandlers),a("fulfilled",e))}),(function(e){"pending"!==i._qState||i._qSettling||a("rejected",e)})),i}return __extends(i,o),i.prototype.then=function(e,t,n){var r=o.prototype.then.call(this,e,t);return n&&r._qProgressHandlers&&r._qProgressHandlers.push(n),this._qChildProgressHandlers&&this._qChildProgressHandlers.push((function(e){return r.notify(e)})),r},i.prototype.catch=function(e){return this.then(void 0,e)},i.prototype.finally=function(e){return o.prototype.finally.call(this,e)},i.prototype.spread=function(e,t){return this.then((function(n){return p(n,e,t)}))},i.prototype.progress=function(e){return this.then(void 0,void 0,e)},i.prototype.done=function(t,n,r){(t||n||r?this.then(t,n,r):this).catch((function(t){v((function(){if(!e.onerror)throw t;e.onerror(t)}))}))},i.prototype.get=function(e){return this.then((function(t){return t[e+""]}))},i.prototype.set=function(e,t){return this.then((function(n){n[e+""]=t}))},i.prototype.delete=function(e){return this.then((function(t){delete t[e+""]}))},i.prototype.del=function(e){return this.delete(e)},i.prototype.post=function(e,t){return this.then((function(n){return e?n[e+""].apply(n,t):n.apply(n,t)}))},i.prototype.invoke=function(e){return this.post.apply(this,arguments)},i.prototype.keys=function(){return this.then(Object.keys)},i.prototype.thenResolve=function(e){return this.then((function(){return e}))},i.prototype.thenReject=function(e){return this.then((function(){throw e}))},i.prototype.timeout=function(e,n){var r=l();return this.then(r.resolve,r.reject,r.notify),t.setTimeout((function(){if(r.promise.isPending()){var t=void 0;void 0!==n?"string"==typeof n||n instanceof String?(t=new Error(n)).code="ETIMEDOUT":t=n:(t=new Error("Timed out after ".concat(e," ms"))).code="ETIMEDOUT",r.reject(t)}}),e),r.promise},i.prototype.delay=function(e){var n=l();return this.then((function(r){t.setTimeout((function(){n.resolve(r)}),e)}),n.reject,n.notify),n.promise},i.prototype.isFulfilled=function(){return"fulfilled"===this._qState},i.prototype.isRejected=function(){return"rejected"===this._qState},i.prototype.isPending=function(){return"pending"===this._qState},i.prototype.valueOf=function(){return this.inspect().value},i.prototype.inspect=function(){var e={state:this._qState};return void 0!==this._qResult&&(this.isFulfilled()?e.value=this._qResult:this.isRejected()&&(e.reason=this._qResult)),e},i.prototype.notify=function(t){if(this.isPending()){var n=!0;this._qProgressHandlers&&this._qProgressHandlers.forEach((function(o){var i=r(o,t);i.threw?(n=!1,null==e||e.onerror(i.result)):i.result&&(t=i.result)})),this._qChildProgressHandlers&&n&&this._qChildProgressHandlers.forEach((function(e){e(t)}))}return t},i}(s);function c(e,t,n,r){var o=l(),i=1;try{e.forEach((function(e,a){m(e)?(++i,e.then((function(e){return t(o,e,a,--i)}),(function(e){return n(o,e,--i)}),(function(e){return o.notify({index:a,value:e})}))):r&&r(o,e)}))}catch(e){o.reject(e)}return 0==--i&&o.resolve(e),o.promise}function d(e){return c(e,(function(t,n,r,o){e[r]=n,0===o&&t.resolve(e)}),(function(e,t,n){return e.reject(t)}))}function p(e,t,n){return d(e).then((function(e){return t.apply(void 0,e)}),n)}function f(e){var t=l();return e(t.resolve,t.reject,t.notify),t.promise}function h(e){return!!(null==e?void 0:e._qState)}function m(e){return!(!e||"function"!=typeof e.then)}function v(e){g().then((function(){var n=r(e);n.threw&&t.setTimeout((function(){throw n.result}))}))}function g(e){if(e){if(h(e))return e;if(e instanceof a)return new u((function(t){t(e)}));if(m(e)){var t=l();return v((function(){var n=r((function(){return e.then((function(e){return t.resolve(e)}),(function(e){return t.reject(e)}),(function(e){return t.notify(e)}))}));n.threw&&t.reject(n.result)})),t.promise}return new u((function(t){t(e)}))}return new u((function(t){t(e)}))}e.QPromise=u,e.when=function(t,n,r,o){return n||r||o?e(t).then(n,r,o):e(t)},e.fcall=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return g().then((function(){return e.apply(void 0,t)}))},e.any=function(e){return c(e,(function(e,t,n){return e.resolve(t)}),(function(e,t,n){return 0===n&&e.reject(new Error("Can't get fulfillment value from any promise, all promises were rejected."))}),(function(e,t){return e.resolve(t)}))},e.progress=function(e,t){return e.progress(t)},e.post=function(e,t,n){return t?e[t+""].apply(e,n):e.apply(e,n)},e.all=d,e.allSettled=function(t){return d(t.map(e.resolve).map((function(e){return e.then((function(){return e.inspect()}),(function(){return e.inspect()}))})))},e.allResolved=function(e){return c(e,(function(t,n,r,o){return 0===o&&t.resolve(e)}),(function(t,n,r){return 0===r&&t.resolve(e)}))},e.spread=p,e.timeout=function(e,t,n){if(e.timeout)return e.timeout(t,n);var r=l();return e.then(r.resolve,r.reject,r.notify),r.promise.timeout(t,n)},e.delay=function(e,n){return h(e)?e.delay(n):void 0!==n?new u((function(e,r){t.setTimeout((function(){e()}),n)})).then((function(){return e})):new u((function(n,r){t.setTimeout((function(){n()}),e)}))},e.isFulfilled=function(e){return!h(e)||e.isFulfilled()},e.isRejected=function(e){return!!h(e)&&e.isRejected()},e.isPending=function(e){return!!h(e)&&e.isPending()},e.defer=function(){return l()},e.reject=function(e){return new u((function(t,n){n(e)}))},e.promise=f,e.Promise=function(e){return f(e)},e.isPromise=h,e.isPromiseAlike=m,e.nextTick=v,e.resolve=g}(o||(o={})),t.Q=o}(t||(t={}))}(FxImpl||(FxImpl={})),function(e){!function(t){var n="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),r=o(e);function o(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===n.Reflect?n.Reflect=e:r=o(n.Reflect,r),function(e){var t=Object.getPrototypeOf(Function),n=new WeakMap;function r(e,t,n,r){if(P(n)){if(!T(e))throw new TypeError;if(!B(t))throw new TypeError;return f(e,t)}if(!T(e))throw new TypeError;if(!I(t))throw new TypeError;if(!I(r)&&!P(r)&&!E(r))throw new TypeError;return E(r)&&(r=void 0),h(e,t,n=A(n),r)}function o(e,t){function n(n,r){if(!I(n))throw new TypeError;if(!P(r)&&!N(r))throw new TypeError;x(e,t,n,r)}return n}function i(e,t,n,r){if(!I(n))throw new TypeError;return P(r)||(r=A(r)),x(e,t,n,r)}function a(e,t,n){if(!I(t))throw new TypeError;return P(n)||(n=A(n)),v(e,t,n)}function s(e,t,n){if(!I(t))throw new TypeError;return P(n)||(n=A(n)),g(e,t,n)}function l(e,t,n){if(!I(t))throw new TypeError;return P(n)||(n=A(n)),y(e,t,n)}function u(e,t,n){if(!I(t))throw new TypeError;return P(n)||(n=A(n)),b(e,t,n)}function c(e,t){if(!I(e))throw new TypeError;return P(t)||(t=A(t)),C(e,t)}function d(e,t){if(!I(e))throw new TypeError;return P(t)||(t=A(t)),_(e,t)}function p(e,t,r){if(!I(t))throw new TypeError;P(r)||(r=A(r));var o=m(t,r,!1);if(P(o))return!1;if(!o.delete(e))return!1;if(o.size>0)return!0;var i=n.get(t);return i.delete(r),i.size>0||n.delete(t),!0}function f(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!P(r)&&!E(r)){if(!B(r))throw new TypeError;t=r}}return t}function h(e,t,n,r){for(var o=e.length-1;o>=0;--o){var i=(0,e[o])(t,n,r);if(!P(i)&&!E(i)){if(!I(i))throw new TypeError;r=i}}return r}function m(e,t,r){var o=n.get(e);if(P(o)){if(!r)return;o=new Map,n.set(e,o)}var i=o.get(t);if(P(i)){if(!r)return;i=new Map,o.set(t,i)}return i}function v(e,t,n){if(g(e,t,n))return!0;var r=H(t);return!E(r)&&v(e,r,n)}function g(e,t,n){var r=m(t,n,!1);return!P(r)&&k(r.has(e))}function y(e,t,n){if(g(e,t,n))return b(e,t,n);var r=H(t);return E(r)?void 0:y(e,r,n)}function b(e,t,n){var r=m(t,n,!1);if(!P(r))return r.get(e)}function x(e,t,n,r){m(n,r,!0).set(e,t)}function C(e,t){var n=_(e,t),r=H(e);if(null===r)return n;var o=C(r,t);if(o.length<=0)return n;if(n.length<=0)return o;for(var i=new Set,a=[],s=0,l=n;s<l.length;s++){var u=l[s];i.has(u)||(i.add(u),a.push(u))}for(var c=0,d=o;c<d.length;c++){u=d[c];i.has(u)||(i.add(u),a.push(u))}return a}function _(e,t){var n=[],r=m(e,t,!1);if(P(r))return n;for(var o=O(r.keys()),i=0;;){var a=j(o);if(!a)return n.length=i,n;var s=L(a);try{n[i]=s}catch(e){try{V(o)}finally{throw e}}i++}}function w(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function P(e){return void 0===e}function E(e){return null===e}function F(e){return"symbol"==typeof e}function I(e){return"object"==typeof e?null!==e:"function"==typeof e}function M(e,t){switch(w(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n);if(I(o))throw new TypeError;return o}return S(e,"default"===n?"number":n)}function S(e,t){if("string"===t){var n=e.toString;if(D(n))if(!I(o=n.call(e)))return o;if(D(r=e.valueOf))if(!I(o=r.call(e)))return o}else{var r;if(D(r=e.valueOf))if(!I(o=r.call(e)))return o;var o,i=e.toString;if(D(i))if(!I(o=i.call(e)))return o}throw new TypeError}function k(e){return!!e}function R(e){return""+e}function A(e){var t=M(e,3);return F(t)?t:R(t)}function T(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function D(e){return"function"==typeof e}function B(e){return"function"==typeof e}function N(e){switch(w(e)){case 3:case 4:return!0;default:return!1}}function O(e){var t=e[Symbol.iterator];if(!D(t))throw new TypeError;var n=t.call(e);if(!I(n))throw new TypeError;return n}function L(e){return e.value}function j(e){var t=e.next();return!t.done&&t}function V(e){var t=e.return;t&&t.call(e)}function H(e){var n=Object.getPrototypeOf(e);if("function"!=typeof e||e===t)return n;if(n!==t)return n;var r=e.prototype,o=r&&Object.getPrototypeOf(r);if(null==o||o===Object.prototype)return n;var i=o.constructor;return"function"!=typeof i||i===e?n:i}e("decorate",r),e("metadata",o),e("defineMetadata",i),e("hasMetadata",a),e("hasOwnMetadata",s),e("getMetadata",l),e("getOwnMetadata",u),e("getMetadataKeys",c),e("getOwnMetadataKeys",d),e("deleteMetadata",p)}(r)}()}(Reflect||(Reflect={})),
/*!
 * jQuery JavaScript Library v3.6.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2021-03-02T17:08Z
 */
function(e,t){!function(e,t){var n=[],r=Object.getPrototypeOf,o=n.slice,i=n.flat?function(e){return n.flat.call(e)}:function(e){return n.concat.apply([],e)},a=n.push,s=n.indexOf,l={},u=l.toString,c=l.hasOwnProperty,d=c.toString,p=d.call(Object),f={},h="function"==typeof importScripts,m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},v=function(e){return null!=e&&e===e.window},g=e.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,o,i=(n=n||g).createElement("script");if(i.text=e,t)for(r in y)(o=t[r]||t.getAttribute&&t.getAttribute(r))&&i.setAttribute(r,o);n.head.appendChild(i).parentNode.removeChild(i)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[u.call(e)]||"object":typeof e}var C="3.6.0",_=function(e,t){return new _.fn.init(e,t)};_.fn=_.prototype={jquery:C,constructor:_,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=_.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return _.each(this,e)},map:function(e){return this.pushStack(_.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(_.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(_.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},_.extend=_.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(u&&r&&(_.isPlainObject(r)||(o=Array.isArray(r)))?(n=a[t],i=o&&!Array.isArray(n)?[]:o||_.isPlainObject(n)?n:{},o=!1,a[t]=_.extend(u,i,r)):void 0!==r&&(a[t]=r));return a},_.extend({expando:"jQuery"+(C+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==u.call(e))&&(!(t=r(e))||"function"==typeof(n=c.call(t,"constructor")&&t.constructor)&&d.call(n)===p)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){FxImpl&&FxImpl.skipEval(e,"jquery")||b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(w(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(w(Object(e))?_.merge(n,"string"==typeof e?[e]:e):a.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:s.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,a=!n;o<i;o++)!t(e[o],o)!==a&&r.push(e[o]);return r},map:function(e,t,n){var r,o,a=0,s=[];if(w(e))for(r=e.length;a<r;a++)null!=(o=t(e[a],a,n))&&s.push(o);else for(a in e)null!=(o=t(e[a],a,n))&&s.push(o);return i(s)},guid:1,support:f}),"function"==typeof Symbol&&(_.fn[Symbol.iterator]=n[Symbol.iterator]);function w(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!m(e)&&!v(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}_.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){l["[object "+t+"]"]=t.toLowerCase()}));var P=
/*!
         * Sizzle CSS Selector Engine v2.3.6
         * https://sizzlejs.com/
         *
         * Copyright JS Foundation and other contributors
         * Released under the MIT license
         * https://js.foundation/
         *
         * Date: 2021-02-16
         */
function(e){var t,n,r,o,i,a,s,l,u,c,d,p,f,h,m,v,g,y,b,x="sizzle"+1*new Date,C=e.document,_=0,w=0,P=ae(),E=ae(),F=ae(),I=ae(),M=function(e,t){return e===t&&(d=!0),0},S={}.hasOwnProperty,k=[],R=k.pop,A=k.push,T=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},D="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",N="(?:\\\\[\\da-fA-F]{1,6}"+B+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",O="\\["+B+"*("+N+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+B+"*\\]",L=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",j=new RegExp(B+"+","g"),V=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),H=new RegExp("^"+B+"*,"+B+"*"),W=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),q=new RegExp(B+"|>"),U=new RegExp(L),z=new RegExp("^"+N+"$"),G={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N+"|[*])"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+L),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+D+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},Q=/HTML$/i,K=/^(?:input|select|textarea|button)$/i,$=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,X=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Y=/[+~]/,Z=new RegExp("\\\\[\\da-fA-F]{1,6}"+B+"?|\\\\([^\\r\\n\\f])","g"),ee=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){p()},oe=ve((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});function ie(e,t,r,o){var i,s,u,c,d,h,g,y=t&&t.ownerDocument,C=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==C&&9!==C&&11!==C)return r;if(!o&&(p(t),t=t||f,m)){if(11!==C&&(d=X.exec(e)))if(i=d[1]){if(9===C){if(!(u=t.getElementById(i)))return r;if(u.id===i)return r.push(u),r}else if(y&&(u=y.getElementById(i))&&b(t,u)&&u.id===i)return r.push(u),r}else{if(d[2])return A.apply(r,t.getElementsByTagName(e)),r;if((i=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return A.apply(r,t.getElementsByClassName(i)),r}if(n.qsa&&!I[e+" "]&&(!v||!v.test(e))&&(1!==C||"object"!==t.nodeName.toLowerCase())){if(g=e,y=t,1===C&&(q.test(e)||W.test(e))){for((y=Y.test(e)&&fe(t.parentNode)||t)===t&&n.scope||((c=t.getAttribute("id"))?c=c.replace(te,ne):t.setAttribute("id",c=x)),s=(h=a(e)).length;s--;)h[s]=(c?"#"+c:":scope")+" "+me(h[s]);g=h.join(",")}try{return A.apply(r,y.querySelectorAll(g)),r}catch(t){I(e,!0)}finally{c===x&&t.removeAttribute("id")}}}return l(e.replace(V,"$1"),t,r,o)}function ae(){var e=[];function t(n,o){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=o}return t}function se(e){return e[x]=!0,e}function le(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ue(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ce(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function de(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&oe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function pe(e){return se((function(t){return t=+t,se((function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))}))}))}function fe(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ie.support={},i=ie.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Q.test(t||n&&n.nodeName||"HTML")},p=ie.setDocument=function(e){var t,o,a=e?e.ownerDocument||e:C;return a!=f&&9===a.nodeType&&a.documentElement?(h=(f=a).documentElement,m=!i(f),C!=f&&(o=f.defaultView)&&o.top!==o&&o.addEventListener&&o.addEventListener("unload",re,!1),n.scope=!0,n.attributes=!0,n.getElementsByTagName=!0,n.getElementsByClassName=!0,n.getById=!0,r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}},r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},g=[],v=[],n.qsa=J.test(f.querySelectorAll),(n.matchesSelector=J.test(y=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&(n.disconnectedMatch=!0),v=v.length&&new RegExp(v.join("|")),g=g.length&&new RegExp(g.join("|")),t=J.test(h.compareDocumentPosition),b=t||J.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},M=t?function(e,t){if(e===t)return d=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e==f||e.ownerDocument==C&&b(C,e)?-1:t==f||t.ownerDocument==C&&b(C,t)?1:c?T(c,e)-T(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,a=[e],s=[t];if(!o||!i)return e==f?-1:t==f?1:o?-1:i?1:c?T(c,e)-T(c,t):0;if(o===i)return le(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?le(a[r],s[r]):a[r]==C?-1:s[r]==C?1:0},f):f},ie.matches=function(e,t){return ie(e,null,null,t)},ie.matchesSelector=function(e,t){if(p(e),n.matchesSelector&&m&&!I[t+" "]&&(!g||!g.test(t))&&(!v||!v.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){I(t,!0)}return ie(t,f,null,[e]).length>0},ie.contains=function(e,t){return(e.ownerDocument||e)!=f&&p(e),b(e,t)},ie.attr=function(e,t){(e.ownerDocument||e)!=f&&p(e);var o=r.attrHandle[t.toLowerCase()],i=o&&S.call(r.attrHandle,t.toLowerCase())?o(e,t,!m):void 0;return void 0!==i?i:n.attributes||!m?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},ie.escape=function(e){return(e+"").replace(te,ne)},ie.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ie.uniqueSort=function(e){var t,r=[],o=0,i=0;if(d=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(M),d){for(;t=e[i++];)t===e[i]&&(o=r.push(i));for(;o--;)e.splice(r[o],1)}return c=null,e},o=ie.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},r=ie.selectors={cacheLength:50,createPseudo:se,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Z,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ie.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ie.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&U.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=P[e+" "];return t||(t=new RegExp("(^|"+B+")"+e+"("+B+"|$)"))&&P(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var o=ie.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(j," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,p,f,h,m=i!==a?"nextSibling":"previousSibling",v=t.parentNode,g=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(v){if(i){for(;m;){for(p=t;p=p[m];)if(s?p.nodeName.toLowerCase()===g:1===p.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?v.firstChild:v.lastChild],a&&y){for(b=(f=(u=(c=(d=(p=v)[x]||(p[x]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]||[])[0]===_&&u[1])&&u[2],p=f&&v.childNodes[f];p=++f&&p&&p[m]||(b=f=0)||h.pop();)if(1===p.nodeType&&++b&&p===t){c[e]=[_,f,b];break}}else if(y&&(b=f=(u=(c=(d=(p=t)[x]||(p[x]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]||[])[0]===_&&u[1]),!1===b)for(;(p=++f&&p&&p[m]||(b=f=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==g:1!==p.nodeType)||!++b||(y&&((c=(d=p[x]||(p[x]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]=[_,b]),p!==t)););return(b-=o)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,o=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ie.error("unsupported pseudo: "+e);return o[x]?o(t):o.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?se((function(e,n){for(var r,i=o(e,t),a=i.length;a--;)e[r=T(e,i[a])]=!(n[r]=i[a])})):function(e){return o(e,0,n)}):o}},pseudos:{not:se((function(e){var t=[],n=[],r=s(e.replace(V,"$1"));return r[x]?se((function(e,t,n,o){for(var i,a=r(e,null,o,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))})):function(e,o,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}})),has:se((function(e){return function(t){return ie(e,t).length>0}})),contains:se((function(e){return e=e.replace(Z,ee),function(t){return(t.textContent||o(t)).indexOf(e)>-1}})),lang:se((function(e){return z.test(e||"")||ie.error("unsupported lang: "+e),e=e.replace(Z,ee).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:de(!1),disabled:de(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return $.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pe((function(){return[0]})),last:pe((function(e,t){return[t-1]})),eq:pe((function(e,t,n){return[n<0?n+t:n]})),even:pe((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:pe((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:pe((function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:pe((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}},r.pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ue(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=ce(t);function he(){}function me(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ve(e,t,n){var r=t.dir,o=t.next,i=o||r,a=n&&"parentNode"===i,s=w++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,o);return!1}:function(t,n,l){var u,c,d,p=[_,s];if(l){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(c=(d=t[x]||(t[x]={}))[t.uniqueID]||(d[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[r]||t;else{if((u=c[i])&&u[0]===_&&u[1]===s)return p[2]=u[2];if(c[i]=p,p[2]=e(t,n,l))return!0}return!1}}function ge(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function ye(e,t,n){for(var r=0,o=t.length;r<o;r++)ie(e,t[r],n);return n}function be(e,t,n,r,o){for(var i,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),u&&t.push(s)));return a}function xe(e,t,n,r,o,i){return r&&!r[x]&&(r=xe(r)),o&&!o[x]&&(o=xe(o,i)),se((function(i,a,s,l){var u,c,d,p=[],f=[],h=a.length,m=i||ye(t||"*",s.nodeType?[s]:s,[]),v=!e||!i&&t?m:be(m,p,e,s,l),g=n?o||(i?e:h||r)?[]:a:v;if(n&&n(v,g,s,l),r)for(u=be(g,f),r(u,[],s,l),c=u.length;c--;)(d=u[c])&&(g[f[c]]=!(v[f[c]]=d));if(i){if(o||e){if(o){for(u=[],c=g.length;c--;)(d=g[c])&&u.push(v[c]=d);o(null,g=[],u,l)}for(c=g.length;c--;)(d=g[c])&&(u=o?T(i,d):p[c])>-1&&(i[u]=!(a[u]=d))}}else g=be(g===a?g.splice(h,g.length):g),o?o(null,a,g,l):A.apply(a,g)}))}function Ce(e){for(var t,n,o,i=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],l=a?1:0,c=ve((function(e){return e===t}),s,!0),d=ve((function(e){return T(t,e)>-1}),s,!0),p=[function(e,n,r){var o=!a&&(r||n!==u)||((t=n).nodeType?c(e,n,r):d(e,n,r));return t=null,o}];l<i;l++)if(n=r.relative[e[l].type])p=[ve(ge(p),n)];else{if((n=r.filter[e[l].type].apply(null,e[l].matches))[x]){for(o=++l;o<i&&!r.relative[e[o].type];o++);return xe(l>1&&ge(p),l>1&&me(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(V,"$1"),n,l<o&&Ce(e.slice(l,o)),o<i&&Ce(e=e.slice(o)),o<i&&me(e))}p.push(n)}return ge(p)}function _e(e,t){var n=t.length>0,o=e.length>0,i=function(i,a,s,l,c){var d,h,v,g=0,y="0",b=i&&[],x=[],C=u,w=i||o&&r.find.TAG("*",c),P=_+=null==C?1:Math.random()||.1,E=w.length;for(c&&(u=a==f||a||c);y!==E&&null!=(d=w[y]);y++){if(o&&d){for(h=0,a||d.ownerDocument==f||(p(d),s=!m);v=e[h++];)if(v(d,a||f,s)){l.push(d);break}c&&(_=P)}n&&((d=!v&&d)&&g--,i&&b.push(d))}if(g+=y,n&&y!==g){for(h=0;v=t[h++];)v(b,x,a,s);if(i){if(g>0)for(;y--;)b[y]||x[y]||(x[y]=R.call(l));x=be(x)}A.apply(l,x),c&&!i&&x.length>0&&g+t.length>1&&ie.uniqueSort(l)}return c&&(_=P,u=C),b};return n?se(i):i}return he.prototype=r.filters=r.pseudos,r.setFilters=new he,a=ie.tokenize=function(e,t){var n,o,i,a,s,l,u,c=E[e+" "];if(c)return t?0:c.slice(0);for(s=e,l=[],u=r.preFilter;s;){for(a in n&&!(o=H.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(i=[])),n=!1,(o=W.exec(s))&&(n=o.shift(),i.push({value:n,type:o[0].replace(V," ")}),s=s.slice(n.length)),r.filter)!(o=G[a].exec(s))||u[a]&&!(o=u[a](o))||(n=o.shift(),i.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return t?s.length:s?ie.error(e):E(e,l).slice(0)},s=ie.compile=function(e,t){var n,r=[],o=[],i=F[e+" "];if(!i){for(t||(t=a(e)),n=t.length;n--;)(i=Ce(t[n]))[x]?r.push(i):o.push(i);(i=F(e,_e(o,r))).selector=e}return i},l=ie.select=function(e,t,n,o){var i,l,u,c,d,p="function"==typeof e&&e,f=!o&&a(e=p.selector||e);if(n=n||[],1===f.length){if((l=f[0]=f[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===t.nodeType&&m&&r.relative[l[1].type]){if(!(t=(r.find.ID(u.matches[0].replace(Z,ee),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(i=G.needsContext.test(e)?0:l.length;i--&&(u=l[i],!r.relative[c=u.type]);)if((d=r.find[c])&&(o=d(u.matches[0].replace(Z,ee),Y.test(l[0].type)&&fe(t.parentNode)||t))){if(l.splice(i,1),!(e=o.length&&me(l)))return A.apply(n,o),n;break}}return(p||s(e,f))(o,t,!m,n,!t||Y.test(e)&&fe(t.parentNode)||t),n},n.sortStable=x.split("").sort(M).join("")===x,n.detectDuplicates=!!d,p(),n.sortDetached=!0,ie}(e);_.find=P,_.expr=P.selectors,_.expr[":"]=_.expr.pseudos,_.uniqueSort=_.unique=P.uniqueSort,_.text=P.getText,_.isXMLDoc=P.isXML,_.contains=P.contains,_.escapeSelector=P.escape;var E=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&_(e).is(n))break;r.push(e)}return r},F=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},I=_.expr.match.needsContext;function M(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var S=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function k(e,t,n){return m(t)?_.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?_.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?_.grep(e,(function(e){return s.call(t,e)>-1!==n})):_.filter(t,e,n)}_.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?_.find.matchesSelector(r,e)?[r]:[]:_.find.matches(e,_.grep(t,(function(e){return 1===e.nodeType})))},_.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(_(e).filter((function(){for(t=0;t<r;t++)if(_.contains(o[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)_.find(e,o[t],n);return r>1?_.uniqueSort(n):n},filter:function(e){return this.pushStack(k(this,e||[],!1))},not:function(e){return this.pushStack(k(this,e||[],!0))},is:function(e){return!!k(this,"string"==typeof e&&I.test(e)?_(e):e||[],!1).length}});var R,A=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(_.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||R,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:A.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof _?t[0]:t,_.merge(this,_.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:g,!0)),S.test(r[1])&&_.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(o=g.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(_):_.makeArray(e,this)}).prototype=_.fn,R=_(g);var T=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function B(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}_.fn.extend({has:function(e){var t=_(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(_.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,o=this.length,i=[],a="string"!=typeof e&&_(e);if(!I.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&_.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?_.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?s.call(_(e),this[0]):s.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(_.uniqueSort(_.merge(this.get(),_(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),_.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return E(e,"parentNode")},parentsUntil:function(e,t,n){return E(e,"parentNode",n)},next:function(e){return B(e,"nextSibling")},prev:function(e){return B(e,"previousSibling")},nextAll:function(e){return E(e,"nextSibling")},prevAll:function(e){return E(e,"previousSibling")},nextUntil:function(e,t,n){return E(e,"nextSibling",n)},prevUntil:function(e,t,n){return E(e,"previousSibling",n)},siblings:function(e){return F((e.parentNode||{}).firstChild,e)},children:function(e){return F(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(M(e,"template")&&(e=e.content||e),_.merge([],e.childNodes))}},(function(e,t){_.fn[e]=function(n,r){var o=_.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=_.filter(r,o)),this.length>1&&(D[e]||_.uniqueSort(o),T.test(e)&&o.reverse()),this.pushStack(o)}}));var N=/[^\x20\t\r\n\f]+/g;function O(e){var t={};return _.each(e.match(N)||[],(function(e,n){t[n]=!0})),t}function L(e){return e}function j(e){throw e}function V(e,t,n,r){var o;try{e&&m(o=e.promise)?o.call(e).done(t).fail(n):e&&m(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}_.Callbacks=function(e){e="string"==typeof e?O(e):_.extend({},e);var t,n,r,o,i=[],a=[],s=-1,l=function(){for(o=o||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<i.length;)!1===i[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=i.length,n=!1);e.memory||(n=!1),t=!1,o&&(i=n?[]:"")},u={add:function(){return i&&(n&&!t&&(s=i.length-1,a.push(n)),function t(n){_.each(n,(function(n,r){m(r)?e.unique&&u.has(r)||i.push(r):r&&r.length&&"string"!==x(r)&&t(r)}))}(arguments),n&&!t&&l()),this},remove:function(){return _.each(arguments,(function(e,t){for(var n;(n=_.inArray(t,i,n))>-1;)i.splice(n,1),n<=s&&s--})),this},has:function(e){return e?_.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=a=[],n||t||(i=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},_.extend({Deferred:function(t){var n=[["notify","progress",_.Callbacks("memory"),_.Callbacks("memory"),2],["resolve","done",_.Callbacks("once memory"),_.Callbacks("once memory"),0,"resolved"],["reject","fail",_.Callbacks("once memory"),_.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return _.Deferred((function(t){_.each(n,(function(n,r){var o=m(e[r[4]])&&e[r[4]];i[r[1]]((function(){var e=o&&o.apply(this,arguments);e&&m(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,o?[e]:arguments)}))})),e=null})).promise()},then:function(t,r,o){var i=0;function a(t,n,r,o){return function(){var s=this,l=arguments,u=function(){var e,u;if(!(t<i)){if((e=r.apply(s,l))===n.promise())throw new TypeError("Thenable self-resolution");u=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(u)?o?u.call(e,a(i,n,L,o),a(i,n,j,o)):(i++,u.call(e,a(i,n,L,o),a(i,n,j,o),a(i,n,L,n.notifyWith))):(r!==L&&(s=void 0,l=[e]),(o||n.resolveWith)(s,l))}},c=o?u:function(){try{u()}catch(e){_.Deferred.exceptionHook&&_.Deferred.exceptionHook(e,c.stackTrace),t+1>=i&&(r!==j&&(s=void 0,l=[e]),n.rejectWith(s,l))}};t?c():(_.Deferred.getStackHook&&(c.stackTrace=_.Deferred.getStackHook()),e.setTimeout(c))}}return _.Deferred((function(e){n[0][3].add(a(0,e,m(o)?o:L,e.notifyWith)),n[1][3].add(a(0,e,m(t)?t:L)),n[2][3].add(a(0,e,m(r)?r:j))})).promise()},promise:function(e){return null!=e?_.extend(e,o):o}},i={};return _.each(n,(function(e,t){var a=t[2],s=t[5];o[t[1]]=a.add,s&&a.add((function(){r=s}),n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),i[t[0]]=function(){return i[t[0]+"With"](this===i?void 0:this,arguments),this},i[t[0]+"With"]=a.fireWith})),o.promise(i),t&&t.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),i=o.call(arguments),a=_.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?o.call(arguments):n,--t||a.resolveWith(r,i)}};if(t<=1&&(V(e,a.done(s(n)).resolve,a.reject,!t),"pending"===a.state()||m(i[n]&&i[n].then)))return a.then();for(;n--;)V(i[n],s(n),a.reject);return a.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;_.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&H.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},_.readyException=function(t){e.setTimeout((function(){throw t}))};var W=_.Deferred();function q(){g.removeEventListener("DOMContentLoaded",q),e.removeEventListener("load",q),_.ready()}_.fn.ready=function(e){return W.then(e).catch((function(e){_.readyException(e)})),this},_.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--_.readyWait:_.isReady)||(_.isReady=!0,!0!==e&&--_.readyWait>0||W.resolveWith(g,[_]))}}),_.ready.then=W.then,"complete"===g.readyState||"loading"!==g.readyState&&!g.documentElement.doScroll?e.setTimeout(_.ready):(g.addEventListener("DOMContentLoaded",q),e.addEventListener("load",q));var U=function(e,t,n,r,o,i,a){var s=0,l=e.length,u=null==n;if("object"===x(n))for(s in o=!0,n)U(e,t,s,n[s],!0,i,a);else if(void 0!==r&&(o=!0,m(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(_(e),n)})),t))for(;s<l;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return o?e:u?t.call(e):l?t(e[0],n):i},z=/^-ms-/,G=/-([a-z])/g;function Q(e,t){return t.toUpperCase()}function K(e){return e.replace(z,"ms-").replace(G,Q)}var $=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function J(){this.expando=_.expando+J.uid++}J.uid=1,J.prototype={cache:function(e){var t=e[this.expando];return t||(t={},$(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[K(t)]=n;else for(r in t)o[K(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][K(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(K):(t=K(t))in r?[t]:t.match(N)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||_.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!_.isEmptyObject(t)}};var X=new J,Y=new J,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ee=/[A-Z]/g;function te(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Z.test(e)?JSON.parse(e):e)}function ne(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ee,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=te(n)}catch(e){}Y.set(e,t,n)}else n=void 0;return n}_.extend({hasData:function(e){return Y.hasData(e)||X.hasData(e)},data:function(e,t,n){return Y.access(e,t,n)},removeData:function(e,t){Y.remove(e,t)},_data:function(e,t,n){return X.access(e,t,n)},_removeData:function(e,t){X.remove(e,t)}}),_.fn.extend({data:function(e,t){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(o=Y.get(i),1===i.nodeType&&!X.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=K(r.slice(5)),ne(i,r,o[r]));X.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each((function(){Y.set(this,e)})):U(this,(function(t){var n;if(i&&void 0===t)return void 0!==(n=Y.get(i,e))||void 0!==(n=ne(i,e))?n:void 0;this.each((function(){Y.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){Y.remove(this,e)}))}}),_.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=X.get(e,t),n&&(!r||Array.isArray(n)?r=X.access(e,t,_.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=_.queue(e,t),r=n.length,o=n.shift(),i=_._queueHooks(e,t),a=function(){_.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,a,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return X.get(e,n)||X.access(e,n,{empty:_.Callbacks("once memory").add((function(){X.remove(e,[t+"queue",n])}))})}}),_.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?_.queue(this[0],e):void 0===t?this:this.each((function(){var n=_.queue(this,e,t);_._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&_.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){_.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=_.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=X.get(i[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,oe=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),ie=["Top","Right","Bottom","Left"],ae=g.documentElement,se=function(e){return _.contains(e.ownerDocument,e)},le={composed:!0};ae.getRootNode&&(se=function(e){return _.contains(e.ownerDocument,e)||e.getRootNode(le)===e.ownerDocument});var ue=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&se(e)&&"none"===_.css(e,"display")};function ce(e,t,n,r){var o,i,a=20,s=r?function(){return r.cur()}:function(){return _.css(e,t,"")},l=s(),u=n&&n[3]||(_.cssNumber[t]?"":"px"),c=e.nodeType&&(_.cssNumber[t]||"px"!==u&&+l)&&oe.exec(_.css(e,t));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;a--;)_.style(e,t,c+u),(1-i)*(1-(i=s()/l||.5))<=0&&(a=0),c/=i;c*=2,_.style(e,t,c+u),n=n||[]}return n&&(c=+c||+l||0,o=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=o)),o}var de={};function pe(e){var t,n=e.ownerDocument,r=e.nodeName,o=de[r];return o||(t=n.body.appendChild(n.createElement(r)),o=_.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),de[r]=o,o)}function fe(e,t){for(var n,r,o=[],i=0,a=e.length;i<a;i++)(r=e[i]).style&&(n=r.style.display,t?("none"===n&&(o[i]=X.get(r,"display")||null,o[i]||(r.style.display="")),""===r.style.display&&ue(r)&&(o[i]=pe(r))):"none"!==n&&(o[i]="none",X.set(r,"display",n)));for(i=0;i<a;i++)null!=o[i]&&(e[i].style.display=o[i]);return e}_.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ue(this)?_(this).show():_(this).hide()}))}});var he=/^(?:checkbox|radio)$/i,me=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ve=/^$|^module$|\/(?:java|ecma)script/i;ge=g.createDocumentFragment().appendChild(g.createElement("div")),ye=g.createElement("input"),ye.setAttribute("type","radio"),ye.setAttribute("checked","checked"),ye.setAttribute("name","t"),ge.appendChild(ye),f.checkClone=ge.cloneNode(!0).cloneNode(!0).lastChild.checked,ge.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!ge.cloneNode(!0).lastChild.defaultValue,ge.innerHTML="<option></option>",f.option=!!ge.lastChild;var ge,ye;var be={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};be.tbody=be.tfoot=be.colgroup=be.caption=be.thead,be.th=be.td,f.option||(be.optgroup=be.option=[1,"<select multiple='multiple'>","</select>"]);function xe(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&M(e,t)?_.merge([e],n):n}function Ce(e,t){for(var n=0,r=e.length;n<r;n++)X.set(e[n],"globalEval",!t||X.get(t[n],"globalEval"))}var _e=/<|&#?\w+;/;function we(e,t,n,r,o){for(var i,a,s,l,u,c,d=t.createDocumentFragment(),p=[],f=0,h=e.length;f<h;f++)if((i=e[f])||0===i)if("object"===x(i))_.merge(p,i.nodeType?[i]:i);else if(_e.test(i)){for(a=a||d.appendChild(t.createElement("div")),s=(me.exec(i)||["",""])[1].toLowerCase(),l=be[s]||be._default,a.innerHTML=l[1]+_.htmlPrefilter(i)+l[2],c=l[0];c--;)a=a.lastChild;_.merge(p,a.childNodes),(a=d.firstChild).textContent=""}else p.push(t.createTextNode(i));for(d.textContent="",f=0;i=p[f++];)if(r&&_.inArray(i,r)>-1)o&&o.push(i);else if(u=se(i),a=xe(d.appendChild(i),"script"),u&&Ce(a),n)for(c=0;i=a[c++];)ve.test(i.type||"")&&n.push(i);return d}var Pe=/^([^.]*)(?:\.(.+)|)/;function Ee(){return!0}function Fe(){return!1}function Ie(e,t){return e===Me()==("focus"===t)}function Me(){try{return g.activeElement}catch(e){}}function Se(e,t,n,r,o,i){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Se(e,s,n,r,t[s],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=Fe;else if(!o)return e;return 1===i&&(a=o,o=function(e){return _().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=_.guid++)),e.each((function(){_.event.add(this,t,o,r,n)}))}function ke(e,t,n){n?(X.set(e,t,!1),_.event.add(e,t,{namespace:!1,handler:function(e){var r,i,a=X.get(this,t);if(1&e.isTrigger&&this[t]){if(a.length)(_.event.special[t]||{}).delegateType&&e.stopPropagation();else if(a=o.call(arguments),X.set(this,t,a),r=n(this,t),this[t](),a!==(i=X.get(this,t))||r?X.set(this,t,!1):i={},a!==i)return e.stopImmediatePropagation(),e.preventDefault(),i&&i.value}else a.length&&(X.set(this,t,{value:_.event.trigger(_.extend(a[0],_.Event.prototype),a.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===X.get(e,t)&&_.event.add(e,t,Ee)}_.event={global:{},add:function(e,t,n,r,o){var i,a,s,l,u,c,d,p,f,h,m,v=X.get(e);if($(e))for(n.handler&&(n=(i=n).handler,o=i.selector),o&&_.find.matchesSelector(ae,o),n.guid||(n.guid=_.guid++),(l=v.events)||(l=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(t){return void 0!==_&&_.event.triggered!==t.type?_.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(N)||[""]).length;u--;)f=m=(s=Pe.exec(t[u])||[])[1],h=(s[2]||"").split(".").sort(),f&&(d=_.event.special[f]||{},f=(o?d.delegateType:d.bindType)||f,d=_.event.special[f]||{},c=_.extend({type:f,origType:m,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&_.expr.match.needsContext.test(o),namespace:h.join(".")},i),(p=l[f])||((p=l[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(f,a)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),o?p.splice(p.delegateCount++,0,c):p.push(c),_.event.global[f]=!0)},remove:function(e,t,n,r,o){var i,a,s,l,u,c,d,p,f,h,m,v=X.hasData(e)&&X.get(e);if(v&&(l=v.events)){for(u=(t=(t||"").match(N)||[""]).length;u--;)if(f=m=(s=Pe.exec(t[u])||[])[1],h=(s[2]||"").split(".").sort(),f){for(d=_.event.special[f]||{},p=l[f=(r?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=p.length;i--;)c=p[i],!o&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(i,1),c.selector&&p.delegateCount--,d.remove&&d.remove.call(e,c));a&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,h,v.handle)||_.removeEvent(e,f,v.handle),delete l[f])}else for(f in l)_.event.remove(e,f+t[u],n,r,!0);_.isEmptyObject(l)&&X.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,i,a,s=new Array(arguments.length),l=_.event.fix(e),u=(X.get(this,"events")||Object.create(null))[l.type]||[],c=_.event.special[l.type]||{};for(s[0]=l,t=1;t<arguments.length;t++)s[t]=arguments[t];if(l.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,l)){for(a=_.event.handlers.call(this,l,u),t=0;(o=a[t++])&&!l.isPropagationStopped();)for(l.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==i.namespace&&!l.rnamespace.test(i.namespace)||(l.handleObj=i,l.data=i.data,void 0!==(r=((_.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s))&&!1===(l.result=r)&&(l.preventDefault(),l.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,r,o,i,a,s=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(i=[],a={},n=0;n<l;n++)void 0===a[o=(r=t[n]).selector+" "]&&(a[o]=r.needsContext?_(o,this).index(u)>-1:_.find(o,this,null,[u]).length),a[o]&&i.push(r);i.length&&s.push({elem:u,handlers:i})}return u=this,l<t.length&&s.push({elem:u,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(_.Event.prototype,e,{enumerable:!0,configurable:!0,get:m(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[_.expando]?e:new _.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return he.test(t.type)&&t.click&&M(t,"input")&&ke(t,"click",Ee),!1},trigger:function(e){var t=this||e;return he.test(t.type)&&t.click&&M(t,"input")&&ke(t,"click"),!0},_default:function(e){var t=e.target;return he.test(t.type)&&t.click&&M(t,"input")&&X.get(t,"click")||M(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},_.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},_.Event=function(e,t){if(!(this instanceof _.Event))return new _.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ee:Fe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&_.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[_.expando]=!0},_.Event.prototype={constructor:_.Event,isDefaultPrevented:Fe,isPropagationStopped:Fe,isImmediatePropagationStopped:Fe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ee,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ee,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ee,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},_.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},_.event.addProp),_.each({focus:"focusin",blur:"focusout"},(function(e,t){_.event.special[e]={setup:function(){return ke(this,e,Ie),!1},trigger:function(){return ke(this,e),!0},_default:function(){return!0},delegateType:t}})),_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){_.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return o&&(o===r||_.contains(r,o))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}})),_.fn.extend({on:function(e,t,n,r){return Se(this,e,t,n,r)},one:function(e,t,n,r){return Se(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,_(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Fe),this.each((function(){_.event.remove(this,e,n,t)}))}});var Re=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Te=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function De(e,t){return M(e,"table")&&M(11!==t.nodeType?t:t.firstChild,"tr")&&_(e).children("tbody")[0]||e}function Be(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ne(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Oe(e,t){var n,r,o,i,a,s;if(1===t.nodeType){if(X.hasData(e)&&(s=X.get(e).events))for(o in X.remove(t,"handle events"),s)for(n=0,r=s[o].length;n<r;n++)_.event.add(t,o,s[o][n]);Y.hasData(e)&&(i=Y.access(e),a=_.extend({},i),Y.set(t,a))}}function Le(e,t){var n=t.nodeName.toLowerCase();"input"===n&&he.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function je(e,t,n,r){t=i(t);var o,a,s,l,u,c,d=0,p=e.length,h=p-1,v=t[0],g=m(v);if(g||p>1&&"string"==typeof v&&!f.checkClone&&Ae.test(v))return e.each((function(o){var i=e.eq(o);g&&(t[0]=v.call(this,o,i.html())),je(i,t,n,r)}));if(p&&(a=(o=we(t,e[0].ownerDocument,!1,e,r)).firstChild,1===o.childNodes.length&&(o=a),a||r)){for(l=(s=_.map(xe(o,"script"),Be)).length;d<p;d++)u=o,d!==h&&(u=_.clone(u,!0,!0),l&&_.merge(s,xe(u,"script"))),n.call(e[d],u,d);if(l)for(c=s[s.length-1].ownerDocument,_.map(s,Ne),d=0;d<l;d++)u=s[d],ve.test(u.type||"")&&!X.access(u,"globalEval")&&_.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?_._evalUrl&&!u.noModule&&_._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},c):b(u.textContent.replace(Te,""),u,c))}return e}function Ve(e,t,n){for(var r,o=t?_.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||_.cleanData(xe(r)),r.parentNode&&(n&&se(r)&&Ce(xe(r,"script")),r.parentNode.removeChild(r));return e}_.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,o,i,a,s=e.cloneNode(!0),l=se(e);if(!(f.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||_.isXMLDoc(e)))for(a=xe(s),r=0,o=(i=xe(e)).length;r<o;r++)Le(i[r],a[r]);if(t)if(n)for(i=i||xe(e),a=a||xe(s),r=0,o=i.length;r<o;r++)Oe(i[r],a[r]);else Oe(e,s);return(a=xe(s,"script")).length>0&&Ce(a,!l&&xe(e,"script")),s},cleanData:function(e){for(var t,n,r,o=_.event.special,i=0;void 0!==(n=e[i]);i++)if($(n)){if(t=n[X.expando]){if(t.events)for(r in t.events)o[r]?_.event.remove(n,r):_.removeEvent(n,r,t.handle);n[X.expando]=void 0}n[Y.expando]&&(n[Y.expando]=void 0)}}}),_.fn.extend({detach:function(e){return Ve(this,e,!0)},remove:function(e){return Ve(this,e)},text:function(e){return U(this,(function(e){return void 0===e?_.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return je(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||De(this,e).appendChild(e)}))},prepend:function(){return je(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=De(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return je(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return je(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(_.cleanData(xe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return _.clone(this,e,t)}))},html:function(e){return U(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Re.test(e)&&!be[(me.exec(e)||["",""])[1].toLowerCase()]){e=_.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(_.cleanData(xe(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return je(this,arguments,(function(t){var n=this.parentNode;_.inArray(this,e)<0&&(_.cleanData(xe(this)),n&&n.replaceChild(t,this))}),e)}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){_.fn[e]=function(e){for(var n,r=[],o=_(e),i=o.length-1,s=0;s<=i;s++)n=s===i?this:this.clone(!0),_(o[s])[t](n),a.apply(r,n.get());return this.pushStack(r)}}));var He=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),We=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},qe=function(e,t,n){var r,o,i={};for(o in t)i[o]=e.style[o],e.style[o]=t[o];for(o in r=n.call(e),t)e.style[o]=i[o];return r},Ue=new RegExp(ie.join("|"),"i");function ze(e,t,n){var r,o,i,a,s=e.style;return(n=n||We(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||se(e)||(a=_.style(e,t)),!f.pixelBoxStyles()&&He.test(a)&&Ue.test(t)&&(r=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=o,s.maxWidth=i)),void 0!==a?a+"":a}function Ge(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ae.appendChild(u).appendChild(c);var t=e.getComputedStyle(c);r="1%"!==t.top,l=12===n(t.marginLeft),c.style.right="60%",a=36===n(t.right),o=36===n(t.width),c.style.position="absolute",i=12===n(c.offsetWidth/3),ae.removeChild(u),c=null}}function n(e){return Math.round(parseFloat(e))}var r,o,i,a,s,l,u=g.createElement("div"),c=g.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===c.style.backgroundClip,_.extend(f,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),i},reliableTrDimensions:function(){var t,n,r,o;return null==s&&(t=g.createElement("table"),n=g.createElement("tr"),r=g.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",n.style.cssText="border:1px solid",n.style.height="1px",r.style.height="9px",r.style.display="block",ae.appendChild(t).appendChild(n).appendChild(r),o=e.getComputedStyle(n),s=parseInt(o.height,10)+parseInt(o.borderTopWidth,10)+parseInt(o.borderBottomWidth,10)===n.offsetHeight,ae.removeChild(t)),s}}))}();var Qe=["Webkit","Moz","ms"],Ke=g.createElement("div").style,$e={};function Je(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Qe.length;n--;)if((e=Qe[n]+t)in Ke)return e}function Xe(e){var t=_.cssProps[e]||$e[e];return t||(e in Ke?e:$e[e]=Je(e)||e)}var Ye=/^(none|table(?!-c[ea]).+)/,Ze=/^--/,et={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"};function nt(e,t,n){var r=oe.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function rt(e,t,n,r,o,i){var a="width"===t?1:0,s=0,l=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=_.css(e,n+ie[a],!0,o)),r?("content"===n&&(l-=_.css(e,"padding"+ie[a],!0,o)),"margin"!==n&&(l-=_.css(e,"border"+ie[a]+"Width",!0,o))):(l+=_.css(e,"padding"+ie[a],!0,o),"padding"!==n?l+=_.css(e,"border"+ie[a]+"Width",!0,o):s+=_.css(e,"border"+ie[a]+"Width",!0,o));return!r&&i>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-l-s-.5))||0),l}function ot(e,t,n){var r=We(e),o=(!f.boxSizingReliable()||n)&&"border-box"===_.css(e,"boxSizing",!1,r),i=o,a=ze(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(He.test(a)){if(!n)return a;a="auto"}return(!f.boxSizingReliable()&&o||!f.reliableTrDimensions()&&M(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===_.css(e,"display",!1,r))&&e.getClientRects().length&&(o="border-box"===_.css(e,"boxSizing",!1,r),(i=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+rt(e,t,n||(o?"border":"content"),i,r,a)+"px"}function it(e,t,n,r,o){return new it.prototype.init(e,t,n,r,o)}_.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=ze(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,s=K(t),l=Ze.test(t),u=e.style;if(l||(t=Xe(s)),a=_.cssHooks[t]||_.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:u[t];"string"===(i=typeof n)&&(o=oe.exec(n))&&o[1]&&(n=ce(e,t,o),i="number"),null!=n&&n==n&&("number"!==i||l||(n+=o&&o[3]||(_.cssNumber[s]?"":"px")),f.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(l?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,r){var o,i,a,s=K(t);return Ze.test(t)||(t=Xe(s)),(a=_.cssHooks[t]||_.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=ze(e,t,r)),"normal"===o&&t in tt&&(o=tt[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),_.each(["height","width"],(function(e,t){_.cssHooks[t]={get:function(e,n,r){if(n)return!Ye.test(_.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ot(e,t,r):qe(e,et,(function(){return ot(e,t,r)}))},set:function(e,n,r){var o,i=We(e),a=!f.scrollboxSize()&&"absolute"===i.position,s=(a||r)&&"border-box"===_.css(e,"boxSizing",!1,i),l=r?rt(e,t,r,s,i):0;return s&&a&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-rt(e,t,"border",!1,i)-.5)),l&&(o=oe.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=_.css(e,t)),nt(e,n,l)}}})),_.cssHooks.marginLeft=Ge(f.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(ze(e,"marginLeft"))||e.getBoundingClientRect().left-qe(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),_.each({margin:"",padding:"",border:"Width"},(function(e,t){_.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+ie[r]+t]=i[r]||i[r-2]||i[0];return o}},"margin"!==e&&(_.cssHooks[e+t].set=nt)})),_.fn.extend({css:function(e,t){return U(this,(function(e,t,n){var r,o,i={},a=0;if(Array.isArray(t)){for(r=We(e),o=t.length;a<o;a++)i[t[a]]=_.css(e,t[a],!1,r);return i}return void 0!==n?_.style(e,t,n):_.css(e,t)}),e,t,arguments.length>1)}}),_.Tween=it,it.prototype={constructor:it,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||_.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(_.cssNumber[n]?"":"px")},cur:function(){var e=it.propHooks[this.prop];return e&&e.get?e.get(this):it.propHooks._default.get(this)},run:function(e){var t,n=it.propHooks[this.prop];return this.options.duration?this.pos=t=_.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):it.propHooks._default.set(this),this}},it.prototype.init.prototype=it.prototype,it.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=_.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){_.fx.step[e.prop]?_.fx.step[e.prop](e):1!==e.elem.nodeType||!_.cssHooks[e.prop]&&null==e.elem.style[Xe(e.prop)]?e.elem[e.prop]=e.now:_.style(e.elem,e.prop,e.now+e.unit)}}},it.propHooks.scrollTop=it.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},_.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},_.fx=it.prototype.init,_.fx.step={};var at,st,lt=/^(?:toggle|show|hide)$/,ut=/queueHooks$/;function ct(){st&&(!1===g.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(ct):e.setTimeout(ct,_.fx.interval),_.fx.tick())}function dt(){return e.setTimeout((function(){at=void 0})),at=Date.now()}function pt(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)o["margin"+(n=ie[r])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function ft(e,t,n){for(var r,o=(vt.tweeners[t]||[]).concat(vt.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,t,e))return r}function ht(e,t,n){var r,o,i,a,s,l,u,c,d="width"in t||"height"in t,p=this,f={},h=e.style,m=e.nodeType&&ue(e),v=X.get(e,"fxshow");for(r in n.queue||(null==(a=_._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always((function(){p.always((function(){a.unqueued--,_.queue(e,"fx").length||a.empty.fire()}))}))),t)if(o=t[r],lt.test(o)){if(delete t[r],i=i||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!v||void 0===v[r])continue;m=!0}f[r]=v&&v[r]||_.style(e,r)}if((l=!_.isEmptyObject(t))||!_.isEmptyObject(f))for(r in d&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(u=v&&v.display)&&(u=X.get(e,"display")),"none"===(c=_.css(e,"display"))&&(u?c=u:(fe([e],!0),u=e.style.display||u,c=_.css(e,"display"),fe([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===_.css(e,"float")&&(l||(p.done((function(){h.display=u})),null==u&&(c=h.display,u="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always((function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}))),l=!1,f)l||(v?"hidden"in v&&(m=v.hidden):v=X.access(e,"fxshow",{display:u}),i&&(v.hidden=!m),m&&fe([e],!0),p.done((function(){for(r in m||fe([e]),X.remove(e,"fxshow"),f)_.style(e,r,f[r])}))),l=ft(m?v[r]:0,r,p),r in v||(v[r]=l.start,m&&(l.end=l.start,l.start=0))}function mt(e,t){var n,r,o,i,a;for(n in e)if(o=t[r=K(n)],i=e[n],Array.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(a=_.cssHooks[r])&&"expand"in a)for(n in i=a.expand(i),delete e[r],i)n in e||(e[n]=i[n],t[n]=o);else t[r]=o}function vt(e,t,n){var r,o,i=0,a=vt.prefilters.length,s=_.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var t=at||dt(),n=Math.max(0,u.startTime+u.duration-t),r=1-(n/u.duration||0),i=0,a=u.tweens.length;i<a;i++)u.tweens[i].run(r);return s.notifyWith(e,[u,r,n]),r<1&&a?n:(a||s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:_.extend({},t),opts:_.extend(!0,{specialEasing:{},easing:_.easing._default},n),originalProperties:t,originalOptions:n,startTime:at||dt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=_.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props;for(mt(c,u.opts.specialEasing);i<a;i++)if(r=vt.prefilters[i].call(u,e,c,u.opts))return m(r.stop)&&(_._queueHooks(u.elem,u.opts.queue).stop=r.stop.bind(r)),r;return _.map(c,ft,u),m(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),_.fx.timer(_.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u}_.Animation=_.extend(vt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ce(n.elem,e,oe.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(N);for(var n,r=0,o=e.length;r<o;r++)n=e[r],vt.tweeners[n]=vt.tweeners[n]||[],vt.tweeners[n].unshift(t)},prefilters:[ht],prefilter:function(e,t){t?vt.prefilters.unshift(e):vt.prefilters.push(e)}}),_.speed=function(e,t,n){var r=e&&"object"==typeof e?_.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return _.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in _.fx.speeds?r.duration=_.fx.speeds[r.duration]:r.duration=_.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&_.dequeue(this,r.queue)},r},_.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ue).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=_.isEmptyObject(e),i=_.speed(t,n,r),a=function(){var t=vt(this,_.extend({},e),i);(o||X.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,o=null!=e&&e+"queueHooks",i=_.timers,a=X.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&ut.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));!t&&n||_.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=X.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=_.timers,a=r?r.length:0;for(n.finish=!0,_.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),_.each(["toggle","show","hide"],(function(e,t){var n=_.fn[t];_.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(pt(t,!0),e,r,o)}})),_.each({slideDown:pt("show"),slideUp:pt("hide"),slideToggle:pt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){_.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),_.timers=[],_.fx.tick=function(){var e,t=0,n=_.timers;for(at=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||_.fx.stop(),at=void 0},_.fx.timer=function(e){_.timers.push(e),_.fx.start()},_.fx.interval=13,_.fx.start=function(){st||(st=!0,ct())},_.fx.stop=function(){st=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(t,n){return t=_.fx&&_.fx.speeds[t]||t,n=n||"fx",this.queue(n,(function(n,r){var o=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(o)}}))},function(){var e=g.createElement("input"),t=g.createElement("select").appendChild(g.createElement("option"));e.type="checkbox",f.checkOn=""!==e.value,f.optSelected=t.selected,(e=g.createElement("input")).value="t",e.type="radio",f.radioValue="t"===e.value}();var gt,yt=_.expr.attrHandle;_.fn.extend({attr:function(e,t){return U(this,_.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){_.removeAttr(this,e)}))}}),_.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?_.prop(e,t,n):(1===i&&_.isXMLDoc(e)||(o=_.attrHooks[t.toLowerCase()]||(_.expr.match.bool.test(t)?gt:void 0)),void 0!==n?null===n?void _.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:null==(r=_.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!f.radioValue&&"radio"===t&&M(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(N);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),gt={set:function(e,t,n){return!1===t?_.removeAttr(e,n):e.setAttribute(n,n),n}},_.each(_.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=yt[t]||_.find.attr;yt[t]=function(e,t,r){var o,i,a=t.toLowerCase();return r||(i=yt[a],yt[a]=o,o=null!=n(e,t,r)?a:null,yt[a]=i),o}}));var bt=/^(?:input|select|textarea|button)$/i,xt=/^(?:a|area)$/i;_.fn.extend({prop:function(e,t){return U(this,_.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[_.propFix[e]||e]}))}}),_.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&_.isXMLDoc(e)||(t=_.propFix[t]||t,o=_.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=_.find.attr(e,"tabindex");return t?parseInt(t,10):bt.test(e.nodeName)||xt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.optSelected||(_.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}});function Ct(e){return(e.match(N)||[]).join(" ")}function _t(e){return e.getAttribute&&e.getAttribute("class")||""}function wt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(N)||[]}_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){_.propFix[this.toLowerCase()]=this})),_.fn.extend({addClass:function(e){var t,n,r,o,i,a,s,l=0;if(m(e))return this.each((function(t){_(this).addClass(e.call(this,t,_t(this)))}));if((t=wt(e)).length)for(;n=this[l++];)if(o=_t(n),r=1===n.nodeType&&" "+Ct(o)+" "){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");o!==(s=Ct(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,o,i,a,s,l=0;if(m(e))return this.each((function(t){_(this).removeClass(e.call(this,t,_t(this)))}));if(!arguments.length)return this.attr("class","");if((t=wt(e)).length)for(;n=this[l++];)if(o=_t(n),r=1===n.nodeType&&" "+Ct(o)+" "){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");o!==(s=Ct(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):m(e)?this.each((function(n){_(this).toggleClass(e.call(this,n,_t(this),t),t)})):this.each((function(){var t,o,i,a;if(r)for(o=0,i=_(this),a=wt(e);t=a[o++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=_t(this))&&X.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":X.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+Ct(_t(n))+" ").indexOf(t)>-1)return!0;return!1}});var Pt=/\r/g;_.fn.extend({val:function(e){var t,n,r,o=this[0];return arguments.length?(r=m(e),this.each((function(n){var o;1===this.nodeType&&(null==(o=r?e.call(this,n,_(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=_.map(o,(function(e){return null==e?"":e+""}))),(t=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))}))):o?(t=_.valHooks[o.type]||_.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(Pt,""):null==n?"":n:void 0}}),_.extend({valHooks:{option:{get:function(e){var t=_.find.attr(e,"value");return null!=t?t:Ct(_.text(e))}},select:{get:function(e){var t,n,r,o=e.options,i=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?i+1:o.length;for(r=i<0?l:a?i:0;r<l;r++)if(((n=o[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!M(n.parentNode,"optgroup"))){if(t=_(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,o=e.options,i=_.makeArray(t),a=o.length;a--;)((r=o[a]).selected=_.inArray(_.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),_.each(["radio","checkbox"],(function(){_.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=_.inArray(_(e).val(),t)>-1}},f.checkOn||(_.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),f.focusin="onfocusin"in e;var Et=/^(?:focusinfocus|focusoutblur)$/,Ft=function(e){e.stopPropagation()};_.extend(_.event,{trigger:function(t,n,r,o){var i,a,s,l,u,d,p,f,h=[r||g],y=c.call(t,"type")?t.type:t,b=c.call(t,"namespace")?t.namespace.split("."):[];if(a=f=s=r=r||g,3!==r.nodeType&&8!==r.nodeType&&!Et.test(y+_.event.triggered)&&(y.indexOf(".")>-1&&(b=y.split("."),y=b.shift(),b.sort()),u=y.indexOf(":")<0&&"on"+y,(t=t[_.expando]?t:new _.Event(y,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=b.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:_.makeArray(n,[t]),p=_.event.special[y]||{},o||!p.trigger||!1!==p.trigger.apply(r,n))){if(!o&&!p.noBubble&&!v(r)){for(l=p.delegateType||y,Et.test(l+y)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(r.ownerDocument||g)&&h.push(s.defaultView||s.parentWindow||e)}for(i=0;(a=h[i++])&&!t.isPropagationStopped();)f=a,t.type=i>1?l:p.bindType||y,(d=(X.get(a,"events")||Object.create(null))[t.type]&&X.get(a,"handle"))&&d.apply(a,n),(d=u&&a[u])&&d.apply&&$(a)&&(t.result=d.apply(a,n),!1===t.result&&t.preventDefault());return t.type=y,o||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(h.pop(),n)||!$(r)||u&&m(r[y])&&!v(r)&&((s=r[u])&&(r[u]=null),_.event.triggered=y,t.isPropagationStopped()&&f.addEventListener(y,Ft),r[y](),t.isPropagationStopped()&&f.removeEventListener(y,Ft),_.event.triggered=void 0,s&&(r[u]=s)),t.result}},simulate:function(e,t,n){var r=_.extend(new _.Event,n,{type:e,isSimulated:!0});_.event.trigger(r,null,t)}}),_.fn.extend({trigger:function(e,t){return this.each((function(){_.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return _.event.trigger(e,t,n,!0)}}),f.focusin||_.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){_.event.simulate(t,e.target,_.event.fix(e))};_.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,o=X.access(r,t);o||r.addEventListener(e,n,!0),X.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,o=X.access(r,t)-1;o?X.access(r,t,o):(r.removeEventListener(e,n,!0),X.remove(r,t))}}}));var It=e.location,Mt={guid:Date.now()},St=/\?/;_.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){}return r=n&&n.getElementsByTagName("parsererror")[0],n&&!r||_.error("Invalid XML: "+(r?_.map(r.childNodes,(function(e){return e.textContent})).join("\n"):t)),n};var kt=/\[\]$/,Rt=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,Tt=/^(?:input|select|textarea|keygen)/i;function Dt(e,t,n,r){var o;if(Array.isArray(t))_.each(t,(function(t,o){n||kt.test(e)?r(e,o):Dt(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)}));else if(n||"object"!==x(t))r(e,t);else for(o in t)Dt(e+"["+o+"]",t[o],n,r)}_.param=function(e,t){var n,r=[],o=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!_.isPlainObject(e))_.each(e,(function(){o(this.name,this.value)}));else for(n in e)Dt(n,e[n],t,o);return r.join("&")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=_.prop(this,"elements");return e?_.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!_(this).is(":disabled")&&Tt.test(this.nodeName)&&!At.test(e)&&(this.checked||!he.test(e))})).map((function(e,t){var n=_(this).val();return null==n?null:Array.isArray(n)?_.map(n,(function(e){return{name:t.name,value:e.replace(Rt,"\r\n")}})):{name:t.name,value:n.replace(Rt,"\r\n")}})).get()}});var Bt=/%20/g,Nt=/#.*$/,Ot=/([?&])_=[^&]*/,Lt=/^(.*?):[ \t]*([^\r\n]*)$/gm,jt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Vt=/^(?:GET|HEAD)$/,Ht=/^\/\//,Wt={},qt={},Ut="*/".concat("*"),zt=g.createElement("a");function Gt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(N)||[];if(m(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Qt(e,t,n,r){var o={},i=e===qt;function a(s){var l;return o[s]=!0,_.each(e[s]||[],(function(e,s){var u=s(t,n,r);return"string"!=typeof u||i||o[u]?i?!(l=u):void 0:(t.dataTypes.unshift(u),a(u),!1)})),l}return a(t.dataTypes[0])||!o["*"]&&a("*")}function Kt(e,t){var n,r,o=_.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&_.extend(!0,e,r),e}function $t(e,t,n){for(var r,o,i,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){l.unshift(o);break}if(l[0]in n)i=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){i=o;break}a||(a=o)}i=i||a}if(i)return i!==l[0]&&l.unshift(i),n[i]}function Jt(e,t,n,r){var o,i,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(i=c.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=i,i=c.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(!(a=u[l+" "+i]||u["* "+i]))for(o in u)if((s=o.split(" "))[1]===i&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[o]:!0!==u[o]&&(i=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+i}}}return{state:"success",data:t}}zt.href=It.href,_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:It.href,type:"GET",isLocal:jt.test(It.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ut,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Kt(Kt(e,_.ajaxSettings),t):Kt(_.ajaxSettings,e)},ajaxPrefilter:Gt(Wt),ajaxTransport:Gt(qt),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,o,i,a,s,l,u,c,d,p,f=_.ajaxSetup({},n),h=f.context||f,m=f.context&&(h.nodeType||h.jquery)?_(h):_.event,v=_.Deferred(),y=_.Callbacks("once memory"),b=f.statusCode||{},x={},C={},w="canceled",P={readyState:0,getResponseHeader:function(e){var t;if(u){if(!a)for(a={};t=Lt.exec(i);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?i:null},setRequestHeader:function(e,t){return null==u&&(e=C[e.toLowerCase()]=C[e.toLowerCase()]||e,x[e]=t),this},overrideMimeType:function(e){return null==u&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)P.always(e[P.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||w;return r&&r.abort(t),E(0,t),this}};if(v.promise(P),f.url=((t||f.url||It.href)+"").replace(Ht,It.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(N)||[""],null==f.crossDomain){l=g.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=zt.protocol+"//"+zt.host!=l.protocol+"//"+l.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=_.param(f.data,f.traditional)),Qt(Wt,f,n,P),u)return P;for(d in(c=_.event&&f.global)&&0==_.active++&&_.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Vt.test(f.type),o=f.url.replace(Nt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Bt,"+")):(p=f.url.slice(o.length),f.data&&(f.processData||"string"==typeof f.data)&&(o+=(St.test(o)?"&":"?")+f.data,delete f.data),!1===f.cache&&(o=o.replace(Ot,"$1"),p=(St.test(o)?"&":"?")+"_="+Mt.guid+++p),f.url=o+p),f.ifModified&&(_.lastModified[o]&&P.setRequestHeader("If-Modified-Since",_.lastModified[o]),_.etag[o]&&P.setRequestHeader("If-None-Match",_.etag[o])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&P.setRequestHeader("Content-Type",f.contentType),P.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ut+"; q=0.01":""):f.accepts["*"]),f.headers)P.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(h,P,f)||u))return P.abort();if(w="abort",y.add(f.complete),P.done(f.success),P.fail(f.error),r=Qt(qt,f,n,P)){if(P.readyState=1,c&&m.trigger("ajaxSend",[P,f]),u)return P;f.async&&f.timeout>0&&(s=e.setTimeout((function(){P.abort("timeout")}),f.timeout));try{u=!1,r.send(x,E)}catch(e){if(u)throw e;E(-1,e)}}else E(-1,"No Transport");function E(t,n,a,l){var d,p,g,x,C,w=n;u||(u=!0,s&&e.clearTimeout(s),r=void 0,i=l||"",P.readyState=t>0?4:0,d=t>=200&&t<300||304===t,a&&(x=$t(f,P,a)),!d&&_.inArray("script",f.dataTypes)>-1&&_.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),x=Jt(f,x,P,d),d?(f.ifModified&&((C=P.getResponseHeader("Last-Modified"))&&(_.lastModified[o]=C),(C=P.getResponseHeader("etag"))&&(_.etag[o]=C)),204===t||"HEAD"===f.type?w="nocontent":304===t?w="notmodified":(w=x.state,p=x.data,d=!(g=x.error))):(g=w,!t&&w||(w="error",t<0&&(t=0))),P.status=t,P.statusText=(n||w)+"",d?v.resolveWith(h,[p,w,P]):v.rejectWith(h,[P,w,g]),P.statusCode(b),b=void 0,c&&m.trigger(d?"ajaxSuccess":"ajaxError",[P,f,d?p:g]),y.fireWith(h,[P,w]),c&&(m.trigger("ajaxComplete",[P,f]),--_.active||_.event.trigger("ajaxStop")))}return P},getJSON:function(e,t,n){return _.get(e,t,n,"json")},getScript:function(e,t){return _.get(e,void 0,t,"script")}}),_.each(["get","post"],(function(e,t){_[t]=function(e,n,r,o){return m(n)&&(o=o||r,r=n,n=void 0),_.ajax(_.extend({url:e,type:t,dataType:o,data:n,success:r},_.isPlainObject(e)&&e))}})),_.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),_._evalUrl=function(e,t,n){return _.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){_.globalEval(e,t,n)}})},_.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=_(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return m(e)?this.each((function(t){_(this).wrapInner(e.call(this,t))})):this.each((function(){var t=_(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=m(e);return this.each((function(n){_(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){_(this).replaceWith(this.childNodes)})),this}}),_.expr.pseudos.hidden=function(e){return!_.expr.pseudos.visible(e)},_.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},_.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Xt={0:200,1223:204},Yt=_.ajaxSettings.xhr();f.cors=!!Yt&&"withCredentials"in Yt,f.ajax=Yt=!!Yt,_.ajaxTransport((function(t){var n,r;if(f.cors||Yt&&!t.crossDomain)return{send:function(o,i){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),h||t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(a,o[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(Xt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout((function(){n&&r()}))},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}})),_.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return _.globalEval(e),e}}}),_.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),_.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,o){t=_("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),g.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Zt=[],en=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Zt.pop()||_.expando+"_"+Mt.guid++;return this[e]=!0,e}}),_.ajaxPrefilter("json jsonp",(function(t,n,r){var o,i,a,s=!1!==t.jsonp&&(en.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&en.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=m(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(en,"$1"+o):!1!==t.jsonp&&(t.url+=(St.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||_.error(o+" was not called"),a[0]},t.dataTypes[0]="json",i=e[o],e[o]=function(){a=arguments},r.always((function(){void 0===i?_(e).removeProp(o):e[o]=i,t[o]&&(t.jsonpCallback=n.jsonpCallback,Zt.push(o)),a&&m(i)&&i(a[0]),a=i=void 0})),"script"})),f.createHTMLDocument=function(){if(!g.implementation)return!1;var e=g.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),_.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(f.createHTMLDocument?((r=(t=g.implementation.createHTMLDocument("")).createElement("base")).href=g.location.href,t.head.appendChild(r)):t=g),i=!n&&[],(o=S.exec(e))?[t.createElement(o[1])]:(o=we([e],t,i),i&&i.length&&_(i).remove(),_.merge([],o.childNodes)));var r,o,i},_.fn.load=function(e,t,n){var r,o,i,a=this,s=e.indexOf(" ");return s>-1&&(r=Ct(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&_.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done((function(e){i=arguments,a.html(r?_("<div>").append(_.parseHTML(e)).find(r):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,i||[e.responseText,t,e])}))}),this},_.expr.pseudos.animated=function(e){return _.grep(_.timers,(function(t){return e===t.elem})).length},_.offset={setOffset:function(e,t,n){var r,o,i,a,s,l,u=_.css(e,"position"),c=_(e),d={};"static"===u&&(e.style.position="relative"),s=c.offset(),i=_.css(e,"top"),l=_.css(e,"left"),("absolute"===u||"fixed"===u)&&(i+l).indexOf("auto")>-1?(a=(r=c.position()).top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(l)||0),m(t)&&(t=t.call(e,n,_.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):c.css(d)}},_.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){_.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if("fixed"===_.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===_.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((o=_(e).offset()).top+=_.css(e,"borderTopWidth",!0),o.left+=_.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-_.css(r,"marginTop",!0),left:t.left-o.left-_.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===_.css(e,"position");)e=e.offsetParent;return e||ae}))}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;_.fn[e]=function(r){return U(this,(function(e,r,o){var i;if(v(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===o)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o}),e,r,arguments.length)}})),_.each(["top","left"],(function(e,t){_.cssHooks[t]=Ge(f.pixelPosition,(function(e,n){if(n)return n=ze(e,t),He.test(n)?_(e).position()[t]+"px":n}))})),_.each({Height:"height",Width:"width"},(function(e,t){_.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){_.fn[r]=function(o,i){var a=arguments.length&&(n||"boolean"!=typeof o),s=n||(!0===o||!0===i?"margin":"border");return U(this,(function(t,n,o){var i;return v(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===o?_.css(t,n,s):_.style(t,n,o,s)}),t,a?o:void 0,a)}}))})),_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){_.fn[t]=function(e){return this.on(t,e)}})),_.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),_.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){_.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var tn=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;_.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=o.call(arguments,2),i=function(){return e.apply(t||this,r.concat(o.call(arguments)))},i.guid=e.guid=e.guid||_.guid++,i},_.holdReady=function(e){e?_.readyWait++:_.ready(!0)},_.isArray=Array.isArray,_.parseJSON=JSON.parse,_.nodeName=M,_.isFunction=m,_.isWindow=v,_.camelCase=K,_.type=x,_.now=Date.now,_.isNumeric=function(e){var t=_.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},_.trim=function(e){return null==e?"":(e+"").replace(tn,"")},"function"==typeof define&&define.amd&&
define("jquery",[],(function(){return _}));var nn=e.jQuery,rn=e.$;_.noConflict=function(t){return e.$===_&&(e.$=rn),t&&e.jQuery===_&&(e.jQuery=nn),_},void 0===t&&(e.jQuery=e.$=_)}(e)}("undefined"!=typeof window?window:this),function(e){var t="function"==typeof self.importScripts?void 0:window.document;function n(e,t){return e.nodeType===t}e.version="3.4.1",e.options={deferUpdates:!1,useOnlyNativeEvents:!1},e.isNodeType=n,e.exportSymbol=function(t,n){for(var r=t.split("."),o=e,i=0;i<r.length-1;i++)o=o[r[i]];o[r[r.length-1]]=n},e.exportProperty=function(e,t,n){e[t]=n};var r,o=function(){function e(e,t,n){this._target=e,this.callback=t,this.disposeCallback=n,this.isDisposed=!1}return e.prototype.dispose=function(){this.isDisposed=!0,this.disposeCallback()},e}();e.subscription=o,function(t){var n="function"==typeof Symbol;t.parseJson=function(t){return"string"==typeof t&&(t=e.utils.stringTrim(t))?JSON&&JSON.parse?JSON.parse(t):new Function("return "+t)():null},t.stringTrim=function(e){return null==e?"":e.trim?e.trim():e.toString().replace(/^\s+|\s+$/g,"")},t.createSymbolOrString=function(e){return n?Symbol(e):e},t.stringStartsWith=function(e,t){return e=e||"",!(t.length>e.length)&&e.startsWith(t)},t.makeArray=function(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n]);return t},t.objectMap=function(e,t){if(!e)return e;for(var n={},r=Object.keys(e),o=0,i=r.length;o<i;o++){var a=r[o];n[a]=t(e[a],a,e)}return n},t.range=function(t,n){t=e.utils.unwrapObservable(t),n=e.utils.unwrapObservable(n);for(var r=[],o=t;o<=n;o++)r.push(o);return r}}(e.utils||(e.utils={})),function(r){var o=[0,"",""],i=[1,"<table>","</table>"],a=[3,"<table><tbody><tr>","</tr></tbody></table>"],s=[1,"<select multiple='multiple'>","</select>"],l={thead:i,tbody:i,tfoot:i,tr:[2,"<table><tbody>","</tbody></table>"],td:a,th:a,option:s,optgroup:s};function u(n,r){r||(r=t);var i=r.parentWindow||r.defaultView||window,a=e.utils.stringTrim(n).toLowerCase(),s=r.createElement("div"),u=function(e){var t=/^<([a-z]+)[ >]/.exec(e);return t&&l[t[1]]||o}(a),c=u[0],d="ignored<div>"+u[1]+n+u[2]+"</div>";for("function"==typeof i.innerShiv?s.appendChild(i.innerShiv(d)):s.innerHTML=d;c--;)s=s.lastChild;return e.utils.makeArray(s.lastChild.childNodes)}r.parseHtmlFragment=function(e,t){return $?function(e,t){if($.parseHTML)return $.parseHTML(e,t)||[];var r=$.clean([e],t);if(r&&r[0]){for(var o=r[0];o.parentNode&&!n(o.parentNode,11);)o=o.parentNode;o.parentNode&&o.parentNode.removeChild(o)}return r}(e,t):u(e,t)},r.setHtml=function(t,n){if(e.utils.emptyDomNode(t),null!=(n=e.utils.unwrapObservable(n)))if("string"!=typeof n&&(n=n.toString()),$)$(t).html(n);else for(var r=e.utils.parseHtmlFragment(n,t.ownerDocument),o=0;o<r.length;o++)t.appendChild(r[o])}}(e.utils||(e.utils={})),function(e){var t={};function n(){return(4294967296*(1+Math.random())|0).toString(16).substring(1)}e.memoize=function(e){if("function"!=typeof e)throw new Error("You can only pass a function to ko.memoization.memoize()");var r=n()+n();return t[r]=e,"\x3c!--[ko_memo:"+r+"]--\x3e"},e.unmemoize=function(e,n){var r=t[e];if(void 0===r)throw new Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized.");try{return r.apply(null,n||[]),!0}finally{delete t[e]}},e.parseMemoText=function(e){var t=/^\[ko_memo:(.*?)\]$/.exec(e);return t?t[1]:null}}(e.memoization||(e.memoization={})),function(r){!function(e){var t=0,n="__ko__"+(new Date).getTime(),r={};function o(e,o){var i=e[n];if(!(i&&"null"!==i&&r[i])){if(!o)return;i=e[n]="ko"+t++,r[i]={}}return r[i]}e.get=function(e,t){var n=o(e,!1);return void 0===n?void 0:n[t]},e.set=function(e,t,n){void 0===n&&void 0===o(e,!1)||(o(e,!0)[t]=n)},e.clear=function(e){var t=e[n];return!!t&&(delete r[t],e[n]=null,!0)},e.nextKey=function(){return t+++n}}(r.domData||(r.domData={})),function(t){var r=e.utils.domData.nextKey(),o={1:!0,8:!0,9:!0},i={1:!0,9:!0};function a(t,n){var o=e.utils.domData.get(t,r);return void 0===o&&n&&(o=[],e.utils.domData.set(t,r,o)),o}function s(t){var r=a(t,!1);if(r){r=r.slice(0);for(var o=0;o<r.length;o++)r[o](t)}e.utils.domData.clear(t),e.utils.domNodeDisposal.cleanExternalData(t),i[t.nodeType]&&function(e){var t,r=e.firstChild;for(;t=r;)r=t.nextSibling,n(t,8)&&s(t)}(t)}t.addDisposeCallback=function(e,t){if("function"!=typeof t)throw new Error("Callback must be a function");a(e,!0).push(t)},t.removeDisposeCallback=function(t,n){var o=a(t,!1);o&&(e.utils.arrayRemoveItem(o,n),0===o.length&&function(t){e.utils.domData.set(t,r,void 0)}(t))},t.cleanNode=function(t){if(o[t.nodeType]&&(s(t),i[t.nodeType])){var n=[];e.utils.arrayPushAll(n,t.getElementsByTagName("*"));for(var r=0,a=n.length;r<a;r++)s(n[r])}return t},t.removeNode=function(t){e.cleanNode(t),t.parentNode&&t.parentNode.removeChild(t)},t.cleanExternalData=function(e){$&&"function"==typeof $.cleanData&&$.cleanData([e])}}(r.domNodeDisposal||(r.domNodeDisposal={})),r.fieldsIncludedWithJsonPost=["authenticity_token",/^__RequestVerificationToken(_.*)?$/];var o={},i={};function a(e,t){for(var n=Object.keys(e),r=0,o=n.length;r<o;r++){var i=n[r];t(i,e[i])}}function s(t,n){return window.setTimeout(e.utils.catchFunctionErrors(t),n)}o[navigator&&/Firefox\/2/i.test(navigator.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],o.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"],a(o,(function(e,t){if(t.length)for(var n=0,r=t.length;n<r;n++)i[t[n]]=e})),r.objectForEach=a,r.addOrRemoveItem=function(t,n,r){var o=e.utils.arrayIndexOf(e.utils.peekObservable(t),n);o<0?r&&t.push(n):r||t.splice(o,1)},r.fixUpContinuousNodeArray=function(e,t){if(e&&e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.splice(0,1);for(;e.length>1&&e[e.length-1].parentNode!==t;)e.length--;if(e.length>1){var n=e[0],r=e[e.length-1];for(e.length=0;n!==r;)e.push(n),n=n.nextSibling;e.push(r)}}return e},r.emptyDomNode=function(t){for(;t.firstChild;)e.removeNode(t.firstChild)},r.moveCleanedNodesToContainerElement=function(n){for(var r=e.utils.makeArray(n),o=(r[0]&&r[0].ownerDocument||t).createElement("div"),i=0,a=r.length;i<a;i++)o.appendChild(e.cleanNode(r[i]));return o},r.cloneNodes=function(t,n){for(var r=[],o=0,i=t.length;o<i;o++){var a=t[o].cloneNode(!0);r.push(n?e.cleanNode(a):a)}return r},r.setDomNodeChildren=function(t,n){if(e.utils.emptyDomNode(t),n)for(var r=0,o=n.length;r<o;r++)t.appendChild(n[r])},r.replaceDomNodes=function(t,n){var r=t.nodeType?[t]:t;if(r.length>0){for(var o=r[0],i=o.parentNode,a=0,s=n.length;a<s;a++)i.insertBefore(n[a],o);for(a=0,s=r.length;a<s;a++)e.removeNode(r[a])}},r.setOptionNodeSelectionState=function(e,t){e.selected=t},r.domNodeIsContainedBy=function(e,t){if(e===t)return!0;if(n(e,11))return!1;if(t.contains)return t.contains(n(e,3)?e.parentNode:e);if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;e&&e!==t;)e=e.parentNode;return!!e},r.domNodeIsAttachedToDocument=function(t){return!!t.ownerDocument.documentElement&&e.utils.domNodeIsContainedBy(t,t.ownerDocument.documentElement)},r.anyDomNodeIsAttachedToDocument=function(t){return!!e.utils.arrayFirst(t,e.utils.domNodeIsAttachedToDocument)},r.tagNameLower=function(e){return e&&e.tagName&&e.tagName.toLowerCase()},r.catchFunctionErrors=function(t){return e.onError?function(){try{return t.apply(this,arguments)}catch(t){throw e.onError&&e.onError(t),t}}:t},r.setTimeout=s,r.deferError=function(t){s((function(){throw e.onError&&e.onError(t),t}),0)},r.setElementName=function(e,t){e.name=t},r.forceRefresh=function(){},r.ensureSelectElementIsRenderedCorrectly=function(){},r.getFormFields=function(t,n){for(var r=e.utils.makeArray(t.getElementsByTagName("input")).concat(e.utils.makeArray(t.getElementsByTagName("textarea"))),o="string"==typeof n?function(e){return e.name===n}:function(e){return n.test(e.name)},i=[],a=r.length-1;a>=0;a--)o(r[a])&&i.push(r[a]);return i},r.registerEventHandler=function(t,n,r){var o=e.utils.catchFunctionErrors(r);if(!e.options.useOnlyNativeEvents&&$)$(t).bind(n,o);else{if("function"!=typeof t.addEventListener)throw new Error("Browser doesn't support addEventListener or attachEvent");t.addEventListener(n,o,!1)}},r.triggerEvent=function(n,r){if(!n||!n.nodeType)throw new Error("element must be a DOM node when calling triggerEvent");var o=function(t,n){if("input"!==e.utils.tagNameLower(t)||!t.type)return!1;if("click"!==n.toLowerCase())return!1;var r=t.type;return"checkbox"===r||"radio"===r}(n,r);if(e.options.useOnlyNativeEvents||!$||o)if("function"==typeof t.createEvent){if("function"!=typeof n.dispatchEvent)throw new Error("The supplied element doesn't support dispatchEvent");var a=i[r]||"HTMLEvents",s=t.createEvent(a);s.initEvent(r,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,n),n.dispatchEvent(s)}else if(o&&n.click)n.click();else{if(void 0===n.fireEvent)throw new Error("Browser doesn't support triggering events");n.fireEvent("on"+r)}else $(n).trigger(r)};var l=/\S+/g;function u(t,n,r,o){var i=t[n].match(l)||[];e.utils.arrayForEach(r.match(l),(function(t){e.utils.addOrRemoveItem(i,t,o)})),t[n]=i.join(" ")}r.toggleDomNodeCssClass=function(t,n,r){var o;n&&("object"==typeof t.classList?(o=t.classList[r?"add":"remove"],e.utils.arrayForEach(n.match(l),(function(e){o.call(t.classList,e)}))):"string"==typeof t.className.baseVal?u(t.className,"baseVal",n,r):u(t,"className",n,r))},r.toggleObjectClassPropertyString=u,r.stringifyJson=function(t,n,r){if(!JSON||!JSON.stringify)throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return JSON.stringify(e.utils.unwrapObservable(t),n,r)},r.postJson=function(n,o,i){var a=(i=i||{}).params||{},l=i.includeFields||r.fieldsIncludedWithJsonPost,u=n;if("object"==typeof n&&"form"===e.utils.tagNameLower(n)){var c=n;u=c.action;for(var d=l.length-1;d>=0;d--)for(var p=e.utils.getFormFields(c,l[d]),f=p.length-1;f>=0;f--)a[p[f].name]=p[f].value}o=e.utils.unwrapObservable(o);var h=t.createElement("form");for(var m in h.style.display="none",h.action=u,h.method="post",o){var v=t.createElement("input");v.type="hidden",v.name=m,v.value=e.utils.stringifyJson(e.utils.unwrapObservable(o[m])),h.appendChild(v)}e.utils.objectForEach(a,(function(e,n){var r=t.createElement("input");r.type="hidden",r.name=e,r.value=n,h.appendChild(r)})),t.body.appendChild(h),i.submitter?i.submitter(h):h.submit(),s((function(){h.parentNode.removeChild(h)}),0)},r.findMovesInArrayComparison=function(e,t,n){if(e.length&&t.length){var r=void 0,o=void 0,i=void 0,a=void 0,s=void 0;for(r=o=0;(!n||r<n)&&(a=e[o]);++o){for(i=0;s=t[i];++i)if(a.value===s.value){a.moved=s.index,s.moved=a.index,t.splice(i,1),r=i=0;break}r+=i}}}}(e.utils||(e.utils={})),e.cleanNode=e.utils.domNodeDisposal.cleanNode,e.removeNode=e.utils.domNodeDisposal.removeNode,function(t){var n,r=[],o=0;function i(e){r.push(n),n=e}function a(){n=r.pop()}t.begin=i,t.end=a,t.registerDependency=function(t){if(n){if(!e.isSubscribable(t))throw new Error("Only subscribable things can act as dependencies");n.callback.call(n.callbackTarget,t,t._id||(t._id=++o))}},t.ignore=function(e,t,n){try{return i(),e.apply(t,n||[])}finally{a()}},t.getDependenciesCount=function(){if(n)return n.computed.getDependenciesCount()},t.isInitial=function(){if(n)return n.isInitial}}(r=e.dependencyDetection||(e.dependencyDetection={})),e.computedContext=r,function(t){function r(t,o){if(t)if(n(t,8)){var i=e.memoization.parseMemoText(t.nodeValue);null!==i&&o.push({domNode:t,memoId:i})}else if(n(t,1))for(var a=0,s=t.childNodes,l=s.length;a<l;a++)r(s[a],o)}t.unmemoizeDomNodeAndDescendants=function(t,n){var o=[];r(t,o);for(var i=0,a=o.length;i<a;i++){var s=o[i].domNode,l=[s];n&&e.utils.arrayPushAll(l,n),e.memoization.unmemoize(o[i].memoId,l),s.nodeValue="",s.parentNode&&s.parentNode.removeChild(s)}}}(e.memoization||(e.memoization={})),function(n){var r,o;n.scheduler=window.MutationObserver?(r=c,o=t.createElement("div"),new MutationObserver(r).observe(o,{attributes:!0}),function(){o.classList.toggle("foo")}):function(e){setTimeout(e,0)};var i=[],a=0,s=1,l=0;function u(){if(a)for(var t=a,n=0,r=void 0;l<a;)if(r=i[l++]){if(l>t){if(++n>=5e3){l=a,e.utils.deferError(Error("'Too much recursion' after processing "+n+" task groups."));break}t=a}try{r()}catch(t){e.utils.deferError(t)}}}function c(){u(),l=a=i.length=0}n.runEarly=u,n.schedule=function(t){return a||e.tasks.scheduler(c),i[a++]=t,s++},n.cancel=function(e){var t=e-(s-a);t>=l&&t<a&&(i[t]=null)},n.resetForTesting=function(){var e=a-l;return l=a=i.length=0,e}}(e.tasks||(e.tasks={}));var i={undefined:1,boolean:1,number:1,string:1};function a(e,t){return!!(null===e||typeof e in i)&&e===t}!function(t){var n={debounce:function(t,n){var r;return function(){clearTimeout(r),r=e.utils.setTimeout(t,n)}},throttle:function(t,n){var r;return function(){r||(r=e.utils.setTimeout((function(){r=void 0,t()}),n))}}};function r(e,t){var r,o;"number"==typeof t?r=t:(r=t.timeout,o=t.method),e._deferUpdates=!1;var i="notifyWhenChangesStop"===o?n.debounce:n.throttle;e.limit((function(e){return i(e,r)}))}t.throttle=function(t,n){t.throttleEvaluation=n;var r=null;return e.computed({read:t,write:function(o){clearTimeout(r),r=e.utils.setTimeout((function(){t(o)}),n)}})},t.rateLimit=r,function(e){e.tasks=n}(r=t.rateLimit||(t.rateLimit={})),t.deferred=function(t,n){if(!0!==n)throw new Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");t._deferUpdates||(t._deferUpdates=!0,t.limit((function(n){var r;return function(){e.tasks.cancel(r),r=e.tasks.schedule(n),t.notifySubscribers(void 0,"dirty")}})))},t.notify=function(e,t){e.equalityComparer="always"===t?null:a},t.trackArrayChanges=function(t,n){if(t.compareArrayOptions={},n&&"object"==typeof n&&e.utils.extend(t.compareArrayOptions,n),t.compareArrayOptions.sparse=!0,!t.cacheDiffForKnownOperation){var r,o,i=!1,a=null,s=0,l=t.beforeSubscriptionAdd,u=t.afterSubscriptionRemove;t.beforeSubscriptionAdd=function(n){l&&l.call(t,n),"arrayChange"===n&&function(){if(i)return;i=!0,o||(o=t.notifySubscribers,t.notifySubscribers=function(e,t){return i&&(t&&"change"!==t||++s),o.apply(this,arguments)});var n=[].concat(t.peek()||[]);a=null,r=t.subscribe((function(r){var o;r=[].concat(r||[]),t.hasSubscriptionsForEvent("arrayChange")&&(o=function(n,r){(!a||s>1)&&(a=e.utils.compareArrays(n,r,t.compareArrayOptions));return a}(n,r)),n=r,a=null,s=0,o&&o.length&&t.notifySubscribers(o,"arrayChange")}))}()},t.afterSubscriptionRemove=function(e){u&&u.call(t,e),"arrayChange"!==e||t.hasSubscriptionsForEvent("arrayChange")||(r.dispose(),i=!1)},t.cacheDiffForKnownOperation=function(t,n,r){if(i&&!s){var o=[],l=t.length,u=r.length,c=0;switch(n){case"push":c=l;case"unshift":for(var d=0;d<u;d++)b("added",r[d],c+d);break;case"pop":c=l-1;case"shift":l&&b("deleted",t[c],c);break;case"splice":for(var p=Math.min(Math.max(0,r[0]<0?l+r[0]:r[0]),l),f=1===u?l:Math.min(p+(r[1]||0),l),h=p+u-2,m=Math.max(f,h),v=[],g=[],y=(d=p,2);d<m;++d,++y)d<f&&g.push(b("deleted",t[d],d)),d<h&&v.push(b("added",r[y],d));e.utils.findMovesInArrayComparison(g,v);break;default:return}a=o}function b(e,t,n){return o[o.length]={status:e,value:t,index:n}}}}}}(e.extenders||(e.extenders={}))}(ko||(ko={})),function(e){function t(e,r,o){if(o=o||new n,!!("object"!=typeof(e=r(e))||null==e||e instanceof RegExp||e instanceof Date||e instanceof String||e instanceof Number||e instanceof Boolean))return e;var i=e instanceof Array?[]:{};return o.save(e,i),function(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(var r in e)t(r)}(e,(function(n){var a=r(e[n]);switch(typeof a){case"boolean":case"number":case"string":case"function":i[n]=a;break;case"object":case"undefined":var s=o.get(a);i[n]=void 0!==s?s:t(a,r,o)}})),i}e.isObservable=function(t){return e.hasPrototype(t,e.observable)},e.isSubscribable=function(e){return e&&"function"==typeof e.subscribe&&"function"==typeof e.notifySubscribers},function(t){t.extend=function(e,t){if(t)for(var n=Object.keys(t),r=0,o=n.length;r<o;r++){var i=n[r];e[i]=t[i]}return e},t.arrayForEach=function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)},t.arrayIndexOf=function(e,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},t.arrayFirst=function(e,t,n){for(var r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r))return e[r];return null},t.arrayRemoveItem=function(t,n){var r=e.utils.arrayIndexOf(t,n);r>0?t.splice(r,1):0===r&&t.shift()},t.arrayGetDistinctValues=function(t){for(var n=[],r=0,o=(t=t||[]).length;r<o;r++)e.utils.arrayIndexOf(n,t[r])<0&&n.push(t[r]);return n},t.arrayMap=function(e,t){for(var n=[],r=0,o=(e=e||[]).length;r<o;r++)n.push(t(e[r],r));return n},t.arrayFilter=function(e,t){for(var n=[],r=0,o=(e=e||[]).length;r<o;r++)t(e[r],r)&&n.push(e[r]);return n},t.arrayPushAll=function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,r=t.length;n<r;n++)e.push(t[n]);return e},t.unwrapObservable=function(t){return e.isObservable(t)?t():t},t.peekObservable=function(t){return e.isObservable(t)?t.peek():t}}(e.utils||(e.utils={})),function(t){var n="added",r="deleted";function o(t,n,r,o,i){var a,s,l,u,c,d=Math.min,p=Math.max,f=[],h=t.length,m=n.length,v=m-h||1,g=h+m+1;for(a=0;a<=h;a++)for(u=l,f.push(l=[]),c=d(m,a+v),s=p(0,a-1);s<=c;s++)if(s)if(a)if(t[a-1]===n[s-1])l[s]=u[s-1];else{var y=u[s]||g,b=l[s-1]||g;l[s]=d(y,b)+1}else l[s]=s+1;else l[s]=a+1;var x,C=[],_=[],w=[];for(a=h,s=m;a||s;)x=f[a][s]-1,s&&x===f[a][s-1]?_.push(C[C.length]={status:r,value:n[--s],index:s}):a&&x===f[a-1][s]?w.push(C[C.length]={status:o,value:t[--a],index:a}):(--s,--a,i.sparse||C.push({status:"retained",value:n[s]}));return e.utils.findMovesInArrayComparison(w,_,!i.dontLimitMoves&&10*h),C.reverse()}t.compareArrays=function(e,t,i){return i="boolean"==typeof i?{dontLimitMoves:i}:i||{},t=t||[],(e=e||[]).length<t.length?o(e,t,n,r,i):o(t,e,r,n,i)}}(e.utils||(e.utils={})),e.unwrap=e.utils.unwrapObservable,e.toJS=function(n){if(0===arguments.length)throw new Error("When calling ko.toJS, pass the object you want to convert.");return t(n,(function(t){for(var n=0;e.isObservable(t)&&n<10;n++)t=t();return t}))},e.toJSON=function(t,n,r){var o=e.toJS(t);return e.utils.stringifyJson(o,n,r)};var n=function(){function t(){this.keys=[],this.values=[]}return t.prototype.save=function(t,n){var r=e.utils.arrayIndexOf(this.keys,t);r>=0?this.values[r]=n:(this.keys.push(t),this.values.push(n))},t.prototype.get=function(t){var n=e.utils.arrayIndexOf(this.keys,t);return n>=0?this.values[n]:void 0},t}();e.ignoreDependencies=e.dependencyDetection.ignore}(ko||(ko={})),function(e){var t=this||(0,eval)("this"),n=t.Object;!function(t){var r=void 0!==t?t:{},o={undefined:1,boolean:1,number:1,string:1};function i(e,t){return!(null!==e&&!(typeof e in o))&&e===t}function a(e){var t=this;return e&&r.utils.objectForEach(e,(function(e,n){var o=r.extenders[e];"function"==typeof o&&(t=o(t,n)||t)})),t}r.subscribable=function(){n.setPrototypeOf(this,u),u.init(this)};var s="change";function l(e,t){t&&t!==s?"beforeChange"===t?this._limitBeforeChange(e):this._origNotifySubscribers(e,t):this._limitChange(e)}var u={init:function(e){e._subscriptions={},e._versionNumber=1},subscribe:function(e,t,n){var o=this;n=n||s;var i=t?e.bind(t):e,a=new r.subscription(o,i,(function(){r.utils.arrayRemoveItem(o._subscriptions[n],a),o.afterSubscriptionRemove&&o.afterSubscriptionRemove(n)}));return o.beforeSubscriptionAdd&&o.beforeSubscriptionAdd(n),o._subscriptions[n]||(o._subscriptions[n]=[]),o._subscriptions[n].push(a),a},notifySubscribers:function(e,t){if((t=t||s)===s&&this.updateVersion(),this.hasSubscriptionsForEvent(t))try{r.dependencyDetection.begin();for(var n,o=this._subscriptions[t].slice(0),i=0;n=o[i];++i)n.isDisposed||n.callback(e)}finally{r.dependencyDetection.end()}},getVersion:function(){return this._versionNumber},hasChanged:function(e){return this.getVersion()!==e},updateVersion:function(){++this._versionNumber},limit:function(e){var t,n,o,i=this,a=r.isObservable(i),s="beforeChange";i._origNotifySubscribers||(i._origNotifySubscribers=i.notifySubscribers,i.notifySubscribers=l);var u=e((function(){i._notificationIsPending=!1,a&&o===i&&(o=i()),t=!1,i.isDifferent(n,o)&&i._origNotifySubscribers(n=o)}));i._limitChange=function(e){i._notificationIsPending=t=!0,o=e,u()},i._limitBeforeChange=function(e){t||(n=e,i._origNotifySubscribers(e,s))}},hasSubscriptionsForEvent:function(e){return this._subscriptions[e]&&this._subscriptions[e].length},getSubscriptionsCount:function(e){if(e)return this._subscriptions[e]&&this._subscriptions[e].length||0;var t=0;return r.utils.objectForEach(this._subscriptions,(function(e,n){"dirty"!==e&&(t+=n.length)})),t},isDifferent:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},extend:a};r.exportProperty(u,"subscribe",u.subscribe),r.exportProperty(u,"extend",u.extend),r.exportProperty(u,"getSubscriptionsCount",u.getSubscriptionsCount),n.setPrototypeOf(u,Function.prototype),r.subscribable.fn=u,r.exportSymbol("subscribable",r.subscribable);var c=r.utils.createSymbolOrString("_latestValue");r.observable=function(e){function t(){return arguments.length>0?(t.isDifferent(t[c],arguments[0])&&(t.valueWillMutate(),t[c]=arguments[0],t.valueHasMutated()),this):(r.dependencyDetection.registerDependency(t),t[c])}return t[c]=e,r.subscribable.fn.init(t),n.setPrototypeOf(t,d),r.options.deferUpdates&&r.extenders.deferred(t,!0),t};var d={equalityComparer:i,peek:function(){return this[c]},valueHasMutated:function(){this.notifySubscribers(this[c],"spectate"),this.notifySubscribers(this[c])},valueWillMutate:function(){this.notifySubscribers(this[c],"beforeChange")}};n.setPrototypeOf(d,r.subscribable.fn);var p=r.observable.protoProperty="__ko_proto__";d[p]=r.observable,r.hasPrototype=function(t,n){return null!==t&&t!==e&&t[p]!==e&&(t[p]===n||r.hasPrototype(t[p],n))},r.isWriteableObservable=function(e){return"function"==typeof e&&e[p]===r.observable||!("function"!=typeof e||e[p]!==r.dependentObservable||!e.hasWriteFunction)},r.exportSymbol("observable",r.observable),r.exportSymbol("isObservable",r.isObservable),r.exportSymbol("isWriteableObservable",r.isWriteableObservable),r.exportSymbol("isWritableObservable",r.isWriteableObservable),r.exportSymbol("observable.fn",d),r.exportProperty(d,"peek",d.peek),r.exportProperty(d,"valueHasMutated",d.valueHasMutated),r.exportProperty(d,"valueWillMutate",d.valueWillMutate),r.observableArray=function(e){if("object"!=typeof(e=e||[])||!("length"in e))throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");var t=r.observable(e);return n.setPrototypeOf(t,r.observableArray.fn),t.extend({trackArrayChanges:!0})},r.observableArray.fn={remove:function(e){for(var t=this.peek(),n=[],o="function"!=typeof e||r.isObservable(e)?function(t){return t===e}:e,i=0;i<t.length;i++){var a=t[i];o(a)&&(0===n.length&&this.valueWillMutate(),n.push(a),t.splice(i,1),i--)}return n.length&&this.valueHasMutated(),n},removeAll:function(t){if(t===e){var n=this.peek(),o=n.slice(0);return this.valueWillMutate(),n.splice(0,n.length),this.valueHasMutated(),o}return t?this.remove((function(e){return r.utils.arrayIndexOf(t,e)>=0})):[]},destroy:function(e){var t=this.peek(),n="function"!=typeof e||r.isObservable(e)?function(t){return t===e}:e;this.valueWillMutate();for(var o=t.length-1;o>=0;o--)n(t[o])&&(t[o]._destroy=!0);this.valueHasMutated()},destroyAll:function(t){return t===e?this.destroy((function(){return!0})):t?this.destroy((function(e){return r.utils.arrayIndexOf(t,e)>=0})):[]},indexOf:function(e){var t=this();return r.utils.arrayIndexOf(t,e)},replace:function(e,t){var n=this.indexOf(e);n>=0&&(this.valueWillMutate(),this.peek()[n]=t,this.valueHasMutated())}},n.setPrototypeOf(r.observableArray.fn,r.observable.fn),r.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){r.observableArray.fn[e]=function(){var t=this.peek();this.valueWillMutate(),this.cacheDiffForKnownOperation(t,e,[].slice.apply(arguments));var n=t[e].apply(t,arguments);return this.valueHasMutated(),n===t?this:n}})),r.utils.arrayForEach(["slice"],(function(e){r.observableArray.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}})),r.exportSymbol("observableArray",r.observableArray);var f=r.utils.createSymbolOrString("_state");function h(e,t){null!==t&&t.dispose&&t.dispose()}function m(e,t){var n=this.computedObservable,r=n[f];r.isDisposed||(this.disposalCount&&this.disposalCandidates[t]?(n.addDependencyTracking(t,e,this.disposalCandidates[t]),this.disposalCandidates[t]=null,--this.disposalCount):r.dependencyTracking[t]||n.addDependencyTracking(t,e,r.isSleeping?{_target:e}:n.subscribeToDependency(e)))}r.computed=r.dependentObservable=function(t,o,i){if("object"==typeof t?i=t:(i=i||{},t&&(i.read=t)),"function"!=typeof i.read)throw Error("Pass a function that returns the value of the ko.computed");var a=i.write,s={latestValue:e,isStale:!0,isBeingEvaluated:!1,suppressDisposalUntilDisposeWhenReturnsFalse:!1,isDisposed:!1,pure:!1,isSleeping:!1,readFunction:i.read,evaluatorFunctionTarget:o||i.owner,disposeWhenNodeIsRemoved:i.disposeWhenNodeIsRemoved||i.disposeWhenNodeIsRemoved||null,disposeWhen:i.disposeWhen||i.disposeWhen,domNodeDisposalCallback:null,dependencyTracking:{},dependenciesCount:0,evaluationTimeoutInstance:null};function l(){if(arguments.length>0){if("function"!=typeof a)throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return a.apply(s.evaluatorFunctionTarget,arguments),this}return r.dependencyDetection.registerDependency(l),(s.isStale||s.isSleeping&&l.haveDependenciesChanged())&&l.evaluateImmediate(),s.latestValue}return l[f]=s,l.hasWriteFunction="function"==typeof a,r.subscribable.fn.init(l),n.setPrototypeOf(l,v),i.pure?(s.pure=!0,s.isSleeping=!0,r.utils.extend(l,g)):i.deferEvaluation&&r.utils.extend(l,y),r.options.deferUpdates&&r.extenders.deferred(l,!0),s.disposeWhenNodeIsRemoved&&(s.suppressDisposalUntilDisposeWhenReturnsFalse=!0,s.disposeWhenNodeIsRemoved.nodeType||(s.disposeWhenNodeIsRemoved=null)),s.isSleeping||i.deferEvaluation||l.evaluateImmediate(),s.disposeWhenNodeIsRemoved&&l.isActive()&&r.utils.domNodeDisposal.addDisposeCallback(s.disposeWhenNodeIsRemoved,s.domNodeDisposalCallback=function(){l.dispose()}),l};var v={equalityComparer:i,getDependenciesCount:function(){return this[f].dependenciesCount},addDependencyTracking:function(e,t,n){if(this[f].pure&&t===this)throw Error("A 'pure' computed must not be called recursively");this[f].dependencyTracking[e]=n,n._order=this[f].dependenciesCount++,n._version=t.getVersion()},haveDependenciesChanged:function(){for(var e,t=this[f].dependencyTracking,r=n.keys(t),o=0,i=r.length;o<i;o++)if((e=t[r[o]])._target.hasChanged(e._version))return!0},markDirty:function(){this._evalDelayed&&!this[f].isBeingEvaluated&&this._evalDelayed()},isActive:function(){return this[f].isStale||this[f].dependenciesCount>0},respondToChange:function(){this._notificationIsPending||this.evaluatePossiblyAsync()},subscribeToDependency:function(e){if(e._deferUpdates&&!this[f].disposeWhenNodeIsRemoved){var t=e.subscribe(this.markDirty,this,"dirty"),n=e.subscribe(this.respondToChange,this);return{_target:e,dispose:function(){t.dispose(),n.dispose()}}}return e.subscribe(this.evaluatePossiblyAsync,this)},evaluatePossiblyAsync:function(){var e=this,t=e.throttleEvaluation;t&&t>=0?(clearTimeout(this[f].evaluationTimeoutInstance),this[f].evaluationTimeoutInstance=r.utils.setTimeout((function(){e.evaluateImmediate(!0)}),t)):e._evalDelayed?e._evalDelayed():e.evaluateImmediate(!0)},evaluateImmediate:function(e){var t=this,n=t[f],o=n.disposeWhen,i=!1;if(!n.isBeingEvaluated&&!n.isDisposed){if(n.disposeWhenNodeIsRemoved&&!r.utils.domNodeIsAttachedToDocument(n.disposeWhenNodeIsRemoved)||o&&o()){if(!n.suppressDisposalUntilDisposeWhenReturnsFalse)return void t.dispose()}else n.suppressDisposalUntilDisposeWhenReturnsFalse=!1;n.isBeingEvaluated=!0;try{i=this.evaluateImmediate_CallReadWithDependencyDetection(e)}finally{n.isBeingEvaluated=!1}return n.dependenciesCount||t.dispose(),i}},evaluateImmediate_CallReadWithDependencyDetection:function(t){var n=this,o=n[f],i=!1,a=o.pure?e:!o.dependenciesCount,s={computedObservable:n,disposalCandidates:o.dependencyTracking,disposalCount:o.dependenciesCount};r.dependencyDetection.begin({callbackTarget:s,callback:m,computed:n,isInitial:a}),o.dependencyTracking={},o.dependenciesCount=0;var l=this.evaluateImmediate_CallReadThenEndDependencyDetection(o,s);return n.isDifferent(o.latestValue,l)&&(o.isSleeping||n.notifySubscribers(o.latestValue,"beforeChange"),o.latestValue=l,n.notifySubscribers(o.latestValue,"spectate"),o.isSleeping?n.updateVersion():t&&n.notifySubscribers(o.latestValue),i=!0),a&&n.notifySubscribers(o.latestValue,"awake"),i},evaluateImmediate_CallReadThenEndDependencyDetection:function(e,t){try{var n=e.readFunction;return e.evaluatorFunctionTarget?n.call(e.evaluatorFunctionTarget):n()}finally{r.dependencyDetection.end(),t.disposalCount&&!e.isSleeping&&r.utils.objectForEach(t.disposalCandidates,h),e.isStale=!1}},peek:function(){var e=this[f];return(e.isStale&&!e.dependenciesCount||e.isSleeping&&this.haveDependenciesChanged())&&this.evaluateImmediate(),e.latestValue},limit:function(e){r.subscribable.fn.limit.call(this,e),this._evalDelayed=function(){this._limitBeforeChange(this[f].latestValue),this[f].isStale=!0,this._limitChange(this)}},dispose:function(){var e=this[f];!e.isSleeping&&e.dependencyTracking&&r.utils.objectForEach(e.dependencyTracking,(function(e,t){t.dispose&&t.dispose()})),e.disposeWhenNodeIsRemoved&&e.domNodeDisposalCallback&&r.utils.domNodeDisposal.removeDisposeCallback(e.disposeWhenNodeIsRemoved,e.domNodeDisposalCallback),e.dependencyTracking=null,e.dependenciesCount=0,e.isDisposed=!0,e.isStale=!1,e.isSleeping=!1,e.disposeWhenNodeIsRemoved=null}},g={beforeSubscriptionAdd:function(e){var t=this,n=t[f];if(!n.isDisposed&&n.isSleeping&&"change"==e){if(n.isSleeping=!1,n.isStale||t.haveDependenciesChanged())n.dependencyTracking=null,n.dependenciesCount=0,n.isStale=!0,t.evaluateImmediate()&&t.updateVersion();else{var o=[];r.utils.objectForEach(n.dependencyTracking,(function(e,t){o[t._order]=e})),r.utils.arrayForEach(o,(function(e,r){var o=n.dependencyTracking[e],i=t.subscribeToDependency(o._target);i._order=r,i._version=o._version,n.dependencyTracking[e]=i}))}n.isDisposed||t.notifySubscribers(n.latestValue,"awake")}},afterSubscriptionRemove:function(t){var n=this[f];n.isDisposed||"change"!=t||this.hasSubscriptionsForEvent("change")||(r.utils.objectForEach(n.dependencyTracking,(function(e,t){t.dispose&&(n.dependencyTracking[e]={_target:t._target,_order:t._order,_version:t._version},t.dispose())})),n.isSleeping=!0,this.notifySubscribers(e,"asleep"))},getVersion:function(){var e=this[f];return e.isSleeping&&(e.isStale||this.haveDependenciesChanged())&&this.evaluateImmediate(),r.subscribable.fn.getVersion.call(this)}},y={beforeSubscriptionAdd:function(e){"change"!=e&&"beforeChange"!=e||this.peek()}};n.setPrototypeOf(v,r.subscribable.fn);var b=r.observable.protoProperty;r.computed[b]=r.observable,v[b]=r.computed,r.isComputed=function(e){return r.hasPrototype(e,r.computed)},r.isPureComputed=function(e){return r.hasPrototype(e,r.computed)&&e[f]&&e[f].pure},r.exportSymbol("computed",r.computed),r.exportSymbol("dependentObservable",r.computed),r.exportSymbol("isComputed",r.isComputed),r.exportSymbol("isPureComputed",r.isPureComputed),r.exportSymbol("computed.fn",v),r.exportProperty(v,"peek",v.peek),r.exportProperty(v,"dispose",v.dispose),r.exportProperty(v,"isActive",v.isActive),r.exportProperty(v,"getDependenciesCount",v.getDependenciesCount),r.pureComputed=function(e,t){return"function"==typeof e?r.computed(e,t,{pure:!0}):((e=r.utils.extend({},e)).pure=!0,r.computed(e,t))},r.exportSymbol("pureComputed",r.pureComputed)}(t.ko)}(),
/*! Knockout projections plugin - version 1.1.0
------------------------------------------------------------------------------
Copyright (c) Microsoft Corporation
All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 
THIS CODE IS PROVIDED *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE, MERCHANTABLITY OR NON-INFRINGEMENT.
See the Apache Version 2.0 License for specific language governing permissions and limitations under the License.
------------------------------------------------------------------------------
*/
function(e,t){var n={};function r(e,t,n,r,o,i,a){this.inputItem=t,this.stateArrayIndex=n,this.mappingOptions=o,this.arrayOfState=i,this.outputObservableArray=a,this.outputArray=this.outputObservableArray.peek(),this.isIncluded=null,this.suppressNotification=!1,this.outputArrayIndex=e.observable(r),this.disposeFuncFromMostRecentMapping=null,this.mappedValueComputed=e.computed(this.mappingEvaluator,this),this.mappedValueComputed.subscribe(this.onMappingResultChanged,this),this.previousMappedValue=this.mappedValueComputed.peek()}function o(e,t){if(!e)return null;switch(e.status){case"added":return e.index;case"deleted":return e.index+t;default:throw new Error("Unknown diff status: "+e.status)}}function i(e,t,n,o,i,a,s,l,u){var c="number"==typeof t.moved,d=c?n[t.moved]:new r(e,t.value,o,i,a,s,l);return s.splice(o,0,d),d.isIncluded&&u.splice(i,0,d.mappedValueComputed.peek()),c&&(d.stateArrayIndex=o,d.setOutputArrayIndexSilently(i)),d}function a(e,t,n,r,o){var i=t.splice(n,1)[0];i.isIncluded&&o.splice(r,1),"number"!=typeof e.moved&&i.dispose()}function s(e,t,n){return e.stateArrayIndex=t,e.setOutputArrayIndexSilently(n),n+(e.isIncluded?1:0)}function l(e,t){var n=[],l=[],u=e.observableArray(l),c=this.peek();if("function"==typeof t&&(t={mapping:t}),t.mappingWithDisposeCallback){if(t.mapping||t.disposeItem)throw new Error("'mappingWithDisposeCallback' cannot be used in conjunction with 'mapping' or 'disposeItem'.")}else if(!t.mapping)throw new Error("Specify either 'mapping' or 'mappingWithDisposeCallback'.");for(var p=0;p<c.length;p++){var f=c[p],h=new r(e,f,p,l.length,t,n,u),m=h.mappedValueComputed.peek();n.push(h),h.isIncluded&&l.push(m)}var v=function(e,t,n,r,l,u){return t.subscribe((function(t){if(t.length){for(var c=function(e,t){for(var n={},r=0;r<e.length;r++){var o=e[r];"added"===o.status&&"number"==typeof o.moved&&(n[o.moved]=t[o.moved])}return n}(t,n),d=0,p=t[0],f=0,h=p&&function(e,t,n){return n.length&&t[e.index]?t[e.index].outputArrayIndex.peek():n.length}(p,n,r),m=p.index;p||m<n.length;m++)if(o(p,f)===m){switch(p.status){case"added":i(e,p,c,m,h,u,n,l,r).isIncluded&&h++,f++;break;case"deleted":a(p,n,m,h,r),f--,m--;break;default:throw new Error("Unknown diff status: "+p.status)}p=t[++d]}else m<n.length&&(h=s(n[m],m,h));l.valueHasMutated()}}),null,"arrayChange")}(e,this,n,l,u,t),g=e.computed(u).extend({trackArrayChanges:!0}),y=g.dispose;return g.dispose=function(){v.dispose(),e.utils.arrayForEach(n,(function(e){e.dispose()})),y.call(this,arguments)},d(e,g),g}function u(e,t){return l.call(this,e,(function(e){return t(e)?e:n}))}r.prototype.dispose=function(){this.mappedValueComputed.dispose(),this.disposeResultFromMostRecentEvaluation()},r.prototype.disposeResultFromMostRecentEvaluation=function(){if(this.disposeFuncFromMostRecentMapping&&(this.disposeFuncFromMostRecentMapping(),this.disposeFuncFromMostRecentMapping=null),this.mappingOptions.disposeItem){var e=this.mappedValueComputed();this.mappingOptions.disposeItem(e)}},r.prototype.mappingEvaluator=function(){var e;if(null!==this.isIncluded&&this.disposeResultFromMostRecentEvaluation(),this.mappingOptions.mapping)e=this.mappingOptions.mapping(this.inputItem,this.outputArrayIndex);else{if(!this.mappingOptions.mappingWithDisposeCallback)throw new Error("No mapping callback given.");var t=this.mappingOptions.mappingWithDisposeCallback(this.inputItem,this.outputArrayIndex);if(!("mappedValue"in t))throw new Error("Return value from mappingWithDisposeCallback should have a 'mappedItem' property.");e=t.mappedValue,this.disposeFuncFromMostRecentMapping=t.dispose}var r=e!==n;return this.isIncluded!==r&&(null!==this.isIncluded&&this.moveSubsequentItemsBecauseInclusionStateChanged(r),this.isIncluded=r),e},r.prototype.onMappingResultChanged=function(e){e!==this.previousMappedValue&&(this.isIncluded&&this.outputArray.splice(this.outputArrayIndex.peek(),1,e),this.suppressNotification||this.outputObservableArray.valueHasMutated(),this.previousMappedValue=e)},r.prototype.moveSubsequentItemsBecauseInclusionStateChanged=function(e){var t,n,r=this.outputArrayIndex.peek();if(e)for(this.outputArray.splice(r,0,null),t=this.stateArrayIndex+1;t<this.arrayOfState.length;t++)(n=this.arrayOfState[t]).setOutputArrayIndexSilently(n.outputArrayIndex.peek()+1);else for(this.outputArray.splice(r,1),t=this.stateArrayIndex+1;t<this.arrayOfState.length;t++)(n=this.arrayOfState[t]).setOutputArrayIndexSilently(n.outputArrayIndex.peek()-1)},r.prototype.setOutputArrayIndexSilently=function(e){this.suppressNotification=!0,this.outputArrayIndex(e),this.suppressNotification=!1};var c="_ko.projections.cache";function d(e,t){return e.utils.extend(t,e[c]),t}function p(e){e.projections={_exclusionMarker:n},function(e){function t(e,t){return function(){return t.apply(this,[e].concat(Array.prototype.slice.call(arguments,0)))}}e[c]={map:t(e,l),filter:t(e,u)}}(e),d(e,e.observableArray.fn)}!function(){if("undefined"!=typeof module&&void 0!==module.exports){var t=require("knockout");p(t),module.exports=t}else"ko"in e&&p(e.ko)}()}(this),window.performance.mark("OssEnd"),fx.bootstrapTelemetry.ossFxScriptsEnd=fx.getTimestamp(),function(e){var t=e.document,n=e.Object,r=e.Array,o=e.console,i=e.Math.random,a=le(),s=le();s.require=s.exports=s.module=null;var l,u,c,d,p,f=le(),h=le(),m=le(),v=le(),g=le(),y=le(),b=le(),x=le(),C=le(),_=le(),w=le(),P=le(),E=le(),F=le(),I=le(),M=[],S=le(),k=le(),R=le(),A=le(),T=new Set,D=new Set,B="function"==typeof e.importScripts,N=e.Promise,O="_preorder_anonymous_define_",L="-preorder-shim",j="portalalias!",V=/[^/]+\/\.\.\/|\/\.(\/)|^\.\//,H=/\.js(?:[?#]|$)/,W=/^\/|:|\?|\.js$/,q=/^data:|^blob:/,U=/^\/|^https?:/,z=/[&?]retryAttempt=/,G=/(.+\/)/,Q=408,K=3e4,$=function(){},J=!B&&function(){var e=N.resolve(),n=null,r=t.createDocumentFragment();function o(){r.childNodes.length&&(t.head.appendChild(r),r=t.createDocumentFragment(),n=null)}return{appendChild:function(t){r.appendChild(t),n=n||e.then(o)},appendToDocument:function(){window.MsPortalFx&&window.MsPortalFx.isFeatureEnabled&&!window.MsPortalFx.isFeatureEnabled("pretick")||o()}}}(),X="/",Y=0,Z=!1,ee="",te=$,ne=$,re=$,oe=function(e,t){return e},ie=function(e,t,n,r){r||ae(e,t,n)},ae=function(e,t,n){n?o.warn(t):o.error(t)};function se(e,t){return e&&t&&e.endsWith(t)}function le(){return n.create(null)}function ue(e){return e?n.keys(e):[]}function ce(e){return e+(H.test(e)||q.test(e)?"":".js")}function de(e){return[].concat.apply([],pe(e).map((function(e){return w[e]||[]})))}function pe(e){var t=[e];return se(e,"/index")?t.push(e.substring(0,e.length-6)):(t.push(e+"/index"),!se(e,"/lib")&&t.push(e+"/lib/index")),t}function fe(e,t,n,r){void 0===r&&(r=X);var o=n[e];if(!o)for(var i=0,a=pe(e);i<a.length;i++){var s=a[i];if(o=n[s]){k[e]=s.substring(0,s.lastIndexOf("/")+1);break}}if(o){y[e]=!0;var l=H.test(o)||q.test(o),u=t||l||o.includes("?")?"":".js";o=(l||U.test(o)?"":r)+o+u}else if(W.test(e))o=e,b[e]=!0;else{var c="";e.split("/").reduce((function(e,t){var r=(e&&t&&e+"/"||e)+t;return o&&(c+=t&&"/"+t),n[r]&&(o=n[r],c=""),r}),""),o=((o||"")+c||(e.startsWith("/")||/^[\w+.-]+:/.test(e)?"":r)+e)+(t?"":".js")}return o}function he(e,t,n){a[e]||(a[O]?Te(e,[],O):n||Ce(e,t,null,'Module "'.concat(e,'" wasn\'t defined explicitly or anonymously in downloaded file "').concat(t,'"; trying fallback path.'))),n&&n()}function me(e,t){try{e()}catch(e){var n="(Unserializable)";try{n=JSON.stringify(e,(function(e,t){return t instanceof Error?{message:t.message,stack:t.stack}:t}))}catch(e){}t(n)}}function ve(n,r,o,i){if(void 0===i&&(i=!1),!i&&(null==c||c(r,!0)),B)me((function(){e.importScripts(r),he(n,r,o)}),(function(e){Ce(n,r,o,'self.importscripts failed for "'.concat(n,'" at "').concat(r,'" with error ').concat(e,", retrying."),{warn:1})}));else{A[r]||(A[r]={loadSuccessful:!1,attemptedFallbacks:[r]});var a=t.createElement("script");a.setAttribute("data-requiremodule",n),a.async=!0,a.src=r,a.crossOrigin="anonymous";var s=setTimeout((function(){var e;(null===(e=A[r])||void 0===e?void 0:e.loadSuccessful)||Ce(n,a.src,o,'define for "'.concat(n,'" wasn\'t called because of a script timeout for "{').concat(r,'}", trying Ajax call.'),{warn:1,status:Q})}),K);if(a.onerror=function(e){var t;if(clearTimeout(s),!(null===(t=A[r])||void 0===t?void 0:t.loadSuccessful)){var i=e&&e.target&&"[".concat(e.target.src,"]")||"{".concat(r,"}");Ce(n,a.src,o,'define for "'.concat(n,'" wasn\'t called because of a script error for "').concat(i,'", trying Ajax call.'),{warn:1})}},a.onload=function(){var e=A[r];e&&(e.loadSuccessful=!0),!i&&(null==c||c(r,!1)),clearTimeout(s),he(n,r,o)},l&&l(a,p,n,r),Z){var u=t.createElement("link");u.rel="preload",u.as="script",u.href=a.src,u.crossOrigin="anonymous",J.appendChild(u)}J.appendChild(a)}}function ge(e,t,n){if(void 0===n&&(n={}),!(e in s)){var r=new Error(t);r.data=__assign({moduleId:e},n),!n.skipLogging&&ie(e,r,0),Pe(e,null,r)}}function ye(t){return t&&(t.startsWith("data:")||t.startsWith("blob:"))?N.resolve({status:200}):N.race([e.fetch(t).then((function(e){return{status:e.status,message:function(){return e.text()}}})),new N((function(e){setTimeout((function(){return e({status:Q,message:function(){return N.resolve("Internal timeout")}})}),K)}))])}function be(e){return e&&new URL(e).hostname}function xe(e,t){C[ce(e)]=t.map(ce)}function Ce(n,r,o,a,s){void 0===s&&(s={});var l=s.status===Q,u=be(r),c=l&&D.has(u);l&&D.add(u);var d=function(e){var t=(C[e]||[]).shift();return t?C[t]=C[e]:t=!z.test(e)&&e+"".concat(e.includes("?")?"&":"?","retryAttempt=").concat(1+i()),t}(r);if(d){if(l&&be(d)!==u&&T.add(u),!c&&ie(n,a,s.warn),!B){var p=A[r];p&&(A[d]=p,p.attemptedFallbacks.push(d))}if(z.test(d)){if("hidden"===t.visibilityState){var f=function(){"visible"===t.visibilityState&&(e.removeEventListener("visibilitychange",f),Fe(n,d,o,!0))};return void e.addEventListener("visibilitychange",f)}if(!e.navigator.onLine){var h=function(){e.removeEventListener("online",h),Fe(n,d,o,!0)};return void e.addEventListener("online",h)}}Fe(n,d,o,!0)}else ge(n,a,__assign(__assign({},s),{skipLogging:c}))}function _e(e,t,n){null==c||c(t,!0),ye(t).then((function(r){200===r.status?(null==c||c(t,!1),ve(e,t,n,!0)):Ce(e,t,n,"Couldn't load \"".concat(e,'"; error code ').concat(r.status),{status:r.status,moduleUrl:t})}),(function(r){Ce(e,t,n,"Couldn't load \"".concat(e,'"; error code 0'),{status:0,moduleUrl:t,error:r})}))}function we(e,t){var n,r;(ne(e),f[e])||(f[e]={preorderPromise:new N((function(o,i){n=o,t&&(n.error=t),r=function(t){t=t||"[Unknown error]",f[e].rejected=t,i(t)}})),resolve:n,reject:r});return f[e]}function Pe(e,t,n){ne(e,!0),re(e,1),!n&&(s[e]=t);var r=f[e];r&&(n?r.reject(n):r.resolve(t))}function Ee(e){var t=e.indexOf("!");if(t>-1)return e.slice(0,t)}function Fe(e,t,n,r){T.has(be(t))?Ce(e,t,n,'Skipping source "'.concat(t,'" for module "').concat(e,'" as its host has previously timed out.'),{warn:1,status:Q}):(r||B?_e:ve)(e,t,n)}function Ie(e,t,n){t=Re(oe(t,e)),re(t,0,e);for(var r=0,o=De(t,!0);r<o.length;r++){var i=o[r];if(i in s||f[i]||!a[i]||Be(i,a[i][0],a[i][1]),i in s||f[i])return i in s?s[i]:f[i]}var l=Ee(t);if(l){if(l in s||f[l]){var c=we(t,(function(e){return ie(t,"Plugin loading error : "+e)})),d=t.slice(l.length+1);return l in s?s[l].load(d,Se(e),f[t].resolve,p):f[l].preorderPromise.then((function(n){return n.load(d,Se(e),f[t].resolve,p)})),c}ie(t,'Module "'.concat(t,'", needed by "').concat(e,'", needs plugin "').concat(l,'" which is not defined nor pending at this point.  Attempting to load as normal module.'),1)}!function(e){if(!(e in P))return;var t=new Set,n=function(e){if(!t.has(e)){t.add(e);for(var r=0,o=de(e);r<o.length;r++){var i=o[r];n(i)}}};P[e].forEach((function(e){return n(e)}));var r=[],o="URL_NOT_FOUND";t.forEach((function(t){var n,i=fe(t,!1,x,o);i.includes(o)||h[i]||(h[i]=!0,te((function(){return'Downloading "'.concat(i,'" for "').concat(t,'" needed by fetchMetaDependency for "').concat(e,'".')})),u&&r.push(new N((function(e){return n=e}))),Fe(t,i,n))})),u&&u(e,N.all(r))}(t);var m=fe(t,!1,g);if(!h[m])if(h[m]=!0,te((function(){return'Downloading "'.concat(m,'" for "').concat(t,'" needed by "').concat(e.substring(0,e.indexOf(" Error"))||e,'".')})),n)ye(m),Be(t+L+"-dependencies",Ne(t),(function(){Fe(t+L+"-content",m,(function(){var e=a[t+L+"-content"]||[[],null];Be(t,e[0],e[1])}))}));else{var v=!y[t]&&function(){a[t]||(b[t]||ie(t,'Module "'.concat(t,'" wasn\'t defined explicitly or anonymously in downloaded file "').concat(m,'".  Will proceed assuming it loaded correctly.')),Te(t,[],null))};Fe(t,m,v)}return we(t)}function Me(e,t){if(!t)return e;if(t.startsWith(".")&&(t=(k[e]||(k[e]=(G.exec(e)||[""])[0]))+t),~t.indexOf("./")||~t.indexOf("/."))for(;V.test(t);)t=t.replace(V,"$1");return t}function Se(e){if(m[e])return m[e];var t=function(t){return Me(e,t)},n=function(e,n,o,i){if("string"==typeof e){if((e=Re(t(e)))in s)return s[e];!function(e,t){throw ie(e,t),t}(e,'Uncaught Error: Module name "'.concat(e,'" has not been loaded yet. Use require([]).'))}var a,l="require "+Y++;R[l]=!0,r.isArray(e)?a=[l,e,n]:(Oe(e),a=r.isArray(n)?[l,n,o]:[l,[],n]);var u=a[1];return u&&(u=u.map(t),[].concat.apply([],u.map((function(e){return de(e)}))).filter((function(e){return e.startsWith(j)})).forEach((function(e){return Ie(l,e)})),a[1]=u.concat.apply(u,u.map((function(e){return Ne(e)||[]}))),te((function(){return"Manually requiring "+JSON.stringify(u)+" which has the following known dependencies "+JSON.stringify(a[1])}))),Be.apply(null,a),f[l]&&f[l].preorderPromise.then(null,i||o),J&&J.appendToDocument(),m[l]};return n.normalize=t,n.toUrl=function(e){return fe(e,!0,g)},n.isPreorder=!0,m[e]=n}function ke(e){var t=E[e];return void 0===t&&(t=E[e]=!!~e.indexOf("**Shim")||!!~e.indexOf(L)),t}function Re(e){var t=S[e];return t||(t=S[e]=function(e){return M.reduce((function(e,t){return e.startsWith(t[0]+"/")||e===t[0]?e.replace(t[0],t[1]):e}),e)}(e)),t}function Ae(e,t,n,o,i){var a,s=e,l=t,u=n;"string"!=typeof s&&(u=l,l=s,s=null!==(a=null==i?void 0:i.getAttribute("data-requiremodule"))&&void 0!==a?a:O),r.isArray(l)||(u=l,l=[]);var c=!o&&Ne(s);c&&(l=l?l.concat(c):c),l&&l.length||(l=["require","exports","module"]);var d=Ee(s);d&&(l=l?l.concat(d):[d]);var p=o?s:Re(s);return l&&!o&&(l=l.reduce((function(e,t){var n=Me(s,t),r=Re(n);return r!==n&&r===p||e.push(r),e}),[])),[p,l||[],u]}function Te(e,n,r){var o,i;if(o=Ae(e,n,r,!0,null==t?void 0:t.currentScript),e=o[0],n=o[1],r=o[2],!a[e]){a[e]=[n,r],r===O&&(a[e]=(n=(i=a[O])[0],r=i[1],i),a[O]=null);for(var s=0,l=De(e,!1);s<l.length;s++){var u=l[s],c=n.map((function(t){return Me(e,t)}));f[u]&&Be(u,c,r),a[u]=[c,r]}f[e]&&Be(e,n,r)}}function De(e,t){var n=[];t&&n.push(e);for(var r=0,o=["/index","/lib/index"];r<o.length;r++){var i=o[r];if(se(e,i)){var a=e.substring(0,e.length-i.length);!g[a]&&n.push(a)}}return n}function Be(e,t,n){var o,i,a,l;(o=Ae(e,t,n),e=o[0],t=o[1],n=o[2],e in s)?ie(e,"Tried to re-execute module definition of "+e,1):(we(e),i=function(e,t){var n=!ke(e)&&F[e];n&&(t=t.concat(ue(n))),te((function(){return'Loading dependencies for "'.concat(e.substring(0,e.indexOf(" Error"))||e,'", which are ').concat(JSON.stringify(t))}));for(var o=new r(t.length),i=function(n){var r=t[n];"require"===r?o[n]=Se(e):"exports"===r?o[n]=v[e]={_exportsDefinedId:e}:"module"===r?o[n]={id:e}:ke(r)?(t.forEach((function(e){return(F[e]||(F[e]=le()))[r]=!0})),o[n]=Ie(e,r,!0)):o[n]=Ie(e,r)},a=t.length-1;a>=0;--a)i(a);return o}(e,t),a=function(t){n&&"function"!=typeof n?Pe(e,n):me((function(){var r=function(){var r=v[e],o=n&&n.apply(r,t);Pe(e,o||r)};d?d(e,r):r()}),(function(t){return ge(e,"Couldn't load \"".concat(e,'" at "').concat(fe(e,!1,g),'" as the following exception was thrown; ').concat(t))}))},l=function(n){var r,o=t.filter((function(e){return f[e]&&f[e].rejected})),i=R[e]?"Manual require of the following modules failed":"Couldn't load \"".concat(e,'" at "').concat(fe(e,!1,g),'" as the following dependencies failed to load'),a=o.map((function(e){var t=f[e].rejected,n=t.data,o=n.status,i=n.moduleUrl,a=t.message;return r=void 0===r?o:r,{name:e,moduleUrl:i,message:a,status:o}}));ge(e,"".concat(i,"; [").concat(o.map((function(e){return'"'.concat(e,'" : {').concat(f[e].rejected,"}")})).join(","),"];"),{status:r,failedModules:a})},i&&i.length&&i.some((function(e){return e&&e.preorderPromise&&e.preorderPromise.then}))?N.all(i.map((function(e){return e&&e.preorderPromise&&e.preorderPromise.then&&e.preorderPromise||e}))).then(a,l):a(i))}function Ne(e){e=Re(e);var t=_[e];if(!t){t=_[e]=[];for(var n=0,r=de(e);n<r.length;n++){var o=r[n];t.push(o),Ne(o).forEach((function(e){return t.push(e)}))}t=_[e]=ue(t.reduceRight((function(e,t){return e[t]=e}),le())).reverse().filter((function(t){return t!==e}))}return t}function Oe(t){p=require.s.contexts._.config=t;for(var n=0,i=ue(t.paths);n<i.length;n++){var a=i[n];if(r.isArray(t.paths[a])){var s=t.paths[a];g[a]=s[0],s.length>1&&xe(s[0],s.slice(1))}else g[a]=t.paths[a]}for(var f=0,h=ue(t.bundles);f<h.length;f++)for(var m=h[f],v=0,y=t.bundles[m];v<y.length;v++){var b=y[v];s=(t.paths||{})[m]||[];r.isArray(s)||(s=[s]),g[b]=s[0],s.length>1&&xe(s[0],s.slice(1))}for(var x=0,C=ue(t.shim);x<C.length;x++)for(var P=0,F=[a=C[x]].concat(t.bundles&&t.bundles[a]||[]);P<F.length;P++){b=F[P];var k=t.shim[a]?r.isArray(t.shim[a])?t.shim[a]:t.shim[(E[a]=!0)&&a].deps:[];k.forEach((function(e){return E[e]=!0})),w[b]=k}for(var R=t.dependencyTree,A=0,D=ue(R);A<D.length;A++)for(var B=D[A],N=0,O=ue(R[B]);N<O.length;N++){b=O[N];w[b]=(w[b]||[]).concat(R[B][b]),g[b]=B}for(var L=!1,j=0,V=ue(t.map);j<V.length;j++){var H=V[j];if("*"===H)for(var W=t.map[H],q=0,U=ue(W);q<U.length;q++){var z=U[q],G=W[z];I[z]!==G&&(I[z]=G,L=!0)}else ie(H,'This module loader only support property "*" in requireConfig.map, execution will continue without considering property "'.concat(H,'".'),1)}L&&(S=le(),M=ue(I).map((function(e){return[e,I[e]]})).sort((function(e,t){return t[0].length-e[0].length})));for(var Q=0,K=ue(t.fallbacks);Q<K.length;Q++){var $=K[Q];xe($,t.fallbacks[$])}if(ee=ee||t.profile){te=function(e){return o.log("[Preorder] ["+ee+"] "+e())};var Y=e.performance;Y&&(ne=function(e,t){Y.mark(e+(t?"-stop":"")),t&&Y.measure(e,e,e+"-stop")})}return Z=Z||t.preload,t.onDependencyStateChange&&(re=t.onDependencyStateChange),t.getRedirectModuleId&&(oe=t.getRedirectModuleId),t.blockedHosts&&(T=t.blockedHosts),t.logError&&(ae=t.logError),t.onNodeCreated&&(l=t.onNodeCreated),t.onMetadependenciesLoaded&&(u=t.onMetadependenciesLoaded),t.baseUrl&&(X=t.baseUrl.endsWith("/")?t.baseUrl:(t.baseUrl||"")+"/"),t.deps&&t.deps.forEach((function(e){return Be("_preorder_dep_"+e,[e].concat(_[e]||[]),null)})),J&&J.appendToDocument(),t.onBundleLoad&&(c=t.onBundleLoad),t.onResolveModule&&(d=t.onResolveModule),e.requirejs}e.nodeRequire=e.require;var Le=e.require=e.requirejs=Se(null);Le.config=Oe,e.define=Te,e.define.amd=le(),Le.configureMetadata=function(e,t){for(var n=0,r=ue(e);n<r.length;n++){var o=r[n];P[o]=P[o]||[];for(var i=0,a=e[o]||[];i<a.length;i++){var s=a[i];P[o].push(s)}}for(var l=t&&t.dependencyTree,u=0,c=ue(l);u<c.length;u++)for(var d=c[u],p=0,f=ue(l[d]);p<f.length;p++){var h=f[p];x[h]=d}},Le.s={contexts:{_:{config:null}}},Le.loadedDefines=a,Le.executedDefines=s,Le.unrequire=function(e,t){if(delete s[e],delete f[e],t){delete a[e];var n=fe(e,!1,g);delete h[n];var r=A[n];if(r)for(var o=0,i=r.attemptedFallbacks;o<i.length;o++){var l=i[o];delete A[l]}}},Le.mapDependencies=Ne}(window||self);var ShellWorkerImpl,FxImpl,executeInDevelopmentModeOnly=function(){};!function(e){var t=window,n=t.requirejs;function r(e,t){var n=t.origin,r=t.appPath,o=t.protocol,i=t.replacementOrigin||n;if(l(e=e||"","//")&&(e=o+e),/^\w+:\/\//.test(e))return e.replace(n,i);if(l(e,"/"))return i+e;var a=i+r;return a.endsWith("/")||(a+="/"),a+e}function o(e,t){return r(e,t)}function i(e,t){return e&&e.map((function(e){return o(e,t)}))}function a(e,t,n){if(e){var r=Object.create(null);return s(e,(function(e,a){r[o(e,t)]=n?i(a,t):a})),r}}function s(e,t,n){return e&&Object.keys(e).forEach((function(r){t(r,e[r],n)})),n}function l(e,t){return e&&e.startsWith(t)}e.addLoggingToRequireConfig=function(e,t){var n=/^require \d+$/;e.logError=function(e,r,o){return o||n.test(e)?t.warning(r):t.error(r)}},e.reshapeRequireConfigCore=function(e,t,r){if(n.isPreorder){if(r&&(e.blockedHosts=new Set(MsPortalFx.getEnvironmentValue("blockedHosts")||[])),t.isEnabled("preorderperf")){var o=MsPortalFx.getEnvironmentValue("extensionName")||"fx";e.profile=o}t.isEnabled("preorderpreload")&&(e.preload=!0)}else e.paths=e.paths||{},e.bundles=e.bundles||{},s(e.dependencyTree,(function(t,n){e.paths[t]=[t].concat((e.fallbacks||{})[t]||[]),e.bundles[t]=Object.keys(n)}));return e},e.toAbsoluteUrisRequireCore=function(e,n){var r,l=n.origin,u=n.baseDomains,c=(u||[]).shift()||l,d={origin:l,protocol:n.protocol,appPath:n.appPath,replacementOrigin:c};if(s(e.paths,(function(t,n){Array.isArray(n)?e.paths[t]=i(n,d):e.paths[t]=o(n,d)})),e.baseUrl&&(e.baseUrl=o(e.baseUrl,d)),$.extend(e,{dependencyTree:a(e.dependencyTree,d),fallbacks:e.fallbacks||{}}),u&&u.length){var p=null===(r=t.MsPortalFx)||void 0===r?void 0:r.sessionId,f=e.fallbacks,h=function(e){f[e]=(f[e]||[]).concat(u.map((function(t){var n=e.replace(c,t),r=new URL(n);return!r.pathname.endsWith(".js")&&(r.pathname+=".js"),r.searchParams.set("sessionId",p),r.href})))};s(e.dependencyTree,h),s(e.paths,(function(e,t){return(Array.isArray(t)?t:[t]).forEach(h)}))}$.extend(e,{fallbacks:a(e.fallbacks,d,!0)})},e.ensureAbsoluteUriCore=r}(FxImpl||(FxImpl={})),function(e){var t=function(e,t,n){var r=this;e=e||{flights:{},fromConfig:{},fromQuery:{}},this.shellFeatures=e;var o=["","feature."];t&&o.push(t.toLowerCase()+"_");var i={};[e.flights,e.fromConfig].concat(n).concat([e.fromQuery]).forEach((function(e){var n=Object.keys(e||{});o.forEach((function(r){n.forEach((function(n){var o=n.toLowerCase();if(o.startsWith(r)){var a=o.slice(r.length);!r&&(a.includes(".")||t&&a.includes("_"))||(i[a]=e[n]+"")}}))}))})),this.value=i,this.isEnabled=function(e,t){var n=r.getValue(e);return n?4===n.length&&"true"===n.toLowerCase():t||!1},this.getValue=function(e){return r.value[e.toLowerCase()]},this.isNativePerf=this.isEnabled("nativeperf")};e.Features=t}(FxImpl||(FxImpl={})),function(e){var t=window;e.setFxCoreNonAmdEnvironment=function(e){var n=e.features,r=e.environment;t.MsPortalFx=t.MsPortalFx||{};var o=e.trace;MsPortalFx.trace=o;var i=n.isEnabled("clientDevelopmentMode");MsPortalFx.isDevelopmentMode=i;var a=n.isEnabled("canModifyExtensions");MsPortalFx.canModifyExtensions=a,MsPortalFx.getEnvironmentValue=function(e,t){var n=r[e];return null==n?t:n}}}(FxImpl||(FxImpl={})),function(e){const t="undefined"!=typeof window?window:self;function n(e){self.postMessage(e)}function r(e){return new Promise(((n,r)=>{t.requirejs([e],n,r)}))}void 0!==t.importScripts&&!t?.fx?.internalEnv&&(t.onmessage=function e(o){0===o?.data?.kind&&(t.removeEventListener("message",e),function(e,o){const{noOptScripts:i}=e;i&&t.importScripts(...i||[]),async function(e,o){const{internalEnv:i,environment:a,shellFeatures:s,location:l,initOptions:u,blockedHosts:c}=e,d=new FxImpl.Features(s);FxImpl.setFxCoreNonAmdEnvironment({trace:i.trace,features:d,environment:a});const p=FxImpl.reshapeRequireConfigCore(a.requireConfig,d);t.requirejs.config(p);const f=e=>{n({signature:"###SHELLWORKER###",kind:4,data:e})},h=async()=>{const[n,{Logging:s,LogEntryLevel:h},{decycle:m}]=await Promise.all([r("FxInternal/ErrorHandling"),r("Fx/Diagnostics"),r("FxInternal/Diagnostics")]),v=(e,t,...n)=>{f({logEntry:{level:2,area:"ShellWorkerEntryPoint",message:"object"==typeof e?m(e):e,code:t,args:n&&n.map((e=>"object"==typeof e?m(e):e))}})};n.preinitialize(d,v);const[g,{Logging:y,Telemetry:b}]=await Promise.all([r("Fx/DependencyInjectionCore"),r("ShellWorkerImpl/Core/Diagnostics")]),x=g.container,C=new y(f);x.set(s,C),n.initialize(),FxImpl.addLoggingToRequireConfig(p,C.createLog("ShellWorker")),t.requirejs.config(p);const[{Features:_},{Environment:w},{ExperimentationManager:P},{PreloadData:E}]=await Promise.all([r("FxInternal/Features"),r("ShellWorkerImpl/Core/Environment"),r("FxInternal/Experimentation"),r("ShellWorkerImpl/Core/PreloadData")]);x.set(_,d);const F={location:l,displayLanguage:i.displayLanguage,effectiveLocale:u.effectiveLocale,sdkVersion:a.sdkVersion,sessionId:i.sessionId,clientOptimizations:a.clientOptimizations,userQuery:e.userQuery},I=new b(f);x.set(w,F),x.set(b,I),x.set(P,new P({frameContext:2,shellVariants:x.get(E).getPreloadedData().then((e=>e?.variants?.hubsextension)),features:d,trace:e=>I.trace(e)}));const{Client:M,Constants:S}=await r("FxInternal/Rpc"),k=(()=>{const e=C.createLog("FxInternal/Rpc");return new M(3e4,(t=>{e.writeEntry(2,t,3,null)}),C,d)})();x.set(M,k);const[{RpcStarter:R},{ExtensionManagerOptions:A},{AuthorizationState:T}]=await Promise.all([r("ShellWorkerImpl/Core/ExtensionManager"),r("ShellWorkerImpl/Core/ExtensionManagerOptions"),r("ShellWorkerImpl/Core/AuthorizationState")]);x.set(R,new R(o,d,F));const{extensions:D,manifests:B,loadTypes:N,extensionRedirectMap:O}=u;x.set(A,new A(D,B,N,O,c));const{authorizationState:L}=u;return x.set(T,new T(L,k)),x},m=await h();await(await r("ShellWorkerImpl/Init")).init(m),n({signature:"###SHELLWORKER###",kind:3})}(e,o)}(o.data.data,o.ports[0]))},n({signature:"###SHELLWORKER###",kind:1}))}(ShellWorkerImpl||(ShellWorkerImpl={})),function(e){var t=window;function n(n){return t.MsPortalFx=t.MsPortalFx||{},[n("Fx/Diagnostics",(function(e){var t=e.getLogFriendlyMessage;MsPortalFx.getLogFriendlyMessage=t})),n("FxInternal/Diagnostics",(function(n){var r=n.logHelper,o=n.logFunctions,i=n.sanitizeMessage,a=n.sanitizeMessageFull,s=n.setObjectIdToScrub,l=n.serializationPrivacyReplacer;MsPortalFx.sanitizeMessage=i,t.FxImpl.Base=t.FxImpl.Base||{},t.FxImpl.Base.Diagnostics=t.FxImpl.Base.Diagnostics||{},e.Base.Diagnostics.logHelper=r,e.Base.Diagnostics.logFunctions=o,e.Base.Diagnostics.sanitizeMessageFull=a,e.Base.Diagnostics.setObjectIdToScrub=s,e.Base.Diagnostics.serializationPrivacyReplacer=l})),n("FxInternal/ErrorSerialization",(function(n){var r=n.extractErrorDetails,o=n.isExtractableError;t.FxImpl.Base=t.FxImpl.Base||{},t.FxImpl.Base.Diagnostics=t.FxImpl.Base.Diagnostics||{},e.Base.Diagnostics.extractErrorDetails=r,e.Base.Diagnostics.isExtractableError=o})),n("Fx/Errors",(function(e){var n=e.isInstanceOfErrorType,r=e.getErrorOptions,o=e.FxError,i=t.MsPortalFx.Errors=t.MsPortalFx.Errors||{};i.isInstanceOfErrorType=n,i.getErrorOptions=r,i.Error=o})),n("FxInternal/ErrorHandling",(function(n){var r=n.initialize,o=n.preinitialize,i=n.handleError;t.MsPortalFx.Base=t.MsPortalFx.Base||{},t.MsPortalFx.Base.Diagnostics=t.MsPortalFx.Base.Diagnostics||{},t.MsPortalFx.Base.Diagnostics.ErrorReporter=t.MsPortalFx.Base.Diagnostics.ErrorReporter||{},MsPortalFx.Base.Diagnostics.ErrorReporter.initialize=r,e.errorHandlingImpl={preinitialize:o,handleError:i}})),n("FxInternal/Errors",(function(e){var n=e.FxCanceledError,r=e.FxDisposedCanceledError,o=t.MsPortalFx.Errors=t.MsPortalFx.Errors||{};o.CanceledError=n,o.DisposedCanceledError=r})),n("FxInternal/Lifetime",(function(t){var n=t.TriggerableLifetimeManager;e.TriggerableLifetimeManager=n})),n("FxInternal/Rpc",(function(e){var n=e.getMessageContext,r=e.createCallStack,o=e.createRpcError,i=e.getCurrentCallStack,a=e.DisposableValue,s=e.DisposableValueDictionary,l=e.RpcChannel,u=e.Client,c=e.MessageDispatcher,d=e.MessageMultiplexer,p=e.EndPointTable,f=e.PendingObjectTable,h=e.EndPointDefinition,m=e.ActionEndPointDefinitionBase,v=e.FuncEndPointDefinitionBase,g=t.FxImpl.Rpc=t.FxImpl.Rpc||{};g.getMessageContext=n,g.createCallStack=r,g.createRpcError=o,g.getCurrentCallStack=i,g.DisposableValue=a,g.DisposableValueDictionary=s,g.RpcChannel=l,g.MessageDispatcher=c,g.MessageMultiplexer=d,g.EndPointTable=p,g.PendingObjectTable=f,g.CoreClient=u,g.EndPointDefinition=h,g.ActionEndPointDefinitionBase=m,g.FuncEndPointDefinitionBase=v})),n("FxInternal",(function(t){var n=t.isPlainObject,r=t.jqueryExtend,o=t._objectKeysPolyfill,i=t.forEachKey,a=t.disposeDisposable,s=t.isNullOrUndefined,l=t.remove,u=t.makeArray,c=t.unique,d=t.pushUnique,p=t.union,f=t.startsWith,h=t.tryImmediateResolve,m=t.noop,v=t.identity,g=t.isDiagnosticsEnabled,y=t.extend,b=t.extend2,x=t.getCurrentCallStack,C=t.generateNonSerializableProperty,_=t.getFunctionName,w=t.getObjectConstructorName,P=t.getObjectDescriptor,E=t.findIndex,F=t.find,I=t.startTimer,M=t.regexEscape,S=t.delay,k=t.timeout,R=t.nextTick;e.createError=function(){return t.createError.apply(null,arguments)},MsPortalFx.isPlainObject=n,MsPortalFx.jqueryExtend=r,MsPortalFx._objectKeysPolyfill=o,MsPortalFx.forEachKey=i,MsPortalFx.disposeDisposable=a,MsPortalFx.isNullOrUndefined=s,MsPortalFx.remove=l,MsPortalFx.makeArray=u,MsPortalFx.unique=c,MsPortalFx.pushUnique=d,MsPortalFx.union=p,MsPortalFx.startsWith=f,MsPortalFx.tryImmediateResolve=h,MsPortalFx.noop=m,MsPortalFx.identity=v,MsPortalFx.isDiagnosticsEnabled=g,MsPortalFx.extend=y,MsPortalFx.extend2=b,MsPortalFx.getCurrentCallStack=x,MsPortalFx.generateNonSerializableProperty=C,MsPortalFx.getFunctionName=_,MsPortalFx.getObjectConstructorName=w,MsPortalFx.getObjectDescriptor=P,MsPortalFx.findIndex=E,MsPortalFx.find=F,MsPortalFx.regexEscape=M,MsPortalFx.startTimer=I,MsPortalFx.delay=S,MsPortalFx.timeout=k,MsPortalFx.nextTick=R})),n("Fx/Assets",(function(e){var n=e.ResourceRoutingType;(t.MsPortalFx.Extension=t.MsPortalFx.Extension||{}).ResourceRoutingType=n})),n("Fx/Units",(function(e){var n=e.Unit;(t.MsPortalFx.UnitConversionUtil=t.MsPortalFx.UnitConversionUtil||{}).Unit=n})),n("FxInternal/Units",(function(t){var n=t.higherByteOffset,r=t.perTimeBit,o=t.UnitType;e.UnitConversionUtil={higherByteOffset:n,perTimeBit:r,UnitType:o}})),n("FxInternal/ResourceManagement/SubscriptionsCore",(function(e){var n=e.getInSessionSelectedSubscriptionsEndPoint,r=e.getSubscriptionInfoEndPoint,o=t.FxImpl.Azure=t.FxImpl.Azure||{};o.getInSessionSelectedSubscriptionsEndPoint=n,o.getSubscriptionInfoEndPoint=r})),n("FxInternal/ResourceManagement/LocationsCore",(function(e){var n=e.getLocationDisplayNamesEndPoint;(t.FxImpl.Azure=t.FxImpl.Azure||{}).getLocationDisplayNamesEndPoint=n})),n("FxInternal/RpcEndPointsCore",(function(e){var n=e.getUserInfoEndPoint;(t.FxImpl.Extension=t.FxImpl.Extension||{}).getUserInfoEndPoint=n}))]}function r(){var t,n=fx.environment,r=fx.internalEnv,o=e.features||new e.Features(null===(t=e.bootEnv)||void 0===t?void 0:t.shellFeatures);e.setFxCoreNonAmdEnvironment({trace:r.trace,features:o,environment:n});var i=$.extend({},r.fxRequireConfig);return window.requirejs.config(e.reshapeRequireConfigCore(i,o))}e.patchMsPortalFxNonAmd=function(){var e=r();n((function(t,n){var r;if(e([t],(function(e){r=!0,n(e)}),void 0,void 0,!0),!r)throw new Error("Failed to synchronously require module '".concat(t,"'."))}))},e.patchMsPortalFxNonAmdAsync=function(){var e=r();return Promise.all(n((function(t,n){return new Promise((function(r,o){e([t],(function(e){try{n(e)}catch(e){o(e)}r()}),o)}))})))}}(FxImpl||(FxImpl={})),
define("Fx",["require","exports"],(function(e,t){var n;return function(e){e.defer=function(){var e,t;return{promise:new Promise((function(n,r){e=n,t=r})),resolve:e,reject:t}},e.forEachKey=MsPortalFx.forEachKey,e.getEnvironmentValue=MsPortalFx.getEnvironmentValue,e.getUniqueId=MsPortalFx.getUniqueId,e.isDevelopmentMode=MsPortalFx.isDevelopmentMode,e.isFeatureEnabled=MsPortalFx.isFeatureEnabled,e.getFeatureValue=MsPortalFx.getFeatureValue,e.require=MsPortalFx.require,e.startTimer=MsPortalFx.startTimer,e.toPromise=function(e){return Q.isPromise(e)||e instanceof Promise?e:Q.isPromiseAlike(e)?new Promise((function(t,n){return e.then(t,n)})):Promise.resolve(e)},e.memoizePromise=FxImpl.memoizePromise,e.delay=MsPortalFx.delay,e.timeout=MsPortalFx.timeout,e.nextTick=MsPortalFx.nextTick}(n||(n={})),n})),
define("FxInternal/Ajax",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getAzureStackEndpoint=t.getEndpoints=t.getArmBatchRelativePathAndApiVersion=void 0;var n=MsPortalFx.Base.Net2,r=FxImpl.internalEnv;function o(){return"batch?api-version=".concat(MsPortalFx.getFeatureValue("batchapiversion")||"2020-06-01")}t.getArmBatchRelativePathAndApiVersion=o,t.getEndpoints=function(){var e=n.Internal.getArmEndpoint();return{aadAuthority:r.fxAadAuthority,arm:e,armBatch:e+o(),graph:r.fxGraphEndpoint,msGraph:r.fxMsGraphEndpoint}},t.getAzureStackEndpoint=function(e){var t;return(null===(t=r.azsEndpoints)||void 0===t?void 0:t[e.toLocaleLowerCase()])||void 0}})),
define("FxInternal",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.startTimer=t.regexEscape=t.find=t.findIndex=t.nextTick=t.timeout=t.delay=t.fcall=t.getErrorMap=t.createError=t.getObjectDescriptor=t.getObjectConstructorName=t.getFunctionName=t.generateNonSerializableProperty=t.getCurrentCallStack=t.extend2=t.extend=t.isDiagnosticsEnabled=t.identity=t.noop=t.tryImmediateResolve=t.startsWith=t.union=t.unique=t.pushUnique=t.makeArray=t.remove=t.isNullOrUndefined=t.disposeDisposable=t.forEachKey=t._objectKeysPolyfill=t.jqueryExtend=t.isPlainObject=void 0;var n=window,r=Function,o=Math,i=Object,a=r.call;function s(e){return function(){return a.apply(e,arguments)}}var l=s(r.apply),u=Array.prototype,c=u.push,d=s(u.forEach),p=s(c),f=s(u.splice),h=Array.isArray,m=String.prototype,v=s(m.substring),g=s(m.indexOf),y=s(i.prototype.hasOwnProperty),b=i.keys,x="boolean",C="function",_="string",w="object",P="undefined",E=n.fx.getTimestamp;function F(e){if($.type(e)!==w||e.nodeType||function(e){return e&&e===e.window}(e))return!1;var t=e.constructor,n=t&&t.prototype;return!(n&&!y(n,"isPrototypeOf"))}t.isPlainObject=F;function I(e){switch(typeof e){case _:var t=[];for(var n in e)p(t,n);return t;case C:case w:case P:return b(e);default:return[]}}t.jqueryExtend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r,o,i,a,s,l=arguments[0]||{},u=1,c=!1;typeof l===x&&(c=l,l=arguments[u]||{},u++),typeof l===w||k(l,C)||(l={});var d=arguments.length;for(u===d&&(l=this,u--);u<d;u++)if(null!=(r=arguments[u]))for(var p in r)o=l[p],l!==(i=r[p])&&(c&&i&&(F(i)||(a=h(i)))?(a?(a=!1,s=o&&h(o)?o:[]):s=o&&F(o)?o:{},l[p]=(0,t.jqueryExtend)(c,s,i)):void 0!==i&&(l[p]=i));return l},t._objectKeysPolyfill=I,function(){try{b("")}catch(e){i.keys=I}}();var M=i.keys,S=function(e){var t,r=null===(t=null==n?void 0:n.ko)||void 0===t?void 0:t.isObservable;return r&&r(e)};function k(e,t){return typeof e===t}function R(e,t,n){return e&&d(M(e),(function(r){t(r,e[r],n)})),n}function A(e){if(h(e))d(e,A);else{var t=function(e){var t=e&&e.dispose;return k(t,C)&&t}(e);t&&t.call(e)}}t.forEachKey=R;function T(e){return null==e}function D(e,t,n,r){if(void 0===r&&(r=!1),h(t)){for(var o=n?function(t){return ne(e,(function(e){return n(e,t)}))}:function(t){return e.indexOf(t)},i=r?[]:e,a=0,s=t.length;a<s;a++){var u=t[a];o(u)<0&&p(i,u)}r&&l(c,e,i)}return e}function B(e,t){return D([],e,t)}t.disposeDisposable=function(){d(arguments,A)},t.isNullOrUndefined=T,t.remove=function(e,t,n){void 0===n&&(n=0);var r,o=[],i=0;k(t,C)&&(r=t);for(var a=n,s=e.length;a<s;a++){var l=e[a];i&&(e[a-i]=l),(t===l||r&&r(l))&&(i++,p(o,l))}return i&&f(e,-1*i),o},t.makeArray=function(e){return h(e)||(e=T(e)?[]:[e]),e},t.pushUnique=D,t.unique=B,t.union=function(){var e=[],t=arguments.length-2,n=arguments[t+1];k(n,C)||(n=void 0,t++);for(var r=0;r<=t;r++){D(e,B(arguments[r],n),n,!0)}return e},t.startsWith=function(e,t,n){return e=T(e)?"":String(e),n=T(n)||n<0?0:o.min(n,e.length),e.lastIndexOf(t,n)===n};var N={};function O(e){return N.error=e,N}function L(){}t.tryImmediateResolve=function(e,t,n){if(Q.isPromise(e)&&Q.isFulfilled(e)){var r=function(e,t,n){try{return t(e)}catch(e){return n(e)}}(e&&e.inspect().value,t,O);return r===N?Q.reject(r.error).catch(n):Q(r)}return Q(e).then(t,n)},t.noop=L,t.identity=function(e){return e};var j={};d([x,P,"number",_,"symbol"],(function(e){j[e]=!0}));var V,H=function(){return(new Error).stack},W=Array.isArray,q=JSON.stringify;t.isDiagnosticsEnabled=!((!(V=MsPortalFx.trace)||!V.diagnostics)&&(V&&V.nocallstacks||!MsPortalFx.isDevelopmentMode||!H()));var U=H;if(!U()&&(U=L,t.isDiagnosticsEnabled)){var z=function(){try{throw new Error}catch(e){return e.stack}};z()&&(U=z)}t.extend=function(e,n,r){return r?(0,t.jqueryExtend)(!0,e,n):(0,t.jqueryExtend)(e,n)},t.extend2=function(e,n,r,o){var i=W(e)?[]:{};return(0,t.jqueryExtend)(i,e,n,r,o)},t.getCurrentCallStack=function(e,n){if(e||t.isDiagnosticsEnabled){var r=U();if(r){for(var o=2+(g(r,"@")>-1?0:1)+((null==n?void 0:n.removeStackLevels)||0),i=0;o--&&-1!==i;)i=g(r,"\n",i+1);(r=-1!==i?v(r,i+1):"").length>6e3&&(r=r.slice(0,5996)+" ...")}return r||""}return"(Callstack capturing is not enabled. Use ?trace=diagnostics to enable it.)"},t.generateNonSerializableProperty=function(e){return"###"+e+"###"};var G=/function\s+(\w*)\(.*?\)/,K="[potential-circular-reference]",J=function(e){if(e){var t=e.name;if(void 0===t){var n=e.toString();if(n){var r=G.exec(n);r&&r.length>=1&&(t=r[1])}}return t||"[anonymous]"}return""};function X(e){var t=w;if(e.constructor){var n=e.constructor;t=J(n)}return t}function Y(e){return"<"+e+">"}function Z(e,t,n,r,o){var i,a,s=!e||r;if(o||!e||!e.startsWith("_")){var l=typeof t;if(i=Y(l),l in j);else if(l===w)if(null===t)i=Y("null");else if(W(t)){var u=t;i=(f(t)?"":K)+Y("Array["+u.length+"]")}else if(function(e){return e instanceof Date}(t))i=Y("Date");else if(n.current!==t){var c=Y(X(t));s?(i=a={},a[c]=t,a=a[c],n.current=t):i=c}else n.current=null,i=f(t)?t:K+Y(X(t));else if(l===C){var d=Y(l)+J(t);if(S(t)&&s)if(f(t)){i=a={};var p=t.peek();a[d]=p}else i=K+d;else i=d}return i}function f(e){return!n.visited.includes(e)&&(n.visited.push(e),!0)}}t.getFunctionName=J,t.getObjectConstructorName=X,t.getObjectDescriptor=function(e,t,n){var r={current:null,visited:[]};return q(e,(function(e,o){return Z(e,o,r,t,n)}),2).replace(/"/g,"")};function ee(e,t){return new Promise((function(n){setTimeout((function(){n(t)}),e)}))}function te(e){Promise.resolve().then((function(){e()}))}function ne(e,t,n){var r;if(void 0===n&&(n=0),e&&(r=e.length)){var o=r,i=1,a=n;if(n<0&&(a+=r,i=o=-1),!t)return a<r&&a>=0?a:-1;for(;a!==o;){if(t(e[a],a,e))return a;a+=i}}return-1}t.createError=function(){throw new Error("Can't call 'createError' during module loading")},te((function(){n.requirejs(["Fx/Errors"],(function(e){var n=e.FxError;t.createError=function(e,t){return new n({message:e,data:t&&t.data,innerErrors:t&&t.innerErrors})}}))})),t.getErrorMap=function(e){return R(e,(function(e,n,r){r[e]=function(){var r=[].slice.call(arguments),o=function(e,t,n){var r="Code: '"+e+"'. ",o="";return t?o="string"==typeof t?t:t.apply(void 0,n):n&&n.length&&(o="\nParameters: "+[].join.call(n,",")+". "),r+o}(e,n,r);throw(0,t.createError)(o,n?void 0:{data:{args:r}})}}),{})},t.fcall=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(n){switch(n.label){case 0:return[4,e.apply(void 0,t)];case 1:return[2,n.sent()]}}))}))},t.delay=ee,t.timeout=function(e,t){return Promise.race([e,ee(t).then((function(){var e=new Error("Timed out after ".concat(t," ms"));return e.code="ETIMEDOUT",Promise.reject(e)}))])},t.nextTick=te,t.findIndex=ne,t.find=function(e,t,n){var r=ne(e,t,n);return r<0?void 0:e[r]},t.regexEscape=function(e){return e.replace(/[\-[\]/{}()*+?.\\^$|]/g,"\\$&")},t.startTimer=function(){var e=E();return function(){return E()-e}}})),
define("Fx/Errors",["require","exports","FxInternal"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.FxError=t.getErrorOptions=t.isInstanceOfErrorType=void 0;var r=window,o=Object.getPrototypeOf,i=Object.setPrototypeOf;function a(e){var t,r=[],i=[],a=e.prototype;for(i.push(e);o(a)&&(e=(a=o(a)).constructor)!==Error;)i.push(e);for(;e=i.pop();){var s=e.TypeName;t&&t===s?s=e.TypeName=(0,n.getFunctionName)(e):t=s,r.unshift(s)}return r}function s(e,t){if(e){var n=e.baseTypes,r=n&&n.length;if(r){var o=a(t),i=o&&o.length;if(i){var s=r-i;if(s>=0)return o.every((function(e){return e===n[s++]}))}}}return!1}function l(e,t){e?"string"===typeof e&&(e={message:e}):e={};return(0,n.extend2)(t,e)}t.isInstanceOfErrorType=s,t.getErrorOptions=l;var u=function(e){function t(t){var o=this.constructor,s=this,u=l(t,{name:"Error",errorLevel:2});s=e.call(this,u.message)||this,i(s,o.prototype);var c=a(o);s.type=c[0],s.baseTypes=c,s.code=u.code,s.data=u.data,s._errorData=u.errorData,s.extension=MsPortalFx.getEnvironmentValue("extensionName"),s.errorLevel=u.errorLevel,s._sourceErrorLevel=u._sourceErrorLevel,s.handled=u.handled,s.timestamp=u.timestamp||r.fx.getTimestamp(),s.source=u.source;var d=s.message;s.message=u.message||d;var p=s.name;s.name=u.name||p;var f=u.stack||s.stack||(0,n.getCurrentCallStack)(!0);f.length>6e3&&(f=f.slice(0,5996)+" ..."),s.stack=f;var h=u.innerErrors;return h?Array.isArray(h)?s.innerErrors=h.slice():s.innerErrors=[h]:s.innerErrors=[],s}return __extends(t,e),t.isBaseOf=function(e){return s(e,this)},Object.defineProperty(t.prototype,"errorData",{get:function(){return this._errorData},enumerable:!1,configurable:!0}),t.TypeName="".concat("MsPortalFx.Errors.","Error"),t}(Error);t.FxError=u})),
define("FxInternal/Diagnostics",["require","exports","FxInternal"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.decycle=t.getAllPropertyNames=t.logHelper=t.logFunctions=t.sanitizeUriComponent=t.sanitizeMessage=t.sanitizeMessageFull=t.serializationPrivacyReplacer=t.setObjectIdToScrub=void 0;var r="Please review ".concat("https://aka.ms/portalfx/DoNotLogPII"),o=[null,null],i=[[/([?&;])sig=[\w%-]+/gi,"$1sig=_REDACTED_SAS_TOKEN_SIG_"],[/([?&;])code=[\w%+/=-]+/gi,"$1code=_REDACTED_CODE_"],[/([?&/]|%2F)(SourceKey|DestKey)(=|%3A|%3D|:)(?:[\w/-]|%2F)+(?:==|%3D%3D)/gi,"$1$2$3_REDACTED_AZCOPY_TOKEN_"],[/(\W)[\w+/-]{86}==(\W)/g,"$1_REDACTED_ACCESS_KEY_$2"],[/(?:eyJ0eXAi|eyJhbGci)[\w\-.~+/%]*/gi,"_REDACTED_JWT_TOKEN_"],[/("|'|%22)(bearer |bearer%20)[\w\-.~+/]{100,}("|'|%22)/gi,"$1$2_REDACTED_BEARER_TOKEN_$3"],[/("|')(ssh-rsa )AAAA[\w\-.~+/]{100,}("|')/gi,"$1$2_REDACTED_SSH_KEY_$3"],[/\b[\w.%#+-]+(%40|@)([a-z0-9.-]*\.[a-z]{2,})\b/gi,"_REDACTED_EMAIL_$1$2"],o,[/\/users\/[0-9a-f]{8}-?[0-9a-f]{4}-?[0-9a-f]{4}-?[0-9a-f]{4}-?[0-9a-f]{12}\b/gi,"/users/_REDACTED_OBJECTID_"]],a=[[/^.*"tags\\*":(?!\\*"_REDACTED_TAGS_).*$/i,'"_REDACTED_CONTAINS_TAGS_ '.concat(r,'"')],[/^.*"password\\*":(?!\\*"_REDACTED_PASSWORD_).*$/i,'"_REDACTED_CONTAINS_PASSWORD1_ '.concat(r,'"')],[/^.*"SharedAccessKey\\*":(?!\\*"_REDACTED_SHARED_ACCESS_KEY_).*$/i,'"_REDACTED_CONTAINS_SHARED_ACCESS_KEY1_ '.concat(r,'"')],[/^.*sharedaccesskey\s?=\s?\\?"?[^\s";,\\].*$/i,'"_REDACTED_CONTAINS_SHARED_ACCESS_KEY2_ '.concat(r,'"')],[/^.*password\s?=\s?\\?"?[^\s";,\\].*$/i,'"_REDACTED_CONTAINS_PASSWORD2_ '.concat(r,'"')],[/^.*client_secret\s?=\s?\\?"?[^\s";,\\].*$/i,'"_REDACTED_CONTAINS_CLIENT_SECRET_ '.concat(r,'"')],[/^.*private_key\s?=\s?\\?"?[^\s";,\\].*$/i,'"_REDACTED_CONTAINS_PRIVATE_KEY_ '.concat(r,'"')],[/^.*\b(ghp_[\w-]{36}|v1\.[\w-]{40})\b.*$/,'"_REDACTED_CONTAINS_GITHUB_TOKEN_ '.concat(r,'"')],[/^.*(x-api-(key|token)|client_secret|ida|password|issuer|Api|Namespace|ACS|IssuerName|IssuerSecret|AppId|App_Secret|PrimaryKey).+[a-z0-9/+]{32}(={1,2}).*$/i,'"_REDACTED_CLIENT_SECRET_KEY_ '.concat(r,'"')],[/^.*\beyJ[\w-]{10}\.[\w-]{10,}\.[\w-]+\b.*$/,'"_REDACTED_CONTAINS_ENTRAID_TOKEN_ '.concat(r,'"')],[/^.*\b[A-Za-z0-9]{30}\/\+[A-Za-z0-9]{6,}\b.*$/,'"_REDACTED_CONTAINS_AMAZON_ACCESS_KEY_ '.concat(r,'"')],[/^.*\b[A-Za-z0-9+/]{32}={0,2}(;|$)\b.*$/,'"_REDACTED_CONTAINS_AZURE_ACCESS_KEY_ '.concat(r,'"')],[/^.*\bAppId=\w{8}-\w{4}-\w{4}-\w{4}-\w{12};AppSecret=[\w~.-]{32}\b.*$/i,'"_REDACTED_CONTAINS_MS_ENTRA_SECRET_ '.concat(r,'"')]],s=i.concat([[/\b_REDACTED_EMAIL_(%40|@)([a-z0-9.-]*\.[a-z]{2,})\b/gi,"_REDACTED_EMAIL_"],[/([0-9a-f]{8}-?[0-9a-f]{4}-?[0-9a-f]{4}-?[0-9a-f]{4}-?[0-9a-f]{12})\b/gi,"_REDACTED_GUID_"]]);function l(e,t){return t.forEach((function(t){return t[0]&&(e=e.replace(t[0],t[1]))})),e}t.setObjectIdToScrub=function(e){e&&(o[0]=new RegExp((0,n.regexEscape)(e),"gi"),o[1]="_REDACTED_CURRENT_USER_OBJECTID_")},t.serializationPrivacyReplacer=function(e,t){var n;switch(null===(n=null==e?void 0:e.toLowerCase)||void 0===n?void 0:n.call(e)){case"tags":return"_REDACTED_TAGS_";case"password":return"_REDACTED_PASSWORD_";case"sharedaccesskey":return"_REDACTED_SHARED_ACCESS_KEY_";default:return t}},t.sanitizeMessageFull=function(e){return e&&(e=l(e,__spreadArray(__spreadArray([],i,!0),a,!0))),e},t.sanitizeMessage=function(e){return e=l(e||"",i)},t.sanitizeUriComponent=function(e){return e=l(e||"",s)},t.logFunctions={};var u=MsPortalFx.canModifyExtensions,c=MsPortalFx.trace,d=MsPortalFx.isDevelopmentMode||!!c.diagnostics;function p(e,t,n){return{timestamp:Date.now(),level:void 0===n?2:n,area:"MsPortalFx/Base/Base.Diagnostics",message:e,code:void 0,args:t}}function f(e,t){for(var n=Object.assign({excludePrivate:!1,excludeFunction:!1,excludeProto:!0},t),r=function(e,t){return!!n&&n.excludePrivate&&(t.startsWith("__")||t.endsWith("__"))},o=function(e,t){return!!n&&n.excludeProto&&"__proto__"===t},i=new Set,a=e;e;)Object.getOwnPropertyNames(e).filter((function(e){return!(t=a,i=e,n&&n.excludeFunction&&"function"==typeof t[i]||r(0,e)||o(0,e));var t,i})).forEach((function(e){return i.add(e)})),e=Object.getPrototypeOf(e);return i}t.logHelper=function(){var e,r,o=[],i=1,a={error:{remaining:500,level:2,message:"Maximum errors exceeded"},other:{remaining:500,level:1,message:"Maximum warnings exceeded"}},s=function(){o=e(o),r&&(clearTimeout(r),r=null)},l=function(e){o.push(e),o.length>50?s():r||(r=setTimeout((function(){s()}),6e4))};u&&(l=n.noop);var c=function(t){e=t?function(e){try{return t(e)}catch(e){return[]}}:function(e){return e.length>50&&e.splice(0,2,p("Log entry buffer overflowed")),e}};return c(),{empty:function(){o=[]},flush:s,entries:function(e){return o.filter((function(t){return t.level>=e}))},log:function(e){var n=e.level;if(-2!==n){if(n>=i){var r=2===n?a.error:a.other;r.remaining--,(r.remaining>=0||d)&&(0===r.remaining&&(e=p(r.message,void 0,r.level)),l(e))}t.logFunctions[n](e)}else l(e)},pushLog:l,init:function(e){i=e,a.error.remaining=a.other.remaining=500},setCallback:c}}(),t.getAllPropertyNames=f,t.decycle=function(e){var t=function(e,n){if(void 0===n&&(n=[]),!function(e){return"object"==typeof e&&null!==e}(e)||function(e){return"[object Date]"===Object.prototype.toString.call(e)}(e))return e;if(n.includes(e))return"_CYCLIC_OBJECT_";if(n.push(e),Array.isArray(e))return e.map((function(e){return t(e,n)}));var r=f(e,{excludePrivate:!0,excludeFunction:!0});return function(e){for(var t={},n=0,r=e;n<r.length;n++){var o=r[n],i=o[0],a=o[1];t[i]=a}return t}(Array.from(r).map((function(t){return[t,e[t]]})).map((function(e){var r=e[0],o=e[1];return[r,o=t(o,n)]})))};return t(e)}})),
define("Fx/Diagnostics",["require","exports","FxInternal","FxInternal/Diagnostics"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getLogFriendlyMessage=t.createLog=t.Logging=void 0;var o=function(){function e(){}return e.prototype.writeEntry=function(e,t,n,r,o){l()},e.prototype.flush=function(){l()},e.prototype.disable=function(){l()},e.prototype.createLog=function(e){var t=this,n="string"==typeof e?e:e.normalize(void 0);return{verbose:function(e){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];t.writeEntry(0,n,e,null,r)},warning:function(e,r){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];t.writeEntry(1,n,e,r,o)},error:function(e,r){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];t.writeEntry(2,n,e,r,o)},debug:function(e){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];t.writeEntry(-1,n,e,null,r)},writeEntry:function(e,r,o,i){t.writeEntry(e,n,r,o,i)}}},e}();t.Logging=o;function i(e){var t;try{t=s(e)}catch(e){t="ERROR serializing message: "+s(e)}return t}function a(e){if("string"==typeof e)return e;try{return JSON.stringify(e,r.serializationPrivacyReplacer)}catch(e){return"_CYCLIC_OBJECT_"}}function s(e){if(!e||"object"!=typeof e)return String(e);var t=[];return(0,r.getAllPropertyNames)(e).forEach((function(r){var o,s=e[r];(0,n.isNullOrUndefined)(s)||"function"==typeof s||(0,n.startsWith)(r,"###")||((o="string"!=typeof s?s instanceof Error?i(s):Array.isArray(s)?a(s.map((function(e){return e instanceof Error?i(e):e}))):a(s):s).length>6e3&&(o=o.slice(0,5996)+" ..."),t.push("".concat(r,": ").concat(o,"\r\n")))})),t.sort().join("")}function l(){throw new Error("DI container value not set.")}t.createLog=function(e){var t,n,r=null===(n=null===(t=null===MsPortalFx||void 0===MsPortalFx?void 0:MsPortalFx.Base)||void 0===t?void 0:t.Diagnostics)||void 0===n?void 0:n.createLog;if(r)return r(e);throw new Error("'createLog' is not available in this context.")},t.getLogFriendlyMessage=function(e){return i(e)}})),
define("Fx/DependencyInjectionCore",["require","exports","Fx/Diagnostics","FxInternal"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.container=t.createContainer=t.Container=t.Value=t.Factory=t.Class=void 0;var o=window,i=Map,a=Reflect.getOwnMetadata,s=new Map;function l(e){return"'".concat(function(e){var t=a("fx:class",e),n=a("fx:diagnostics",e,t&&t.propertyKey);return n?[n[1],n[0].normalize()]:[e.name||"unnamed"]}(e).join("' from '"),"'")}function u(e,t,n){var r=function(e){var t=s.get(e);return t||s.set(e,t={creatingCount:0,maxCreationTime:0}),t}(t),i=setTimeout((function(){n.warning("".concat(l(t)," is taking a long time to create."))}),1e4);r.creatingCount++;var a=o.fx.getTimestamp();return e.then((function(e){return r.maxCreationTime=Math.max(r.maxCreationTime,o.fx.getTimestamp()-a),r.creatingCount--,clearTimeout(i),e}))}function c(e,t,n,r){e=e||"";var o=a("fx:class",n);if(o){if(o.scope!==e)throw new Error("Cannot decorate ".concat(l(n)," with different scopes: '").concat(e,"' and '").concat(o.scope,"'."));if(o.isValue!==t)throw new Error("Cannot decorate ".concat(l(n)," as ambiguously value injected'."))}else Reflect.defineMetadata("fx:class",{isValue:t,propertyKey:r,scope:e,target:n},n)}function d(e){for(var t=[],n=e;n;n=n.importingEntry)t.push(l(n.type));return"The dependency sequence is: ".concat(t.reverse().join(" -> "),".")}function p(e,t){var n=e.size;return e.add(t),e.size>n}function f(e){return function(t){c(e,!0,t)}}function h(e){return e&&"function"==typeof e.then}function m(e,t){var n=a("design:paramtypes",e.target,e.propertyKey);n&&n.forEach(t)}function v(e,t,n){return{activationMetadata:e,callstack:t,error:void 0,flags:0,importingEntries:[],importingEntry:n,instance:void 0,interceptor:void 0,type:e.target}}t.Class=function(e){return function(t){c(e,!1,t)}},t.Factory=function(e){return function(t,n,r){c(e,!1,t,n)}},t.Value=f;var g=function(){};t.Container=g;var y=function(){function t(t,r){var o,a=this;this.scope=t,this._childContainers=new Set,this._map=new i,this._disposeCallstack=void 0,this._disposePromise=void 0,this._getLog=function(){return o||(o=a.get(n.Logging).createLog(e)),o},this._parent=r&&r.underlying,this._importingEntry=r&&r.importingEntry,this._parent&&this._parent._childContainers.add(this)}return t.prototype.createChildContainer=function(e){return new x(this,null).createChildContainer(e)},t.prototype.isDisposed=function(){return!!this._disposePromise},t.prototype.get=function(e,t,n,o){return o=o||(0,r.getCurrentCallStack)(),this._validate(new Set,e,t||this._importingEntry,o,n),this._get(e,t,o)},t.prototype.getAsync=function(e,t){var n=this,o=(0,r.getCurrentCallStack)();return h(e)?Q((0,r.tryImmediateResolve)(Q(e),(function(e){return n.get(e,t,!0,o)}))):Q(this.get(e,t,!0,o))},t.prototype.set=function(e,t){return this._set("instance",e,t,2)},t.prototype.setInterceptor=function(e,t){return this._set("interceptor",e,t,0)},t.prototype.disposeAsync=function(){var e=this;if(!this._disposePromise){this._disposeCallstack=(0,r.getCurrentCallStack)();var t=[];this._childContainers&&this._childContainers.forEach((function(e){t.push(e.disposeAsync())})),this._disposePromise=Promise.all(t).then((function(){t.length=0;var n=new Map,r=new Set,o=function(e){var i=e.type,a=n.get(i);return 4&e.flags&&(e.flags&=-5,a=Promise.all(e.importingEntries.map(o)).then((function(){var t=e.instance;return e.instance=e.interceptor=e.error=void 0,t})).then((function(e){if(e&&e.dispose&&p(r,e))return e.dispose()})),n.set(i,a),t.push(a)),a};return e._map.forEach(o),Promise.all(t)})).then((function(){e._parent&&e._parent._childContainers.delete(e)}))}return Q(this._disposePromise)},t.prototype._get=function(e,t,n){var r=this;return this._dispatch(e,t,n,!0,(function(e,t,o){var i=e.activationMetadata,a=e.type,s=e.instance;if(2&~e.flags){if(1&e.flags)throw new Error("Cannot lazily compose ".concat(l(a)," because a cycle has been detected."));e.flags|=1;var c=function(e){var t,n=i.propertyKey?(t=a)[i.propertyKey].apply(t,e):new(a.bind.apply(a,__spreadArray([void 0],e,!1)));return h(n)?u(n,a,r._getLog()):n};try{var d=[];m(i,(function(r){d.push(r===g?new x(t,e):t._get(r,e,n))})),s=d.every((function(e){return!h(e)}))?c(d):Promise.all(d).then(c);var p=e.interceptor;p&&(s=h(s)?s.then((function(e){return p(e)||e})):p(s)||s);var f=function(t){e.instance=t};f(s),h(s)&&s.then(f)}catch(t){e.error=t}e.flags|=6}if(e.error)throw e.error;return o&&o!==e&&r===t&&4&e.flags&&!e.importingEntries.includes(o)&&e.importingEntries.push(o),s}))},t.prototype._set=function(e,t,n,o){return this._dispatch(t,null,(0,r.getCurrentCallStack)(),!1,(function(t){if(1&t.flags)throw new Error("Cannot set the ".concat(e," for ").concat(l(t.type)," because the type has already been composed at the following callstack:\n").concat(t.callstack,"\n").concat(d(t)));t[e]=n,t.flags|=o})),this},t.prototype._validate=function(e,t,n,r,o){this._dispatch(t,n,r,!0,(function(t,n){if(2&~t.flags){var i=t.activationMetadata,s=t.type;if(!o&&i.propertyKey){var u=a("design:returntype",s,i.propertyKey);if(u!==s){var c="Cannot compose ".concat(l(s)," because it is being composed synchronously but the decorated '").concat(i.propertyKey,"' method ");throw c+=u?"is not declared to be synchronous. ":"does not have an expliclty declared return type. ",c+=d(t),new Error(c)}}if(!p(e,s))throw new Error("Cannot compose ".concat(l(s)," because a cycle has been detected."));m(i,(function(i,a){if(!i)throw new Error("The type of parameter #".concat(a+1," of ").concat(l(s)," is undefined."));i!==g&&n._validate(e,i,t,r,o)})),e.delete(s)}else if(!o&&h(t.instance))throw new Error("Cannot synchronously compose async type. ".concat(d(t)))}))},t.prototype._dispatch=function(e,t,n,r,o){var i=a("fx:class",e);if(!i){var s="Cannot compose ".concat(l(e)," because it is not correctly decorated.");throw t&&(s+=" The type was imported by ".concat(l(t.type),".")),new Error(s)}var u=i.scope,c=r?this._getContainer(i):this.scope===i.scope?this:void 0;if(!c)throw r?i.isValue?new Error("Cannot compose ".concat(l(e)," because it has not been value injected. ").concat(d(v(i,n,t)))):new Error("The injection scope '".concat(u,"' for ").concat(l(e)," cannot be composed with the given container hierarchy.")):new Error("Cannot value inject ".concat(l(e)," because the container does not have the same scope."));if(c.isDisposed())throw new Error("Cannot use container because was already disposed at the following callstack:\n".concat(c._disposeCallstack,"\n. ").concat(d(v(i,n,t)),"\nDependency callstack: ").concat(n,"\n."));var p=c._map.get(e);return p||c._map.set(e,p=v(i,n,t)),o(p,c,t)},t.prototype._getContainer=function(e){for(var t=this;;t=t._parent)if(!t||t._map.has(e.target)||!e.isValue&&t.scope===e.scope)return t},t}();function b(){return new y("")}t.createContainer=b;var x=function(e){function t(t,n){var r=e.call(this)||this;return r.underlying=t,r.importingEntry=n,r.scope=t.scope,r}return __extends(t,e),t.prototype.createChildContainer=function(e){return new y(e,this)},t.prototype.isDisposed=function(){return this.underlying.isDisposed()},t.prototype.get=function(e){return this.underlying.get(e,this.importingEntry)},t.prototype.getAsync=function(e){return Q(this.underlying.getAsync(e,this.importingEntry))},t}(g);t.container=b(),f()(FxImpl.Features),f()(n.Logging)})),
define("FxInternal/Errors",["require","exports","Fx/Errors"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.FxDisposedCanceledError=t.FxCanceledError=void 0;var r="MsPortalFx.Errors.",o=function(e){function t(t){var r=(0,n.getErrorOptions)(t,{name:"CanceledError",errorLevel:0});return e.call(this,r)||this}return __extends(t,e),t.TypeName="".concat(r,"CanceledError"),t}(n.FxError);t.FxCanceledError=o;var i=function(e){function t(t){var r=(0,n.getErrorOptions)(t,{name:"DisposedCanceledError"});return e.call(this,r)||this}return __extends(t,e),t.TypeName="".concat(r,"DisposedCanceledError"),t}(o);t.FxDisposedCanceledError=i})),
define("FxInternal/Features",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Features=void 0,t.Features=FxImpl.Features})),
define("FxInternal/Lifetime",["require","exports","FxInternal","FxInternal/Errors"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.TriggerableLifetimeManager=void 0;var o=MsPortalFx.isDevelopmentMode,i=MsPortalFx.trace,a=!!i&&i.lifetime,s=o||a,l=o&&a,u=function(){function e(t){var o=this,i=[],a=!1,u=!1,p=null==t?void 0:t.parent,f=[],h=[],m=(null==t?void 0:t.depth)||0;l&&(this._createStack=(0,n.getCurrentCallStack)(!0));var v=function(e){var t=!a;e?d(e,!t)||(c("disposable must have a dispose method or be a function."),t=!1):t=!1,t&&i.push(e)};this.isDisposed=function(){return a},this.registerForDispose=function(e){return(Array.isArray(e)?e:[e]).forEach(v,o),o},this.createChildLifetime=function(){if(1e3===m)throw(0,n.createError)("The maximum allowed depth of children allowed is ".concat(1e3));var t=new e({depth:m+1,parent:o.isDisposed()?null:o});return o.isDisposed()?t.dispose():f.push(t),t},this._dispose=function(){var e=[];if(!a){if(a=u=!0,l&&(o._disposeStack=(0,n.getCurrentCallStack)(!0)),[i,f].forEach((function(t){for(;t.length;){var n=t.pop();try{d(n,!0)}catch(t){e.push(t),s&&h.push(n)}}})),e.length){var t=e.filter((function(e){return!(e instanceof r.FxCanceledError)}));t.length&&c((0,n.createError)("error to disposing this lifetimeManager. Exceptions: ",{innerErrors:t}))}var m=p;p&&(p=null,m._unregisterChildForDispose(o)),u=!1}},this._unregisterChildForDispose=function(e){if(!u){var t=f.lastIndexOf(e);t<0?c("lifetime Manager internal error. this._unregisterChildForDispose is called but the disposeable is not one of the child it created."):t===f.length-1?f.pop():f.splice(t,1)}}}return e.prototype.dispose=function(){this._dispose()},e}();function c(e){var t="string"==typeof e?(0,n.createError)(e):e;if(s)throw t;Promise.reject(t)}function d(e,t){var n="function"==typeof e.dispose?e.dispose:"function"==typeof e?e:null;return t&&n&&n.call(e),!!n}t.TriggerableLifetimeManager=u})),
define("FxInternal/Rpc",["require","exports","Fx/DependencyInjectionCore","FxInternal/Lifetime","Fx/Errors","FxInternal/Errors","FxInternal","FxInternal/Features"],(function(e,t,n,r,o,i,a,s){Object.defineProperty(t,"__esModule",{value:!0}),t.FuncEndPointDefinition=t.FuncEndPointDefinitionBase=t.ActionEndPointDefinition=t.ActionEndPointDefinitionBase=t.EndPointDefinition=t.Client=t.PendingObjectTable=t.EndPointTable=t.MessageMultiplexer=t.MessageDispatcher=t.RpcChannel=t.DisposableValueDictionary=t.DisposableValue=t.getCurrentCallStack=t.createRpcError=t.createCallStack=t.getMessageContext=void 0;var l,u=window.fx.getTimestamp,c="fxw",d={cannotDefineHandler:"",badRefCount:"",routeExists:"",endpointExists:"",notStarted:""},p=(0,a.getErrorMap)(d),f=(0,a.generateNonSerializableProperty)("_RPC_Exception_")+"\n";function h(e){(FxImpl.Rpc||(FxImpl.Rpc={})).messageContext=e,l=e}t.getMessageContext=function(){return l};var m="From RPC:";function v(e,t,n){void 0===t&&(t=l);var r=t&&t.callStack,o=e||"";return r&&(e.includes(m)||(o="".concat(o.slice(0,3e3),"\r\n").concat(m," ").concat(t.srcWindowId," -> ").concat(t.destWindowId).concat(n?" (".concat(n,")"):"","\r\n").concat(r))),o.slice(0,6e3)}function g(e){var t={message:e.message,stack:e.stack,data:e.data,errorLevel:e.errorLevel,_sourceErrorLevel:e._sourceErrorLevel},n=t.stack||"";return t.stack=n.startsWith(f)?n:f+n,t}t.createCallStack=v,t.createRpcError=g,t.getCurrentCallStack=function(e){return v((0,a.getCurrentCallStack)(e))};var y=function(){function e(e){this.value=e,this._disposeCallbacks=[]}return e.prototype.getValue=function(){return this.value},e.prototype.dispose=function(e){if(this._disposeCallbacks){this._disposeReason=e;var t=this._disposeCallbacks;this._disposeCallbacks=null;for(var n=0,r=t;n<r.length;n++){var o=r[n];try{o(e)}catch(e){setTimeout((function(){throw e}),0)}}}},e.prototype.onDispose=function(e){this._disposeCallbacks?this._disposeCallbacks.push(e):e(this._disposeReason)},e}();t.DisposableValue=y;var b=function(){function e(e){this._countChangesCallback=e,this._map=new Map}return e.prototype.getValue=function(e){return this._map.get(e)},e.prototype.setValue=function(e,t){var n=this._map,r=this._countChangesCallback,o=n.has(e);return n.set(e,t),!o&&r&&r(e,!0),t.onDispose((function(){n.delete(e)&&r&&r(e,!1)})),t},e.prototype.getValues=function(){var e=[];return this._map.forEach((function(t){e.push(t)})),e},e.prototype.dispose=function(){var e=this.getValues();(0,a.disposeDisposable)(e),this._map.clear()},e.prototype.disposeValues=function(e){var t=this,n=e.map((function(e){return t._map.get(e)})).filter((function(e){return!!e}));(0,a.disposeDisposable)(n)},e}();t.DisposableValueDictionary=b;var x=function(e){function t(t){var n=this,r=t instanceof Promise&&t.then((function(e){return o=e})),o=!r&&t;return(n=e.call(this,o)||this).onDispose((function(){return __awaiter(n,void 0,void 0,(function(){var e,t;return __generator(this,(function(n){switch(n.label){case 0:return(t=o)?[3,2]:[4,r];case 1:t=n.sent(),n.label=2;case 2:return(e=t).onmessage=null,e.close(),[2]}}))}))})),n.onMessage=function(e){var t=function(t){t.onmessage=e};o?t(o):r.then(t)},n.postMessage=function(e,t){o?o.postMessage(e,t):r.then((function(n){n.postMessage(e,t)}))},n}return __extends(t,e),t}(y);t.RpcChannel=x;var C=function(){function e(e){this._handler=e,this._outerList=[],this._sourceList=[],this._outerListIndex=0,this._innerListIndex=0}return e.prototype._processInnerList=function(){var e,t=this,n=this._outerList[this._outerListIndex],r=this._sourceList[this._outerListIndex],o=n.length;try{for(e=this._innerListIndex;e<o;e++)this._handler(n[e],r)}finally{e<o-1?(this._innerListIndex=e+1,(0,a.nextTick)((function(){t._processOuterList()}))):(this._outerListIndex++,this._innerListIndex=0)}},e.prototype._processOuterList=function(){for(;this._outerListIndex<this._outerList.length;)this._processInnerList();this._outerList.length=0,this._sourceList.length=0,this._outerListIndex=0},e.prototype.addItem=function(e,t){this._outerList.push(e),this._sourceList.push(t),this._processOuterList()},e.prototype.isEmpty=function(){return this._outerListIndex>=this._outerList.length},e}();t.MessageDispatcher=C;var _=function(){function e(e,t){var n=this;this._useSlowFlush=e,this._sender=t,this._frameBuffer=[],this.flush=function(){n._frameBuffer.length>0&&(n._sender(n._frameBuffer),n._frameBuffer.length=0),n._isCallbackScheduled=!1},this._isCallbackScheduled=!1}return e.prototype._schedule=function(){this._isCallbackScheduled||(this._isCallbackScheduled=!0,this._useSlowFlush?setTimeout(this.flush,0):(0,a.nextTick)(this.flush))},e.prototype.send=function(e){this._schedule(),this._frameBuffer.push(e)},e}();function w(){throw new Error("Handler is not defined.")}var P=function(){function e(e,t){this._listener=e,this._handlerMap=[];for(var n=0;n<t;n++)this._handlerMap.push(w)}return e.prototype.handleMessage=function(e,t){this._handlerMap[e.kind](e.data,t)},e.prototype.registerHandler=function(e,t){var n=this;return(e>=this._handlerMap.length||this._handlerMap[e]!==w)&&p.cannotDefineHandler(),this._handlerMap[e]=t,function(t,r){n._listener({kind:e,data:t},r)}},e}();function E(e,t){return{port:t[e.portIndex],portId:e.portId,portIndex:0}}function F(e,t){var n=t.length;return t.push(e.port),{port:void 0,portId:e.portId,portIndex:n}}function I(e,t,n){for(var r=0;r<e.length;r++){var o=e[r];0===o.data.kind&&(e[r]={callStack:o.callStack,srcInstanceIndex:o.srcInstanceIndex,destWindowId:o.destWindowId,srcWindowId:o.srcWindowId,data:{kind:0,data:n(o.data.data,t)}})}}t.MessageMultiplexer=P;var M=function(){function e(e,t,n,r){var o=this;this.remoteId=e,this._messageHandler=t,this._log=n,this._rpcChannel=void 0,this._sender=void 0,this._handleMessage=function(e){var t=e.data;e.ports&&e.ports.length&&I(t,e.ports,E),o._messageHandler.addItem(t,o)},this.setChannel=function(e){var t,n;if(e){o._rpcChannel=e;var i=function(t){var n=[];I(t,n,F);var r=!1;try{e.postMessage(t,n),r=!0}finally{r||o._log.error("Post message from '".concat(window.location.href,"' to '").concat(o.remoteId,"' failed. This will hang RPC."),0,(0,a.getObjectDescriptor)(t))}};o._sender=r?new _(o.remoteId===c,i):{send:function(e){i([e])}},e.onMessage(o._handleMessage)}else null===(n=(t=o._sender).flush)||void 0===n||n.call(t),o._rpcChannel.dispose(void 0),o._rpcChannel=void 0,o._sender=void 0}}return e.prototype.send=function(e){this._sender&&this._sender.send(e)},e}(),S=function(){function e(){this._refCounts=new Map,this.totalCount=0}return e.prototype.updateRef=function(e,t,n){var r=this._refCounts.get(t)||this._refCounts.set(t,new Set).get(t);return n?(!r.has(e)&&this.totalCount++,r.add(e)):r.delete(e)&&this.totalCount--,this.totalCount},e.prototype.clearRefCounts=function(){var e=this.totalCount;return this._refCounts.clear(),this.totalCount=0,e},e.prototype.getRefs=function(){var e=this;return Array.from(this._refCounts.keys()).reduce((function(t,n){return t[n]=Array.from(e._refCounts.get(n).keys()),t}),[])},e}(),k=function(){function e(){this._refCounts={},this._subscriptions=[],this.totalCount=0}return e.prototype._getRefCountSet=function(e,t){var n=this._refCounts[e];return!n&&t&&(this._refCounts[e]=n=new S),n},e.prototype.setRefCount=function(e,t,n,r){var o=this._getRefCountSet(e,!0),i=o.totalCount,a=o.updateRef(t,n,r),s=a-i;return s?(this._updateTotal(s),s>0?i?1:0:a?3:2):4},e.prototype.clearRefCountsFrom=function(e){var t=this._getRefCountSet(e);if(t){var n=t.clearRefCounts();this._updateTotal(-n)}},e.prototype.getRefCountsFrom=function(e){var t=this._getRefCountSet(e);return t?t.totalCount:0},e.prototype.getRefsFrom=function(e){var t=this._getRefCountSet(e);return t?t.getRefs():{}},e.prototype.subscribe=function(e){this._subscriptions.push(e)},e.prototype._updateTotal=function(e){var t=this;this.totalCount+=e,this._subscriptions.forEach((function(e){return e(t.totalCount)}))},e}(),R=function(){function e(e,t,n,r,o){this._windowId=e,this._routeWindowSetter=t,this._clearRefCountsFunc=n,this._sendShutdownMessage=r,this._loadChannelFunction=o,this._windowUnloadTimeoutHandle=0,this._channel=void 0,this._instanceIndex=0}return e.prototype.isAlive=function(){return!this._windowUnloadTimeoutHandle&&!!this._channel},e.prototype.setWindowLoaded=function(e){var t=this;if(e)if(this._channel)0!==this._windowUnloadTimeoutHandle&&(clearTimeout(this._windowUnloadTimeoutHandle),this._windowUnloadTimeoutHandle=0);else{var n=this._instanceIndex++,r=void 0;try{this._channel=this._loadChannelFunction(this._windowId,n)}catch(e){r=e}this._channel?(this._channel.onDispose((function(e){t._channel=void 0;var r=t._windowId;t._sendShutdownMessage(void 0,r),t._routeWindowSetter.setRouteChannel(r,null),clearTimeout(t._windowUnloadTimeoutHandle),t._windowUnloadTimeoutHandle=0,t._clearRefCountsFunc({instanceIndex:n,windowId:r,error:{message:e||"The RPC channel '".concat(r,"' was terminated for an unknown reason."),stack:void 0,data:void 0,errorLevel:2}})})),this._routeWindowSetter.setRouteChannel(this._windowId,this._channel)):this._clearRefCountsFunc({instanceIndex:n,windowId:this._windowId,error:{message:T(r,"Fail to load RPC channel '".concat(this._windowId,"'.")),stack:r&&r.stack,data:void 0,errorLevel:r&&r.errorLevel}})}else!e&&this._channel&&0===this._windowUnloadTimeoutHandle&&(this._windowUnloadTimeoutHandle=setTimeout((function(){t.terminate("The RPC channel '".concat(t._windowId,"' was garbage collected."))}),24e4))},e.prototype.terminate=function(e){this._channel&&this._channel.dispose(e)},e}(),A=function(){function e(e,t,n,r){var o=this;this._routeWindowSetter=e,this._sendResetMessage=t,this._sendShutdownMessage=n,this._loadChannelFunction=r,this._refCounts={},this._knownWindows=[c],this._loadableWindows={},this._clearRefCountsFunction=function(e){for(var t=0,n=o._knownWindows;t<n.length;t++){var r=n[t],i=e.windowId,a=o.getWindowRefCounts(r,!1),s=o.getWindowRefCounts(i,!1);(s&&s.getRefCountsFrom(r)>0||a&&a.getRefCountsFrom(i)>0)&&o._sendResetMessage(__assign(__assign({},e),{referenceIds:null==s?void 0:s.getRefsFrom(r)}),r),s&&s.clearRefCountsFrom(r),a&&a.clearRefCountsFrom(i)}}}return e.prototype._getLoadableWindow=function(e){var t=this._loadableWindows[e];return t||e===c||(t=new R(e,this._routeWindowSetter,this._clearRefCountsFunction,this._sendShutdownMessage,this._loadChannelFunction),this._loadableWindows[e]=t,this._knownWindows.push(e)),t},e.prototype.setRefCount=function(e,t){var n=t.target,r=this.getWindowRefCounts(n,!0).setRefCount(e,t.referenceId,t.kind,t.isAdd),o=this._getLoadableWindow(n);return o&&(t.isAdd&&!o.isAlive()||2===r&&o.isAlive())&&this._refreshLoadedState(),r},e.prototype.getWindowRefCounts=function(e,t){var n=this._refCounts[e];return!n&&t&&(this._refCounts[e]=n=new k),n},e.prototype.terminateWindow=function(e,t){this._getLoadableWindow(e).terminate(t)},e.prototype._refreshLoadedState=function(){for(var e={},t=[c],n=Object.keys(this._loadableWindows),r=n.slice();t.length>0;){for(var o=[],i=0,a=t;i<a.length;i++)for(var s=a[i],l=r.length-1;l>=0;l--){var u=r[l];this.getWindowRefCounts(u,!0).getRefCountsFrom(s)>0&&(e[u]=void 0,o.push(u),r.splice(l,1))}t=o}for(var d=0,p=n;d<p.length;d++){var f=p[d];this._loadableWindows[f].setWindowLoaded(f in e)}},e}();function T(e,t){return("string"==typeof e?e:e&&e.message&&e.message+"")||t+" No error message could be found. Check whether the error was signaled with an Error object."}function D(e,t,n){var r,o=l;h(e);try{return t(e)}catch(e){throw(r=e)&&"string"==typeof r.stack&&(r.stack=v(r.stack)),n(e),e}finally{h(o)}}var B=function(){function e(e,t,n,r,o,i,s){var l=this;this._instanceIndex=e,this.localWindowId=t,this._reportError=o,this._log=i,this._logging=s,this._handleMessage=function(e){return l.routedMessageRelay.handleMessage(e.data,e)},this._messageDispatcher=new C((function(e,t){var n=t.remoteId,r=e.srcWindowId;if(n===c||n===r){var o=e.destWindowId;o===l.localWindowId?D(e,l._handleMessage,l._reportError):l._baseDispatcher.sendMessage(o,e)}else l._log.error("Message from route to '".concat(n,"' specifies an invalid window ID '").concat(r,"'."),1)})),this._routedMessageClients=[],this.routedMessageRelay=new P((function(e,t){var n=l.localWindowId,r={callStack:(0,a.getCurrentCallStack)(),srcInstanceIndex:l._instanceIndex,destWindowId:t,srcWindowId:n,data:e};if(n===t)D(r,l._handleMessage,l._reportError);else{var o=n===c?t:c;l._baseDispatcher.sendMessage(o,r)}}),12),this._sendRefCount=this.routedMessageRelay.registerHandler(5,(function(e,t){l._shellRefCounter?l._shellRefCounter.setRefCount(t.srcWindowId,e):p.badRefCount()})),this.log=this.routedMessageRelay.registerHandler(4,(function(e){l._logging.writeEntry(e.level,e.area,e.message,e.code)})),this.raiseRemoteException=this.routedMessageRelay.registerHandler(3,(function(e){throw g(e)})),this._baseDispatcher=new N(this._messageDispatcher,r,i,t);var u=this.routedMessageRelay.registerHandler(1,(function(e,t){t.srcWindowId===c&&l._routedMessageClients.forEach((function(t){t.reset(e)}))})),d=this.routedMessageRelay.registerHandler(2,(function(e,t){t.srcWindowId===c&&(l._logging.flush(),l._logging.disable())}));n&&(this._shellRefCounter=new A(this._baseDispatcher,u,d,n))}return e.prototype.getTotalRefCounts=function(e){return this._shellRefCounter.getWindowRefCounts(e,!0)},e.prototype.terminateWindow=function(e,t){return this._shellRefCounter.terminateWindow(e,t)},e.prototype.createClient=function(e,t,n,r,o){var i=new e(this,t,n,r,o);return this._routedMessageClients.push(i),i},e.prototype.setRefCount=function(e,t,n,r){var o={target:e,kind:n,referenceId:t,isAdd:r};this._shellRefCounter?this._shellRefCounter.setRefCount(c,o):this._sendRefCount(o,c)},e.prototype.dispose=function(){this._baseDispatcher.dispose()},e}(),N=function(){function e(e,t,n,r){(this._messageHandler=e,this._log=n,this._localWindowId=r,this._routes=Object.create(null),t)&&this._registerRoute(c).setChannel(t)}return e.prototype.sendMessage=function(e,t){var n=this._routes[e];if(n)return n.send(t)},e.prototype.setRouteChannel=function(e,t){var n=this._routes[e];n||(n=this._registerRoute(e)),n.setChannel(t)},e.prototype._registerRoute=function(e){this._routes[e]&&p.routeExists(e);var t=!("fx"===this._localWindowId||"fxw"===this._localWindowId)||"fxw"===this._localWindowId&&"fx"===e;return this._routes[e]=new M(e,this._messageHandler,this._log,t)},e.prototype.dispose=function(){for(var e in this._routes)this._routes[e].setChannel(void 0)},e}(),O=function(){function e(e,t,n){this._name=e,this._options=t,this._reportError=n,this._results=new WeakSet}return e.prototype.invoke=function(e,t,n,i,s){var l=this,u=this._options,c=(0,a.makeArray)(u.allowedOrigin),d=new r.TriggerableLifetimeManager,p=n(d,u),f=function(e,n){(0,a.disposeDisposable)(p);var r="string"==typeof(e=e||{}).stack,i=v(r?e.stack:"",t,l._name),u=o.isInstanceOfErrorType(e,o.FxError)?e:new o.FxError({message:T(e,"The RPC call '".concat(l._name,"' returned an error.")),stack:i});if(s(u),!n)throw r&&(e.stack=i),e},h=function(e){e&&"object"==typeof e&&(l._results.has(e)&&l._reportError(new Error("The endpoint '".concat(l._name,"' has returned the same object more than one time. This may cause errors.'"))),l._results.add(e))};if(c.length&&!c.includes(t.srcWindowId))f("The origin window '".concat(t.srcWindowId,"' is not allowed to access the endpoint name '").concat(this._name,"'."),!0);else try{var m=u.handler(e,{callStack:t.callStack,port:p,destWindowId:t.destWindowId,ltm:d,srcInstanceIndex:t.srcInstanceIndex,srcWindowId:t.srcWindowId},d);Q.isPromiseAlike(m)?Promise.resolve(m).then((function(e){h(e),D(t,(function(){return i(e,p)}),l._reportError)}),f):(h(m),i(m,p))}catch(e){f(e)}},e}(),L=function(){function e(e,t,n){this._registrationTimeoutInMs=e,this._reportError=t,this._log=n,this._endPoints={},this._endPointDeferred={}}return e.prototype.registerEndPoint=function(e,t){if(this._endPoints[e])p.endpointExists(e);else{var n=new O(e,t,this._reportError),r=this._endPointDeferred[e];this._endPoints[e]=n,r&&(r.resolve(n),delete this._endPointDeferred[e])}},e.prototype.invokeEndPoint=function(e,t,n,r,i,a){var s=this,l=this._endPoints[e];if(l)l.invoke(t,n,r,i,a);else{this._log.verbose("Attempted to invoke endpoint '".concat(e,"' but it is not registered. RPC call has been blocked until endpoint becomes registered."));var u=this._endPointDeferred[e];u||(u=Promise.withResolvers(),this._endPointDeferred[e]=u);var c=setTimeout((function(){c=0;var t="Attempted to invoke endpoint '".concat(e,"' from '").concat(n.srcWindowId,"' but it is not registered after ").concat(s._registrationTimeoutInMs,"ms. The call was made in:\r\n'").concat(n.callStack,"'");a(new o.FxError(t)),s._log.warning(t)}),this._registrationTimeoutInMs);u.promise.then((function(e){c&&(clearTimeout(c),D(n,(function(n){return e.invoke(t,n,r,i,a)}),s._reportError))}))}},e}();t.EndPointTable=L;var j=function(){function e(e,t,n,r,o,i){this._destination=e,this._refCounter=t,this._kind=n,this._trackPerformance=r,this._log=o,this._recorder=i,this._pendingRpcCall=new Map,this._connectionId=0}return e.prototype._setRefCount=function(e,t){this._refCounter.setRefCount(this._destination,e,this._kind,t)},e.prototype.getMetadata=function(e){return this._pendingRpcCall.get(e)},e.prototype.create=function(e,t,n){var r=this,o=Q.defer(),i=(0,a.getCurrentCallStack)(),s=this._connectionId++,l=u(),c=this._trackPerformance?e+s:"",d=this._recorder&&function(t){if(t>=0){var n=u()-l,o=e.split("."),i=o[o.length-1];r._recorder({name:i,callerDuration:n,handlerDuration:t})}};c&&performance.mark(c),this._pendingRpcCall.set(s,{creationCallStack:i,endPointName:e,performanceMarker:c,returnValue:o,telemetryContext:n,recordInvocation:d}),this._setRefCount(s,!0);var p=setTimeout((function(){r._log.warning("RPC call to '".concat(e,"' in '").concat(r._destination,"' took too long. ConnectionId: ").concat(s),0,u()-l,i)}),3e5);return t(s),Q(o.promise).finally((function(){clearTimeout(p),(0,a.nextTick)((function(){r._pendingRpcCall.delete(s),r._setRefCount(s,!1)}))}))},e.prototype.resolve=function(e,t,n){var r,o=this._pendingRpcCall.get(e);if(o){var i=o.performanceMarker;i&&performance.measure(["RPC:",this._destination,o.endPointName].join(" "),i),null===(r=o.recordInvocation)||void 0===r||r.call(o,n),o.returnValue.resolve(t)}},e.prototype.reject=function(e,t){var n,r,i=this._pendingRpcCall.get(e);i&&(t.error.stack=t.error.stack||i.creationCallStack,null===(n=i.recordInvocation)||void 0===n||n.call(i,-1),i.returnValue.reject((r=t.error,new o.FxError(r))))},e.prototype.handleResetMessage=function(e){var t,n=this,r=null===(t=e.referenceIds)||void 0===t?void 0:t[3];null==r||r.forEach((function(t){n.reject(t,e)}))},e.prototype.dispose=function(){this._pendingRpcCall.clear()},e.prototype.getPendingInvokes=function(){return Array.from(this._pendingRpcCall.values()).map((function(e){return{name:e.endPointName,promise:e.returnValue.promise}}))},e}();t.PendingObjectTable=j;var V=function(){function e(e,t,n,r,o){var i=this;this._clientCtx=e,this._endPoints=t,this._log=n,this._features=r,this._recorder=o,this._targetWindows=Object.create(null);var s=e.routedMessageRelay;this._sendInvokeFunc=s.registerHandler(6,(function(e,t){var n=t.srcWindowId,r=e.connectionId,o=(0,a.startTimer)();i._endPoints.invokeEndPoint(e.name,e.arg,t,a.identity,(function(e,t){i._sendRpcResolveFunc({connectionId:r,successValue:e,handlerDuration:o()},n),(0,a.disposeDisposable)(t)}),(function(e){i._sendRpcRejectFunc({connectionId:r,error:g(e)},n)}))})),this._sendRpcResolveFunc=s.registerHandler(7,(function(e,t){i._getWindowContext(t.srcWindowId).resolve(e.connectionId,e.successValue,e.handlerDuration)})),this._sendRpcRejectFunc=s.registerHandler(8,(function(e,t){i._getWindowContext(t.srcWindowId).reject(e.connectionId,e)}))}return e.prototype._getWindowContext=function(e){return this._targetWindows[e]||(this._targetWindows[e]=new j(e,this._clientCtx,3,this._features.isNativePerf,this._log,this._recorder))},e.prototype.invoke=function(e,t,n,r){var o=this;return Q(this._getWindowContext(t).create(e,(function(r){o._sendInvokeFunc({connectionId:r,name:e,arg:n},t)}),r))},e.prototype.reset=function(e){this._getWindowContext(e.windowId).handleResetMessage(e)},e.prototype.dispose=function(){for(var e in this._targetWindows)this._targetWindows[e].dispose()},e.prototype.getPendingInvokes=function(){var e=this;return Object.keys(this._targetWindows).reduce((function(t,n){return t.push.apply(t,e._targetWindows[n].getPendingInvokes()),t}),[])},e}(),H=function(){function e(e){var t=this;this._routedMsgClientCtx=e,this._targetWindows=Object.create(null),this._transferPort=this._routedMsgClientCtx.routedMessageRelay.registerHandler(0,(function(e,n){t._getWindowContext(n.srcWindowId).portMap[e.portId]=e.port})),this._counter=0}return e.prototype._getWindowContext=function(e){var t=this;return this._targetWindows[e]||(this._targetWindows[e]={acquisitions:new b((function(n,r){t._routedMsgClientCtx.setRefCount(e,n,0,r)})),portMap:[]})},e.prototype.acquireWindow=function(e,t,n){var r=this._counter++,o=new y(r);if(t||(t=24e4),t>0){var i=setTimeout((function(){(0,a.disposeDisposable)(o)}),t);o.onDispose((function(){clearTimeout(i)}))}return this._getWindowContext(e).acquisitions.setValue(r,o),n&&this._transferPort({port:n,portId:o.value,portIndex:0},e),o},e.prototype.detachPort=function(e,t){var n=this._getWindowContext(e).portMap,r=n[t];if(!r)throw new Error("Cannot find port with id '".concat(t,"'"));return delete n[t],r},e.prototype.reset=function(e){var t,n=null===(t=e.referenceIds)||void 0===t?void 0:t[0];n&&this._getWindowContext(e.windowId).acquisitions.disposeValues(n)},e}(),W=function(){function t(e,t,n,r){var o,i=this;this._registrationTimeoutInMs=e,this._reportError=t,this._logging=n,this._features=r,this._disposed=!1,this._log=n.createLog("MsPortalFx/Base/Base.Rpc2"),this.reset(),this._recorder=function(e){null==o||o(e)},this.record=function(){var e=[],t=o=function(t){e.push(t)};return function(){return i._recorder===t&&(o=null),e}};var a=[],s=this.pendingInvocationCount={subscribe:function(e){a.push(e)},totalCount:0};this._trackInvocation=function(e){s.totalCount+=1,e.finally((function(){var e=s.totalCount-=1;a.forEach((function(t){t(e)}))}))}}return t.prototype.registerRpcEndPoint=function(e,t){this._rpcEndPoints.registerEndPoint(e,t)},t.prototype.log=function(e,t){this._assertReady(),this._dispatcher.log(t,e)},t.prototype.invokeRpc=function(e,t,n,r){this._assertReady();var o=this._rpcClient.invoke(e,this._windowRedirectMap[t]||t,n,r);return this._trackInvocation(o),Q(o)},t.prototype.getTotalRefCountTo=function(e){return this._assertReady(),this._dispatcher.getTotalRefCounts(e)},t.prototype.detachPort=function(e,t){return this._windowAcquirer.detachPort(e,t)},t.prototype.acquireWindow=function(e,t,n){return this._assertReady(),this._windowAcquirer.acquireWindow(this._windowRedirectMap[e]||e,t,n)},t.prototype.terminateWindow=function(e,t){this._assertReady(),this._dispatcher.terminateWindow(e,t)},t.prototype.start=function(e){this._windowRedirectMap=e.windowRedirectMap||{};var t=new B(e.instanceIndex,e.originId,e.loadChannelFunction,e.shellChannel,this._reportError,this._log,this._logging);this._dispatcher=t,this._rpcClient=t.createClient(V,this._rpcEndPoints,this._log,this._features,this._recorder),this._windowAcquirer=t.createClient(H,null,this._log,this._features,null)},t.prototype.reset=function(){this._rpcClient&&(this._rpcClient.dispose(),this._rpcClient=null),this._dispatcher&&(this._dispatcher.dispose(),this._dispatcher=null),this._rpcEndPoints=new L(this._registrationTimeoutInMs,this._reportError,this._log)},t.prototype.dispose=function(){this._disposed=!0,this.reset()},t.prototype.getPendingInvokes=function(){return this._rpcClient.getPendingInvokes()},t.prototype._assertReady=function(){if(this._disposed)throw new i.FxDisposedCanceledError;this._dispatcher||p.notStarted()},t=__decorate([__metadata("fx:diagnostics",[e,"Client"]),n.Value(),__metadata("design:paramtypes",[Number,Function,Object,s.Features])],t)}();t.Client=W;var q=function(e){this.name=e};t.EndPointDefinition=q;var U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.register=function(e,t,n){e.registerRpcEndPoint(this.name,{allowedOrigin:t,handler:n})},t}(q);t.ActionEndPointDefinitionBase=U;var z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.invoke=function(e,t,n){return Q(e.invokeRpc(this.name,t,n))},t}(U);t.ActionEndPointDefinition=z;var G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.register=function(e,t,n){e.registerRpcEndPoint(this.name,{allowedOrigin:t,handler:n})},t}(q);t.FuncEndPointDefinitionBase=G;var K=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.invoke=function(e,t,n){return Q(e.invokeRpc(this.name,t,n))},t}(G);t.FuncEndPointDefinition=K})),
define("FxHubs/RpcEndPointsCore",["require","exports","FxInternal/Rpc"],(function(e,t,n){var r,o,i,a,s;Object.defineProperty(t,"__esModule",{value:!0}),t.Subscriptions=t.Impl=t.Directories=t.Browse=t.AssetTypes=void 0,function(e){e.getAssetTypesInformationEndPoint=new n.FuncEndPointDefinition("MsPortalHubs.RpcEndPoints.getAssetTypesInformation"),e.getSingleAssetTypeInformationEndPoint=new n.FuncEndPointDefinition("MsPortalHubs.RpcEndPoints.getSingleAssetTypeInformation")}(r||(t.AssetTypes=r={})),function(e){e.getBrowsePrereqsEndpoint=new n.FuncEndPointDefinition("FxHubs.RpcEndpoints.getBrowsePrerequisites"),e.getBrowseManifestsEndpoint=new n.FuncEndPointDefinition("FxHubs.RpcEndpoints.getBrowseManifests"),e.getBrowseManifestsForResourceTypesEndpoint=new n.FuncEndPointDefinition("FxHubs.RpcEndpoints.getBrowseManifestsForResourceTypes"),e.onBrowseColumnsUpdatedEndPoint=new n.ActionEndPointDefinition("onBrowseColumnsUpdated"),e.onBrowseFavoriteViewIdUpdatedEndPoint=new n.ActionEndPointDefinition("onBrowseFavoriteViewIdUpdated")}(o||(t.Browse=o={})),function(e){e.getDirectoriesMapEndPoint=new n.FuncEndPointDefinition("getDirectoriesMap")}(i||(t.Directories=i={})),function(e){e.getDirectoriesMap=function(e){return i.getDirectoriesMapEndPoint.invoke(e,"fx",null)}}(a||(t.Impl=a={})),function(e){e.getAllSubscriptionsCountEndPoint=new n.FuncEndPointDefinition("getAllSubscriptionsCount")}(s||(t.Subscriptions=s={}))})),
define("FxHubs/RpcEndPoints",["require","exports","FxHubs/RpcEndPointsCore","Fx"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SessionManager=t.DashboardEndpoints=t.PartFilterEndpoints=t.BrowserStorageSettings=t.Impl=t.NotifyResourceCreated=t.Curation=t.Events=t.Experimentation=t.ResourceManager=t.Auth=t.Marketplace=t.Provisioning=t.Subscriptions=t.Directories=t.AssetTypes=t.AssetMenu=t.ArtBrowse=t.Constants=void 0;var o,i,a,s,l,u,c,d,p,f,h,m,v,g,y,b,x,C,_=MsPortalFx.Base.Constants,w=FxImpl.Rpc,P=w.FuncEndPointDefinition,E=w.ActionEndPointDefinition,F=w.FuncEndPointDefinition,I=FxImpl.Constants.RpcMethods;!function(e){e.updateContactEmail="MsPortalHubs.RpcEndPoints.updateContactEmail",e.getResourceAssetInformation="MsPortalHubs.RpcEndPoints.getResourceAssetInformation",e.mapResourceIdToDynamicSelectionAndIcon="MsPortalHubs.RpcEndPoints.mapResourceIdToDynamicSelectionAndIcon",e.getBladeDefinition="MsPortalHubs.RpcEndpoints.getBladeDefinition",e.doesBladeDefinitionExist="MsPortalHubs.RpcEndpoints.doesBladeDefinitionExist",e.getDefaultUxManifest="MsPortalHubs.RpcEndpoints.getDefaultUxManifest",e.getInSessionDisplayedSubscriptions="MsPortalHubs.RpcEndPoints.SelectedSubscriptions.getInSessionDisplayedSubscriptions",e.getAllSubscriptionsCount="MsPortalHubs.RpcEndPoints.SelectedSubscriptions.getAllSubscriptionsCount",e.pastDueSubsWarning="MsPortalHubs.RpcEndPoints.pastDueSubsWarning",e.getTenantsCount="MsPortalHubs.RpcEndPoints.Directories.getTenantsCount",e.getSharedCuration="MsPortalHubs.RpcEndPoints.getSharedCuration",e.getResourceTypesCategorization="MsPortalHubs.RpcEndPoints.getResourceTypesCategorization",e.getRecentResources="MsPortalHubs.RpcEndPoints.getRecentResources",e.setRecentResources="MsPortalHubs.RpcEndPoints.setRecentResources",e.addRecentResource="MsPortalHubs.RpcEndPoints.addRecentResource",e.getFavoriteResources="MsPortalHubs.RpcEndPoints.getFavoriteResources",e.isResourceFavorite="MsPortalHubs.RpcEndPoints.isResourceFavorite",e.addFavoriteResource="MsPortalHubs.RpcEndPoints.addFavoriteResource",e.addFavoriteResources="MsPortalHubs.RpcEndPoints.addFavoriteResources",e.removeFavoriteResource="MsPortalHubs.RpcEndPoints.removeFavoriteResource",e.getMarketplaceUserSettings="MsPortalHubs.RpcEndPoints.Marketplace.getMarketplaceUserSettings",e.publishIrisNotificationsTelemetry="MsPortalHubs.RpcEndPoints.publishIrisNotificationsTelemetry",e.cacheNewlyCreatedResources="MsPortalHubs.RpcEndPoints.cacheNewlyCreatedResources",e.createPostProvisioningContent="createPostProvisioningContent",e.getSpecsCosts="getSpecsCosts",e.getCurrentUser="getCurrentUser",e.getSessionHistory="getSessionHistory"}(o||(t.Constants=o={})),t.ArtBrowse=n.Browse,function(e){e.getResourceMenuPrereqsEndpoint=new P("FxHubs.RpcEndpoints.getResourceMenuPrerequisites"),e.getAssetMenuPrereqsEndpoint=new P("FxHubs.RpcEndpoints.getAssetMenuPrerequisites"),e.getDefaultUxManifestEndPoint=new F(o.getDefaultUxManifest),e.getReactAssetTypeViewModelEndpoint=new w.ProxiedObjectTypeDefinition("FxHubs.RpcEndpoints.getReactAssetTypeViewModel")}(i||(t.AssetMenu=i={})),function(e){e.getAssetTypesInformationEndPoint=n.AssetTypes.getAssetTypesInformationEndPoint,e.getSingleAssetTypeInformationEndPoint=n.AssetTypes.getSingleAssetTypeInformationEndPoint,e.getResourceAssetInformationEndPoint=new P(o.getResourceAssetInformation),e.getRecentResourcesEndPoint=new P(o.getRecentResources),e.setRecentResourcesEndPoint=new P(o.setRecentResources),e.addRecentResourceEndPoint=new P(o.addRecentResource),e.getFavoriteResourcesEndPoint=new P(o.getFavoriteResources),e.isResourceFavoriteEndPoint=new P(o.isResourceFavorite),e.addFavoriteResourceEndPoint=new P(o.addFavoriteResource),e.addFavoriteResourcesEndPoint=new P(o.addFavoriteResources),e.removeFavoriteResourceEndPoint=new P(o.removeFavoriteResource),e.cacheNewlyCreatedResourcesEndPoint=new P(o.cacheNewlyCreatedResources)}(a||(t.AssetTypes=a={})),function(e){e.getDirectoriesMapEndPoint=new P("getDirectoriesMap"),e.getSubscriptionsForSelectedDirectoriesEndPoint=new P("getSubscriptionsForSelectedDirectories"),e.getHomeTenantsCountEndPoint=new P(o.getTenantsCount)}(s||(t.Directories=s={})),function(e){e.getInSessionDisplayedSubscriptionsEndPoint=new P(o.getInSessionDisplayedSubscriptions),e.getAllSubscriptionsCountEndPoint=n.Subscriptions.getAllSubscriptionsCountEndPoint,e.pastDueSubsWarningEndpoint=new P(o.pastDueSubsWarning)}(l||(t.Subscriptions=l={})),function(e){e.getBladeDefinitionLocatorEndPoint=new F(o.getBladeDefinition),e.doesBladeDefinitionExistEndPoint=new F(o.doesBladeDefinitionExist),e.marketplaceOverrideEndpoint=new F("MarketplaceOverrideEndpoint"),e.createPostProvisioningContentEndPoint=new FxImpl.Rpc.ProxiedObjectTypeDefinition("createPostProvisioningContent")}(u||(t.Provisioning=u={})),function(e){e.getMarketplaceUserSettingsEndPoint=new P(o.getMarketplaceUserSettings)}(c||(t.Marketplace=c={})),function(e){e.getCurrentUserEndPoint=new P(o.getCurrentUser),e.getCurrentUser=(0,r.memoizePromise)((function(t){return e.getCurrentUserEndPoint.invoke(t,"fx")}))}(d||(t.Auth=d={})),function(e){e.notifyDeploymentEndPoint=new w.FuncEndPointDefinition(I.notifyDeployment),e.pollDeploymentEndPoint=new w.FuncEndPointDefinition(I.pollDeployment),e.internalDeploymentHelper=new w.FuncEndPointDefinition(I.internalDeploymentHelper)}(p||(t.ResourceManager=p={})),function(e){e.expirimentationEndpoint=new w.FuncEndPointDefinition(I.experimentationHelper),e.experimentationValuesEndpoint=new w.FuncEndPointDefinition(I.experimentationValuesHelper)}(f||(t.Experimentation=f={})),function(e){e.notifyAssetDeletedDefinition=new w.ActionEndPointDefinition("MsPortalFx.UI.AssetManager.NotifyAssetDeleted"),e.createResourceDeletedEventDefinition=new w.ActionEndPointDefinition("MsPortalFx.UI.AssetManager.CreateResourceDeletedEvent"),e.matchEventsDefinition=new w.ActionEndPointDefinition("MsPortalFx.UI.AssetManager.Hubs.MatchEvents"),e.removeArmEventSubscriptionDefinition=new w.ActionEndPointDefinition("MsPortalFx.UI.AssetManager.Hubs.RemoveArmEventSubscription"),e.subscribeToArmEventDefinition=new w.ProxiedObjectTypeDefinition("MsPortalFx.UI.AssetManager.Hubs.SubscribeToArmEvent")}(h||(t.Events=h={})),function(e){e.getSharedCurationEndpoint=new P(o.getSharedCuration),e.getResourceTypesCategorizationEndPoint=new F(o.getResourceTypesCategorization)}(m||(t.Curation=m={})),function(e){e.notifyResourcesCreatedEndpoint=new FxImpl.Rpc.ActionEndPointDefinition("MsPortal.RpcEndPoints.notifyResourcesCreated")}(v||(t.NotifyResourceCreated=v={})),function(e){var t=FxImpl.Composition.Selectable;function n(e,n){return Q(new t.PdlBladeReference(e.detailBlade,e.extension,{parameters:e.detailBladeInputs,onClosed:n}))}e.getInSessionDisplayedSubscriptions=function(e){return Q(l.getInSessionDisplayedSubscriptionsEndPoint.invoke(e,_.Shell,null))},e.getAllSubscriptionsCount=function(e){return Q(l.getAllSubscriptionsCountEndPoint.invoke(e,"fxw",null))},e.mapResourceIdToBladeReference=function(e,t){return Q(FxImpl.Extension.mapResourceIdToDynamicSelectionAndIconEndPoint.invoke(w.client,_.Shell,{resourceId:e,forceBladeSelection:!0}).then((function(e){return n(e.selection,t)})))},e.mapDynamicBladeSelectionToBladeReference=n,e.irisTelemetryEndpoint=new w.ActionEndPointDefinition(o.publishIrisNotificationsTelemetry),e.getDirectoriesMap=function(e){return Q(s.getDirectoriesMapEndPoint.invoke(e,_.Shell,null))},e.getSubscriptionsForSelectedDirectories=function(e,t){return Q(s.getSubscriptionsForSelectedDirectoriesEndPoint.invoke(e,_.Shell,t))}}(g||(t.Impl=g={})),function(e){e.readBrowserStorageSettingsEndpoint=new F("Shell.readBrowserStorageSettings"),e.writeBrowserStorageSettingsEndpoint=new E("Shell.writeBrowserStorageSettings")}(y||(t.BrowserStorageSettings=y={})),function(e){e.getFilters=new F("Shell.getFilters"),e.getFilterValues=new F("Shell.getFilterValues"),e.getFilterValueDisplayText=new F("Shell.getFilterValueDisplayText"),e.getFilterWarning=new F("Shell.getFilterWarning")}(b||(t.PartFilterEndpoints=b={})),function(e){e.getDashboardDeepLink=new F("Shell.getDashboardDeepLink")}(x||(t.DashboardEndpoints=x={})),function(e){e.getSessionHistoryEndPoint=new P(o.getSessionHistory)}(C||(t.SessionManager=C={}))})),
define("FxInternal/ResourceManagement/BrowseBladeCore",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getBrowseBladeReferenceEndPoint=void 0,t.getBrowseBladeReferenceEndPoint=new n.FuncEndPointDefinition("getBrowseBladeReference")})),
define("FxInternal/ResourceManagement/GlobalResourceFilters",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobalResourceFilterObservableEndPoint=void 0;var n=FxImpl.Rpc;t.getGlobalResourceFilterObservableEndPoint=new n.ProxiedObjectTypeDefinition("getGlobalResourceFilterObservable")})),
define("FxInternal/ResourceManagement/GlobalResourceFiltersCore",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getActiveGlobalResourceFilterEndPoint=void 0,t.getActiveGlobalResourceFilterEndPoint=new n.FuncEndPointDefinition("getActiveGlobalResourceFilter")})),
define("FxInternal/ResourceManagement/Subscriptions",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getInSessionSelectedSubscriptionsObservableEndPoint=void 0;var n=FxImpl.Rpc;t.getInSessionSelectedSubscriptionsObservableEndPoint=new n.ProxiedObjectTypeDefinition("getInSessionSelectedSubscriptionsObservable")})),
define("FxInternal/ResourceManagement/SubscriptionsCore",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getSubscriptionInfoEndPoint=t.getInSessionSelectedSubscriptionsEndPoint=void 0,t.getInSessionSelectedSubscriptionsEndPoint=new n.FuncEndPointDefinition("getInSessionSelectedSubscriptions"),t.getSubscriptionInfoEndPoint=new n.FuncEndPointDefinition("getSubscriptionInfo")})),
define("Fx/ResourceManagement",["require","exports","Fx/Resources/ResourceManagement","FxHubs/RpcEndPoints","FxInternal/ResourceManagement/BrowseBladeCore","FxInternal/ResourceManagement/Subscriptions","FxInternal/ResourceManagement/SubscriptionsCore","FxInternal/ResourceManagement/GlobalResourceFilters","FxInternal/ResourceManagement/GlobalResourceFiltersCore","Fx/Errors","Fx"],(function(e,t,n,r,o,i,a,s,l,u,c){Object.defineProperty(t,"__esModule",{value:!0}),t.DEV=t.onGlobalResourceFilterChange=t.addRecentResource=t.onSelectedSubscriptionsChange=t.getDynamicDxBladeReference=t.getBrowseBladeReference=t.ResourceName=t.ArmId=void 0;var d,p,f,h,m=MsPortalFx.Base,v=m.Constants,g=m.Diagnostics,y=FxImpl.Rpc,b=r.AssetTypes.addRecentResourceEndPoint,x=g.createLog(e);!function(e){var t,n,r,o,i,a,s,l,d,p,f,h,m,v,g,y,b,C,_,w,P,E,F,I,M,S,k,R;function A(e,t){var n,r;if(!ee(e))return[];var o=(e.resourceType||"").split("/");return 0!==o.length&&(null===(n=o[0])||void 0===n?void 0:n.toLowerCase())===(null===(r=e.provider)||void 0===r?void 0:r.toLowerCase())||x.error(new u.FxError("Source ArmId had a resource type where the provider was not the first segment, this is an invalid ArmId: "+JSON.stringify(e))),t?o:o.splice(1)}function T(e){return ee(e)?e.resourceName.split("/"):[]}function D(e){var t={kind:0,subscription:"",resourceGroup:"",provider:"",location:"",nestedResourceTypes:[],isNestedResourceType:!1,tagName:"",tagValue:"",resourceName:"",resourceType:"",resourceIds:[],resourceTypes:[]};return(null==e?void 0:e.excludeNested)&&delete t.nestedResourceTypes,(null==e?void 0:e.excludeNested)&&delete t.isNestedResourceType,t}function B(e){return __assign(__assign({},D(e)),{resourceNames:[],resourceTypeNames:[]})}function N(e,t){return function(n,r,o){return n.armId[e]=o,t}}e.parse=(M=function(e,t){return function(e,t){var n=t?q:W;if("string"!=typeof e)return __assign(__assign({},n),{reason:"not a string"});var r,o=(e=(e||"").split("?")[0]||"").split("/");if(1===o.length||o.length%2!=1||0!==o[0].length)return __assign(__assign({},n),{reason:"invalid number of segments"});for(var i=o.length,a=(r=0,{machineData:{armId:B(),currentResourceTypes:{provider:"",resourceTypes:[]}},machineState:r,processorMap:V,kindTransition:H}),s=1;s<i;s+=2){var l=a.processorMap[a.machineState];if(!l)return __assign(__assign({},n),{reason:"malformed resource ID - no processor map"});var u=o[s],c=o[s+1];if(!u.length||!c.length)return __assign(__assign({},n),{reason:"empty segment"});var d=l[u]||l[u.toLowerCase()]||l[""];if(!d)return __assign(__assign({},n),{reason:"malformed resource ID - no processor (invalid token segment)"});var p=a.machineData.armId.kind;a.machineState=d(a.machineData,u,c,t),a.machineData.armId.kind=a.kindTransition[p][a.machineState]||0}var f=a.machineData.armId;if(0===f.kind)return __assign(__assign({},n),{reason:"invalid at conclusion"});var h=f.resourceNames,m=f.resourceTypeNames,v={kind:f.kind,subscription:f.subscription,resourceGroup:f.resourceGroup,location:f.location,provider:f.provider,resourceName:"",resourceType:"",tagName:f.tagName,tagValue:f.tagValue,resourceIds:h.slice(),resourceTypes:m.slice()};return 1===f.kind?v.resourceType=U.Subscriptions:4===f.kind?v.resourceType=U.ResourceGroups:11===f.kind?v.resourceName=v.location:m.length&&(t?a.machineData.currentResourceTypes.provider&&(f.nestedResourceTypes.push(a.machineData.currentResourceTypes),a.machineData.currentResourceTypes.resourceTypes.length&&(v.resourceType=f.nestedResourceTypes.map((function(e){return e.provider+"/"+e.resourceTypes.join("/")})).join("/")),v.resourceName=h.join("/")):f.provider&&(v.resourceType=f.provider+"/"+m.join("/"),v.resourceName=h.join("/"))),t&&(v.isNestedResourceType=f.isNestedResourceType,v.nestedResourceTypes=f.nestedResourceTypes),v}(e,t)},(R=function(){S={},k=0})(),function(e,t){var n=S[e];void 0===n&&(n={},S[e]=n);var r=t?1:0,o=n[r];return void 0===o&&(o=M(e,t),1e3==k++&&c.nextTick(R),n[r]=o),o}),e.stringify=function(e,t){if(!e)return"";var n=Y[t||e.kind];return n&&n.sourceMap[e.kind]?n.builder(e):""},e.sanitizeId=function(e){return 0!==e.kind?MsPortalFx.sanitizeMessage(function(e,t){if(!e)return"";var n=Y[t||e.kind];return n&&n.sourceMap[e.kind]?n.builder(e,!0):""}(e)):"_REDACTED_"},e.hasParentResourceId=function(e){return te(e)},e.getParentResourceArmId=function(e){return ne(e)},e.getParentResourceId=function(t){var n=ne(t);return n&&e.stringify(n)||""},e.getRootResourceArmId=function(e){return re(e)},e.getRootResourceId=function(t){var n=re(t);return n&&e.stringify(n)||""},e.getResourceTypes=A,e.getResourceNames=T,e.getResourceTypeWithoutProvider=function(e){return A(e).join("/")};var O=function(e,t,n){return e.armId.provider=n,e.currentResourceTypes.provider=n,4},L=function(e,t,n){return e.armId.resourceTypeNames.push(t),e.armId.resourceNames.push(n),e.currentResourceTypes.resourceTypes.push(t),6},j=function(e,t,n){return e.armId.provider="Microsoft.Resources",e.currentResourceTypes.provider="Microsoft.Resources",e.currentResourceTypes.resourceTypes.push("deployments"),e.armId.resourceTypeNames.push("deployments"),e.armId.resourceNames.push(n),6},V=((t={})[0]={subscriptions:N("subscription",1),providers:O},t[1]={resourceGroups:N("resourceGroup",3),resourcegroups:N("resourceGroup",3),locations:N("location",2),providers:O,tagNames:N("tagName",7),tagnames:N("tagName",7),deployments:j},t[3]={providers:O,deployments:j},t[4]={"":L},t[5]={"":L},t[6]={providers:function(e,t,n,r){return r?(e.armId.isNestedResourceType=!0,e.armId.nestedResourceTypes.push(e.currentResourceTypes),e.currentResourceTypes={provider:n,resourceTypes:[]},5):L(e,t,n)},"":L},t[7]={tagValues:N("tagValue",8),tagvalues:N("tagValue",8)},t),H=((n={})[0]=((r={})[1]=1,r[4]=7,r),n[1]=((o={})[3]=4,o[2]=11,o[4]=2,o[7]=9,o[6]=3,o),n[2]=((i={})[6]=3,i),n[3]=((a={})[6]=3,a[5]=2,a),n[11]={},n[4]=((s={})[4]=5,s[6]=6,s),n[5]=((l={})[6]=6,l),n[6]=((d={})[6]=6,d[5]=5,d),n[7]=((p={})[6]=8,p),n[8]=((f={})[6]=8,f[5]=7,f),n[9]=((h={})[8]=10,h),n[10]={},n);var W=D({excludeNested:!0}),q=D(),U=MsPortalFx.Base.Constants.ResourceTypes;var z=function(e){return e.resourceName&&e.resourceName.split("/")||e.resourceIds||[]},G=function(e,t){var n=z(e),r=function(e,t){var n,r,o=(null==e?void 0:e.resourceType)&&e.resourceType.split("/");return o&&(null===(n=o[0])||void 0===n?void 0:n.toLowerCase())!==(null===(r=e.provider)||void 0===r?void 0:r.toLowerCase())?(!t&&x.error(new u.FxError("Source ArmId had a resourceType where the provider was not the first segment, this is an invalid ArmId: "+JSON.stringify(e))),e.resourceTypes||[]):(e.resourceType||!t&&x.warning(new u.FxError("Source ArmId is missing the resourceType, this is an invalid ArmId: "+JSON.stringify(e))),(null==o?void 0:o.slice(1))||e.resourceTypes||[])}(e,t);return r.map((function(e,t){return e+"/"+n[t]})).join("/")},Q=function(e){var t=z(e),n=0;return e.nestedResourceTypes.map((function(e){return"/providers/".concat(e.provider)+(e.resourceTypes.length?"/"+e.resourceTypes.map((function(e){return e+"/"+t[n++]})).join("/"):"")})).join("")},K=function(e){var t=z(e),n=0;return e.nestedResourceTypes.map((function(e){return"/providers/".concat(e.provider,"/")+e.resourceTypes.map((function(e){return e+"/"+t[n++]})).join("/")})).join("")},$=function(e,t){return"/subscriptions/".concat(e.subscription)},J=function(e,t){return $(e)+"/resourceGroups/".concat(e.resourceGroup)},X=function(e,t){return"".concat($(e),"/tagNames/").concat(e.tagName)},Y=((m={})[1]={sourceMap:(v={},v[1]=!0,v[11]=!0,v[2]=!0,v[3]=!0,v[4]=!0,v[5]=!0,v[6]=!0,v[9]=!0,v[10]=!0,v),builder:$},m[11]={sourceMap:(g={},g[11]=!0,g),builder:function(e,t){return $(e)+"/locations/".concat(e.location)}},m[2]={sourceMap:(y={},y[2]=!0,y[3]=!0,y),builder:function(e,t){return $(e)+(e.isNestedResourceType?Q(e):"/providers/".concat(e.provider))}},m[3]={sourceMap:(b={},b[3]=!0,b),builder:function(e,t){return $(e)+(e.isNestedResourceType?K(e):"/providers/".concat(e.provider,"/")+G(e,t))}},m[4]={sourceMap:(C={},C[4]=!0,C[5]=!0,C[6]=!0,C),builder:J},m[5]={sourceMap:(_={},_[5]=!0,_[6]=!0,_),builder:function(e,t){return J(e)+(e.isNestedResourceType?Q(e):"/providers/".concat(e.provider))}},m[6]={sourceMap:(w={},w[6]=!0,w),builder:function(e,t){return J(e)+(e.isNestedResourceType?K(e):"/providers/".concat(e.provider,"/")+G(e,t))}},m[7]={sourceMap:(P={},P[7]=!0,P[8]=!0,P),builder:function(e,t){return e.isNestedResourceType?Q(e):"/providers/".concat(e.provider)}},m[8]={sourceMap:(E={},E[8]=!0,E),builder:function(e,t){return e.isNestedResourceType?K(e):"/providers/".concat(e.provider,"/")+G(e,t)}},m[9]={sourceMap:(F={},F[9]=!0,F[10]=!0,F),builder:X},m[10]={sourceMap:(I={},I[10]=!0,I),builder:function(e,t){return"".concat(X(e),"/tagValues/").concat(e.tagValue)}},m);function Z(e){return e.map((function(e){return{provider:e.provider,resourceTypes:e.resourceTypes.slice()}}))}function ee(e){return[6,3,8].includes(null==e?void 0:e.kind)}function te(e){return!!ee(e)&&A(e).length>1}function ne(e){var t;if(te(e)){var n=void 0;if(e.nestedResourceTypes&&e.nestedResourceTypes.length){var r,o=e.nestedResourceTypes.length-1;if((null===(t=e.nestedResourceTypes[o].resourceTypes)||void 0===t?void 0:t.length)>1)(r=Z(e.nestedResourceTypes))[o].resourceTypes=r[o].resourceTypes.slice(0,-1),n={nestedResourceTypes:r,isNestedResourceType:e.isNestedResourceType};else n={nestedResourceTypes:r=Z(e.nestedResourceTypes).slice(0,-1),isNestedResourceType:r.length>1}}var i=A(e,!0).slice(0,-1),a=T(e).slice(0,-1);return __assign(__assign(__assign({},e),n),{resourceName:a.join("/"),resourceType:i.join("/")})}return null}function re(e){if(te(e)){var t=void 0;if(e.nestedResourceTypes&&e.nestedResourceTypes.length){var n=Z(e.nestedResourceTypes).slice(0,1);n[0].resourceTypes=n[0].resourceTypes.slice(0,1),t={nestedResourceTypes:n,isNestedResourceType:!1}}var r=A(e,!0).slice(0,2),o=T(e).slice(0,1);return __assign(__assign(__assign({},e),t),{resourceName:o.join("/"),resourceType:r.join("/")})}return null}}(f||(t.ArmId=f={})),function(e){var t=ko.utils.peekObservable;e.getDisplayName=function(e,r){var o=(t(e.tags)||{})["hidden-title"],i=t(e.id)||"",a=t(e.name);!r&&a&&(a=MsPortalFx.last(a.split("/"))),a=a||i&&MsPortalFx.last(i.split("/"));var s=(e.armId||f.parse(i,!0)).resourceName||i&&MsPortalFx.last(i.split("/"))||t(e.name)||n.resourceWithNoName;if(s.includes("/")){var l=s.split("/");a=a||MsPortalFx.last(l),l.length>1&&(a=n.resourceTitleWithParts.format(a,s))}return a=a||n.resourceWithNoName,o?n.resourceTitleWithParts.format(a,o):a}}(h||(t.ResourceName=h={})),t.getBrowseBladeReference=function(e){return Q(o.getBrowseBladeReferenceEndPoint.invoke(y.client,"fx",e))},t.getDynamicDxBladeReference=function(e){var t=MsPortalFx.getEnvironmentValue("extensionName");return{bladeName:"__dv__".concat(e.bladeNameSuffix,"__dx"),extensionName:t}},t.onSelectedSubscriptionsChange=function(e,t){var n=function(n,r){n.subscribe(e,t),r&&t(n())};if(d)return n(d,!0),Q(null);var r,o,s=i.getInSessionSelectedSubscriptionsObservableEndPoint.acquireObject(y.client,v.Shell,null).then((function(e){r=d=e.value;var t=!o||!MsPortalFx.deepEquals(o,e.value());n(d,t)})),l=a.getInSessionSelectedSubscriptionsEndPoint.invoke(y.client,"fxw",null).then((function(e){o=e,!r&&t(e)}));return s=Promise.any([s,l]),Q(s)},t.addRecentResource=function(e){var t;if(function(e){return"id"in e&&"type"in e}(e))t={resourceId:e.id,name:h.getDisplayName(e),location:e.location,resourceKind:e.kind};else{if(!function(e){return"subscriptionId"in e}(e))throw new MsPortalFx.Errors.Error("parameter is not a valid resource");t={resourceId:e.subscriptionId,name:e.displayName}}b.invoke(FxImpl.Rpc.client,"HubsExtension",t)},t.onGlobalResourceFilterChange=function(e,t){return __awaiter(this,void 0,void 0,(function(){var n,r,o,i,a;return __generator(this,(function(u){return n=function(n,r){n.subscribe(e,t),r&&t(n())},p?(n(p,!0),[2]):(i=s.getGlobalResourceFilterObservableEndPoint.acquireObject(y.client,v.Shell,null).then((function(e){r=p=e.value;var t=!o||!MsPortalFx.deepEquals(o,e.value());n(p,t)})),a=l.getActiveGlobalResourceFilterEndPoint.invoke(y.client,"fxw",null).then((function(e){o=e,!r&&t(e)})),[2,i=Promise.any([i,a])])}))}))}})),
define("FxInternal/UriScrubber",["require","exports","FxInternal/Diagnostics","Fx/Errors","Fx/Diagnostics"],(function(e,t,n,r,o){Object.defineProperty(t,"__esModule",{value:!0}),t.scrubUri=void 0;var i=MsPortalFx.trimStart,a=MsPortalFx.trimEnd,s=(0,o.createLog)(e),l="https://test.test";t.scrubUri=function(e){if(!e)return e;try{return function(e){var t=new URL(e,l),r=i((0,n.sanitizeUriComponent)(decodeURIComponent(t.hostname)),"/"),o=i((0,n.sanitizeUriComponent)(decodeURIComponent(t.pathname)),"/"),s="".concat(a(t.protocol,"/"),"//").concat(r).concat(t.port?":".concat(t.port):"").concat(""!==r?"/":"").concat(o);return s.startsWith(l)?s.substring(l.length):s}(e)}catch(t){return s.error(new r.FxError({message:"'scrubUri' caught an exception scrubbing invalid URI '".concat(e,"'"),innerErrors:t})),null}}})),
define("FxInternal/NetDiagnostics",["require","exports","Fx/ResourceManagement","FxInternal/Ajax","FxInternal/UriScrubber"],(function(e,t,n,r,o){Object.defineProperty(t,"__esModule",{value:!0}),t.nameNetworkCall=t.getBatchItemsData=void 0;var i,a,s,l=MsPortalFx.Base,u="[REDACTED]",c=(0,r.getEndpoints)(),d=c.arm.toLowerCase(),p=y(c.armBatch).toLowerCase(),f="".concat(MsPortalFx.getEnvironmentValue("extensionName"),"."),h=c.msGraph.toLowerCase(),m=new RegExp("".concat(h,"[^/]*/\\$batch")),v=c.graph.toLowerCase(),g="x-ms-command-name";function y(e){var t=new l.UriBuilder(e);return t.query.clear(),t.toString()}function b(e,t,r,o){var i,a,s,l,c,p=y((null==e?void 0:e.toLowerCase().startsWith(d))?e.slice(d.length-1):e),f="ARM";if("resources"===MsPortalFx.last(p.split("/"))?0!==(i=n.ArmId.parse(p.slice(0,p.lastIndexOf("/")))).kind&&(f="ARG",s=!0):0!==(i=n.ArmId.parse(p)).kind?l=!0:0!==(i=n.ArmId.parse("".concat(p,"/").concat(u))).kind&&(a=!0,l=!0),0!==i.kind){var h=__assign({},i);h.subscription=u,h.resourceName=u,h.resourceGroup=u,h.tagName=u,h.tagValue=u,c="".concat(w("ARM")).concat(n.ArmId.sanitizeId(h)),a?c=c.slice(0,c.lastIndexOf("/")):s&&(c="".concat(c,"/resources"))}else c="".concat(w("ARM"),"/").concat(u);return C(f,t,e,r,c,l,o)}function x(e,t,n,r){return C("MSGRAPH",t,e,n,"".concat(w("MSGRAPH"),"/").concat(u),!1,r)}function C(e,t,n,r,i,a,s){var l=(0,o.scrubUri)(n);return{kind:e,commandName:_(e,t,n,r,a&&i,s),uri:i,scrubbedUri:l}}function _(e,t,n,r,o,i){if(t&&t!==f)return t;if(o)return o;if(!("ARMBATCH"===e)&&i){var a=r?"Stack: ".concat(r):"Missing ajax call stack. Please log a bug to FX.";console.warn("Supply a logical name for the ajax call to '".concat(n,"' for inclusion in telemetry. ").concat(a))}return"".concat(w(e),"[UNNAMED]")}function w(e){return"[".concat(e,"]")}t.getBatchItemsData=function(e,t,n,r){var o,i,a=(t.initiationContext||{}).stack,s=function(e){var t;try{t=JSON.parse(e)}catch(e){}return t},l=function(e){var n,r=(null===(n=s(t.data))||void 0===n?void 0:n.requests)||[],o=t.stacks;return r.map((function(t,n){var r,i=o?o[n]:a,s=null===(r=null==t?void 0:t.url)||void 0===r?void 0:r.toLowerCase();return{url:s=(null==s?void 0:s.startsWith("/"))?"".concat(e).concat(s.slice(1)):s,request:t,requestStack:i}}))},u=function(){var e;return(null===(e=s(n))||void 0===e?void 0:e.responses)||[]};return"ARMBATCH"===e?(o=l(d).map((function(e){var t,n=e.url,o=e.request,i=e.requestStack;return b(n,null===(t=null==o?void 0:o.requestHeaderDetails)||void 0===t?void 0:t.commandName,i,r)})),i=u().map((function(e){var t=e||{},n=t.contentLength,r=t.headers;return{status:t.httpStatusCode,responseCorrelationId:null==r?void 0:r["x-ms-correlation-request-id"],dataReceived:n||0}}))):"MSGRAPHBATCH"===e&&(o=l(h).map((function(e){var t,n=e.url,o=e.request,i=e.requestStack;return x(n,null===(t=null==o?void 0:o.headers)||void 0===t?void 0:t[g],i,r)})),i=u().map((function(e){var t=e||{},n=t.body,r=t.headers;return{status:t.status,responseCorrelationId:null==r?void 0:r["client-request-id"],dataReceived:n?function(){try{return JSON.stringify(n)}catch(e){return""}}().length:0}}))),null==o?void 0:o.map((function(e,t){return __assign({name:e},i[t])}))},t.nameNetworkCall=function(e,t){var n=t||{},r=n.suppressHighVolume,o=n.emitDiagnostics;i=i||new l.UriBuilder(FxImpl.trustedParentOrigin).getAuthority(),a=a||new l.UriBuilder(FxImpl.origin).getAuthority(),s=s||new l.UriBuilder(FxImpl.origin).getScheme();var c,f=new l.UriBuilder(e.uri),y=f.toString(),_=y.toLowerCase(),P=f.getAuthority()||a,E=(e.headers||{})[g]||e.setTelemetryHeader,F=e.initiationContext||{},I=F.stack,M=F.bladeInstance,S=function(e,t,n){return C(e,E,y,I,t,n,o)};return(c=P===i?r?null:S("PORTAL","".concat(w("PORTAL")).concat(f.getRelativePath()),!0):MsPortalFx.startsWith(_,p)?S("ARMBATCH",w("ARMBATCH"),!1):MsPortalFx.startsWith(_,d)?b(y,E,I,o):m.test(_)?S("MSGRAPHBATCH",w("MSGRAPHBATCH"),!1):MsPortalFx.startsWith(_,h)?x(y,E,I,o):MsPortalFx.startsWith(_,v)?function(e,t,n,r){return C("ADGRAPH",t,e,n,"".concat(w("ADGRAPH"),"/").concat(u),!1,r)}(y,E,I,o):S("UNRECOGNIZED","".concat(f.getScheme()||s).concat(P,"/").concat(u),!1))&&__assign(__assign({},c),{bladeInstance:M})}})),
define("Fx/Ajax",["require","exports","FxInternal/Ajax","FxInternal/NetDiagnostics","Fx"],(function(e,t,n,r,o){var i;Object.defineProperty(t,"__esModule",{value:!0}),t.DEV=t.batchMultiple=t.batch=t.getAzureStackEndpoint=t.getEndpoints=t.initialize=t.ajaxExtended=t.ajax=t.postJSON=t.isTrustedDomain=void 0;var a=MsPortalFx.Base,s=a.Net2,l=a.Diagnostics.Telemetry,u=FxImpl.Extension,c=MsPortalFx.getEnvironmentValue("extensionName"),d=MsPortalFx.isFeatureEnabled("fasteventservice"),p=MsPortalFx.isFeatureEnabled("asyncbatch"),f=FxImpl.validateDomain,h={bufferDurationMs:100,cacheDurationMs:1e4,map:Object.create(null),telemetrySuffix:"Batch"},m={cacheDurationMs:1e4,map:Object.create(null),telemetrySuffix:"BatchNextTick"},v={bufferDurationMs:d?5e3:6e4,cacheDurationMs:6e4,map:Object.create(null),telemetrySuffix:"BatchBackground"},g={bufferDurationMs:0,cacheDurationMs:1e4,map:Object.create(null),telemetrySuffix:"SingleBatch"},y=(0,n.getEndpoints)().arm.toLowerCase(),b=new a.UriBuilder(y).getAuthority(),x=new a.UriBuilder(FxImpl.internalEnv.fxArmEndpoint).getAuthority().toLowerCase(),C=null!==(i=FxImpl.internalEnv.dArmDomains)&&void 0!==i?i:[];function _(e,t){return(e&t)===t}var w=66;function P(e){var t=e||"";return"".concat(c,".").concat(t).slice(0,255)}function E(e){var t={};return e.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach((function(e){var n=e.split(": "),r=n.shift();t[r]=n.join(": ")})),t}function F(e,t,n){var r=e.jqXHR.status;if(200===r)return Q(e.content);if(202!==r){var i=e.jqXHR,a=!!i&&E(i);return Q.reject({content:e.content,headers:a||{},httpStatusCode:!!i&&i.status})}var s=e.jqXHR.getResponseHeader("Location");if(!s)throw new Error("Location header not present on 202 response, unable to poll for completion");var l=parseInt(e.jqXHR.getResponseHeader("Retry-After")||"".concat(5));return o.delay(1e3*l).then((function(){return S(MsPortalFx.extend2(t,{type:"GET",uri:s,setTelemetryHeader:"".concat(t.setTelemetryHeader,".poll_").concat(++n)})).then((function(e){return F(e,t,n)}))}))}function I(e,t){return S(MsPortalFx.extend2(e,t,{contentType:"application/json",data:JSON.stringify(t),type:"POST"})).then((function(t){return F(t,e,0)}))}function M(e,t){return Q(s.postJSON(e,t))}function S(e){return Q(s.ajaxExtended(e))}t.isTrustedDomain=function(e){return f(e)},t.postJSON=M,t.ajax=function(e){return Q(s.ajax(e))},t.ajaxExtended=S,t.initialize=function(e){w=e.requestOptions},t.getEndpoints=n.getEndpoints,t.getAzureStackEndpoint=n.getAzureStackEndpoint,t.batch=function(e){var t=e.options||w;e.retryStatusCodes&&(t|=8);var i,c,d=e.uri||e.url||"",f=new a.UriBuilder(d);if(MsPortalFx.isUriAbsolute(d)){var F=new a.UriBuilder(d),S=F.getAuthority();if(S===x)i=b,c=y,d=[F.getScheme(),b,F.getRelativePath(),F.getOriginalQuery()].join("");else if(S.endsWith(x)||C.some((function(e){return S.endsWith(e)||S.endsWith(e+":443")}))||S.endsWith(x+":443"))i=S,c=F.getSchemeAndAuthority().toLowerCase();else if(FxImpl.internalEnv.blockUntrustedDomains||MsPortalFx.isFeatureEnabled("blockuntrusteddomains"))return Promise.reject("Unsupported domain ".concat(S," in batch call. Only ARM and dARM endpoints are supported in batch."))}else c=y;c=MsPortalFx.ensureSuffix(c,"/").toLowerCase();var k=e.isBackgroundTask||_(t,4);MsPortalFx.getFeatureValue("batchImmediate")&&(t=256);var R=h;_(t,256)?R=g:_(t,1)||_(w,1)?R=m:k&&(R=v);var A=R.map[c];A||(i||(i=new a.UriBuilder(c).getAuthority()),A=R.map[c]=function(e,t,r,i,c){var d=e+(0,n.getArmBatchRelativePathAndApiVersion)(),f=Object.create(null),h={batches:[],count:0},m=MsPortalFx.startTimer(),v=function(){var n=h.batches;h={batches:[],count:0},n.forEach((function(n){var r,o=MsPortalFx.replaceAll(JSON.stringify(n.commandNameMap,Object.keys(n.commandNameMap).sort()),'"',""),i=p?I:M,c={isBackgroundTask:t,setAuthorizationHeader:!0,setTelemetryHeader:o,uri:d,initiationContext:{stack:null,bladeInstance:n.bladeInstance},stacks:n.contexts.map((function(e){return e.stack}))},f=null,h=MsPortalFx.isFeatureEnabled("ameconfirmationdialog"),m=MsPortalFx.isFeatureEnabled("armbreakglass"),v=[];if((null===(r=FxImpl.postBootEnv)||void 0===r?void 0:r.isWriteDisallowedTenant)&&(h||m)){var g=m?FxImpl.getHighlySensitiveResourceIdsFromAjaxRequest:FxImpl.getSensitiveResourceIdsFromAjaxRequest,y=[];n.requests.forEach((function(e){var t=(e.url||"").toLowerCase().includes("/bulkdelete?"),n=g(e.url,e.httpMethod,e.content);if(n.length&&(v.push.apply(v,n.map((function(n){return{httpMethod:t?"DELETE":e.httpMethod,resourceId:n}}))),m)){var r=e.requestHeaderDictionary||Object.create(null);r["x-ms-arm-internal-break-glass"]=["true"],e.requestHeaderDictionary=r,y.push({uri:MsPortalFx.sanitizeMessage(e.url),httpMethod:e.httpMethod})}})),m&&y.length&&l.trace({source:"Fx.Ajax",action:"ArmBreakGlassAdded",data:{breakGlassAddedTo:y}}),!m&&v.length&&h&&(f=Q(u.invokeAmeConfirmationDialogEndPoint.invoke(FxImpl.Rpc.client,a.Constants.Shell,v).then((function(e){return l.trace({source:"Fx.Ajax",action:"AMEConfirmation",actionModifier:e?"Approved":"Canceled",data:{deletePutResources:v}}),e}))))}var b=function(){i(c,{requests:n.requests}).then((function(r){r.responses.forEach((function(r,o){var i;r=r||{};var l=n.requestIdxMapByName.get(r.name);void 0===l&&(l=o);var u=n.requests[l],c=n.contexts[l];c.includeResponseHeaders&&(r.responseHeaders=r&&new Headers(r.headers||{}));var d=c.response;if(r.httpStatusCode<400)d.resolve(r);else{var p=c.options,f=r.headers||{},h=f["WWW-Authenticate"],m=void 0;if(MsPortalFx.isFeatureEnabled("retryonwwwauthenticate")&&401===r.httpStatusCode&&h)m={reason:"wwwAuthenticate",headers:(i={},i["WWW-Authenticate"]=h,i)};else if(_(p,16)||_(w,16));else if(_(p,8)||_(w,8)){var v=c.retryStatusCodes,g=!0;v&&"exclude"in v&&(g=!v.exclude.includes(r.httpStatusCode)),v&&"include"in v&&(g=v.include.includes(r.httpStatusCode)),g&&(m={reason:"ForceRetry."+r.httpStatusCode})}else t||"GET"!==u.httpMethod||503!==r.httpStatusCode?_(p,128)||403!==r.httpStatusCode||"gateway"!==(f["x-ms-failure-cause"]||"").toLowerCase()||(m={reason:"RetryForbidden",headers:{"Cache-Control":"no-cache"}}):m={reason:"Slow"};if(m){var y=c.uri||new a.UriBuilder(u.url);y.getAuthority()||(y.path=e+MsPortalFx.trimStart(y.path,"/")),Q(s.ajaxExtended({uri:y.toString(),setAuthorizationHeader:!0,setTelemetryHeader:u.requestHeaderDetails.commandName+"."+m.reason,type:u.httpMethod,headers:m.headers,data:u.content&&JSON.stringify(u.content),contentType:u.content&&"application/json"})).then((function(e){var t=e.jqXHR,n=t&&E(t)||Object.create(null);d.resolve({content:e.content,headers:n,responseHeaders:c.includeResponseHeaders?new Headers(n):void 0,httpStatusCode:t&&t.status})}),(function(e){var t=e.jqXHR,n=t&&E(t)||Object.create(null);d.reject({content:r.content,headers:n,responseHeaders:c.includeResponseHeaders?new Headers(n):void 0,httpStatusCode:t&&t.status})}))}else d.reject(r)}}))})).catch((function(e){n.contexts.forEach((function(t){t.response.reject(e)}))}))};if(f)return f.then((function(e){if(e)b();else{n.requests.forEach((function(e){e.url=""}));var t=MsPortalFx.Resources.Strings.DeleteCommand.Failure.ameCancelledDescription;n.contexts.forEach((function(e){var n,r;e.response.reject({content:{error:{code:FxImpl.ameCancelledErrorCode,message:t,target:"/bulkdelete"===(null===(n=e.uri)||void 0===n?void 0:n.path.toLowerCase())?null:null===(r=e.uri)||void 0===r?void 0:r.toString()}},headers:{},httpStatusCode:403})}))}}));b()}))};return{getResponse:function(e,t,n,a,s,l,u,d,g){var y,b,x=P(e),C=__assign(__assign({content:t,httpMethod:a,name:MsPortalFx.getUniqueId(),requestHeaderDetails:{commandName:x}},new Date(MsPortalFx.getFeatureValue("batchapiversion")||"2020-06-01")>=new Date("2020-06-01")?{requestHeaderDictionary:n}:{}),{url:d}),w=!_(l,64);if(w){var E=f[d];if(E&&E.timer()<r)return E.promise}else delete f[d];h.count||(i?o.delay(i).then(v):0===i?b=!0:o.nextTick((function(){var e=h.count,t=function(){p||e>=Math.min(h.count,20)?v():(e=h.count,o.nextTick(t))};o.nextTick(t)})));var F=Q.defer();h.count++;var I=FxImpl.NetDiagnostics.getCurrentBladeInstance()||void 0,M=MsPortalFx.find(h.batches,(function(e){return e.bladeInstance===I}),-1);(!M||!p&&M.requests.length>=20)&&(M={commandNameMap:(y={},y[" "+P(c)]=0,y),contexts:[],requestIdxMapByName:new Map,requests:[],bladeInstance:I},h.batches.push(M));var S=M.requests.length;M.requests.push(C),M.contexts.push({options:l,response:F,uri:s,retryStatusCodes:u,stack:MsPortalFx.isFeatureEnabled("fixajaxnames")&&MsPortalFx.getCurrentCallStack(),includeResponseHeaders:g}),M.requestIdxMapByName.set(C.name,S);var k=e||"Unknown",R=M.commandNameMap[k]||0;return M.commandNameMap[k]=R+1,m()>6e4&&(MsPortalFx.forEachKey(f,(function(e,t){t.timer()>r&&delete f[e]})),m=MsPortalFx.startTimer()),w&&(f[C.url]={promise:F.promise,timer:MsPortalFx.startTimer()}),b&&v(),F.promise}}}(c,k,R.cacheDurationMs,R.bufferDurationMs,R.telemetrySuffix));var T=e.type||"GET";("GET"!==T||e.headers||_(w,64)&&!_(t,32))&&(t|=64);var D,B,N,O,L=A.getResponse(e.setTelemetryHeader,e.content,e.requestHeaderDictionary,T,f,t,e.retryStatusCodes,d,e.includeResponseHeaders);return D=d,B=e.setTelemetryHeader,N=L,O={uri:D,setTelemetryHeader:B,initiationContext:{stack:MsPortalFx.isFeatureEnabled("fixajaxnames")&&MsPortalFx.getCurrentCallStack(),bladeInstance:null}},FxImpl.NetDiagnostics.noteAjaxCall({name:(0,r.nameNetworkCall)(O).commandName,promise:N}),L},t.batchMultiple=function(e){return __awaiter(this,void 0,void 0,(function(){var t,r,o,i,s,l,u,c,d,f;return __generator(this,(function(h){switch(h.label){case 0:if(!e.batchRequests.length)return[2,Q(null)];if(t=p?I:M,r=new Map,i=!(o=x!==b)||e.batchRequests.reduce((function(e,t){var n=t.uri;if(MsPortalFx.isUriAbsolute(n)){var r=new a.UriBuilder(n).getAuthority().toLowerCase();e=e&&[x,b].includes(r)}return e}),!0),s=e.batchRequests.map((function(e,t){var n=MsPortalFx.getUniqueId();r.set(n,t);var s=e.uri;if(o&&MsPortalFx.isUriAbsolute(s)){var l=new a.UriBuilder(s);i&&(s=[l.getScheme(),b,l.getRelativePath(),l.getOriginalQuery()].join(""))}return{url:s,httpMethod:e.httpMethod||"GET",content:e.content,name:n,requestHeaderDetails:{commandName:P((e.requestHeaderDetails||{}).commandName)},requestHeaderDictionary:e.requestHeaderDictionary}})),l=e.endpoint,!l||o&&l&&i&&new a.UriBuilder(l).getAuthority().toLowerCase()===x)l=i?(0,n.getEndpoints)().armBatch:new a.UriBuilder(FxImpl.internalEnv.fxArmEndpoint+(0,n.getArmBatchRelativePathAndApiVersion)()).toString();else if((FxImpl.internalEnv.blockUntrustedDomains||MsPortalFx.isFeatureEnabled("blockuntrusteddomains"))&&(u=new a.UriBuilder(l),!(c=u.getAuthority()).endsWith(x)&&!c.endsWith(x+":443")))return[2,Promise.reject("Unsupported domain ".concat(c," in batch call. Only ARM endpoints are supported in batch."))];return[4,t({isBackgroundTask:e.isBackgroundTask,setAuthorizationHeader:!0,setTelemetryHeader:P(e.telemetryHeader),uri:l},{requests:s})];case 1:return d=h.sent(),f=Array(e.batchRequests.length),((d||{}).responses||[]).forEach((function(t){t&&e.includeResponseHeaders&&(t.responseHeaders=new Headers(t.headers||{}));var n=r.get(null==t?void 0:t.name);MsPortalFx.isNullOrUndefined(n)||(f[n]=t)})),[2,MsPortalFx.extend2(d,{responses:f})]}}))}))}})),
define("Fx/Assets/ResourceRoutingType",["require","exports"],(function(e,t){var n;return function(e){!function(e){e[e.Default=0]="Default",e[e.Tenant=1]="Tenant",e[e.Extension=2]="Extension",e[e.ProviderProxy=3]="ProviderProxy"}(e.ResourceRoutingType||(e.ResourceRoutingType={}))}(n||(n={})),n})),
define("Fx/Assets",["require","exports","Fx/Assets/ResourceRoutingType"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceRoutingType=void 0,t.ResourceRoutingType=n.ResourceRoutingType})),
define("Fx/Composition/Selectable",["require","exports"],(function(e,t){return FxImpl.Composition.Selectable})),
define("Fx/Composition",["require","exports","Fx/Composition/Selectable","Fx/Composition/Selectable"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.PartReferences=t.BladeReferences=t.ClickableLink=t.PartReference=t.BladeReference=void 0,Object.defineProperty(t,"BladeReference",{enumerable:!0,get:function(){return r.BladeReference}}),t.PartReference=MsPortalFx.Composition.PartReference,t.ClickableLink=FxImpl.CompositionCore.ClickableLink;var o=window.fx.environment;function i(e,t){return{createReference:function(r){if(r){var o=r.marketplaceId,i=r.marketplaceOptions,a=r.assetType,s=r.telemetryId,l=a?{assetType:a,marketplaceId:o,telemetryId:s}:null;if(l||o||i||r.doesProvisioning)return new n.ProvisioningBladeReference(t,e,l||o||i,{onClosed:r.onClosed,parameters:r.parameters});if(r.supplyInitialData||r.supplyProviderConfig||r.receiveResult||r.editScopeAccessor)return new n.ParameterProviderBladeReference(t,e,r)}return new n.PdlBladeReference(t,e,r)}}}function a(e,t,r,o){return{createReference:function(i){return new n.MenuBladeReference(t,r,e,__assign(__assign({},i),{contentBladeReference:o}))}}}function s(e,n){return{createReference:function(r){var o=MsPortalFx.extend2(r&&r.options,{extensionName:e});return new t.PartReference(n,r&&r.parameters,o)}}}t.BladeReferences={forExtension:function(e){return{forBlade:function(t){return i(e,t)},forMenuBlade:function(t,n,r){return a(e,t,n,r)}}},forBlade:function(e){return i(o.extensionName,e)},forCreateAssetType:function(){return i("","")},forMarketplace:function(){return i("","")},forMenuBlade:function(e,t,n){return a(o.extensionName,e,t,n)},forResourceType:function(e){return{forBlade:function(t){return function(e,t){return{createReference:function(r){var o=e.replace(/\W/g,(function(t,n){return/\W/.test(e[n-1])?"":"_"})),i="__rt__".concat(o,"__").concat(t,"__dx");return new n.PdlBladeReference(i,"Microsoft_Azure_GeneratedExtension",r)}}}(e,t)}}}},t.PartReferences={forExtension:function(e){return{forPart:function(t){return s(e,t)}}},forPart:function(e){return s(o.extensionName,e)}}})),
define("Fx/Composition/ViewModelBase",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProxiedMember=void 0,t.ProxiedMember=function(e,t){}})),
define("FxInternal/Composition/CompositionViewModel",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CompositionViewModel=t.CompositionViewModelBase=t.createFrameworkPartViewModel=void 0;var n=MsPortalFx.Base,r=FxImpl.TelemetryContext;n.Diagnostics.createLog(e);function o(e){return"function"==typeof e}t.createFrameworkPartViewModel=function(){return{allowUiBlocking:ko.observable(!0),selectable:ko.observable(),prepareFirstAjaxTime:ko.observable(),ajaxTime:ko.observable(),preAjaxRpc:ko.observable(),interruptedParent:void 0,onInitializeAsyncTime:ko.observable(),registeredSelectables:ko.observable(),registeredSelectableOptions:ko.observable(),_revealContentCallCount:ko.observable(0),activeOpenBladeCommand:ko.observable(),updateConfigFn:ko.observable(),_onInputValuesUpdated:null,dialog:ko.observable(),elements:ko.observableArray(),initialMenuHeaderBlade:null,initialMenuContentBlade:null}};var i=function(){function e(e,t,n,r){this.content=ko.observable(),this.onInputsSetPromiseState=ko.observable(),this.role=r,this.internal=e,this.container=t,this.content(n||{})}return e.prototype.updatePartInputValues=function(e,t,n,i,a,s,l){var u=this,c=[],d=this.content(),p=this.container,f=function(e){var t,n;return e?Q.isPromise(e)?(t=1,n=Q(e).inspect().state):Q.isPromiseAlike(e)?(t=2,n=Q(e).inspect().state):(t=0,n="unknown"):(t=0,n="unknown"),u.onInputsSetPromiseState({type:t,state:n}),e};if(d&&o(d.onInputsSet)){i&&r.setContextValue(r.ContextType.CompositionItem,{id:i});try{var h=void 0;(h=d._msPortalFx_viewModelApiV2?MsPortalFx.tryImmediateResolve(Q(d),(function(n){return d=n,f(Q(n.onInputsSet(e,t,s,l)))})).finally((function(){})):!s&&f(d.onInputsSet(e,t)))&&o(h.then)&&c.push(h)}catch(e){c.push(Q.reject(e))}finally{i&&r.resetContextValue(r.ContextType.CompositionItem)}}if(this.container){var m=p.onInputsSetCallbacks.triggerCallbacks(e,t);m&&o(m.then)&&c.push(m)}return c.length>0?Promise.all(c):null},e}();t.CompositionViewModelBase=i;var a=function(e){function t(t,n,r){var o=e.call(this,{allowUiBlocking:ko.observable(!0),selectable:ko.observable()},t,n,r)||this;o.state=ko.observable(2);var i=null,a=t;a.selectable&&FxImpl.assignSelectable(a,a.selectable);return o.updatePartInputValues=function(t,n,r,a,s,l,u){i=null;var c,d=e.prototype.updatePartInputValues.call(o,t,n||{},r,a,s,l),p=0;return null!==d&&(p=2,c=Q(d).then((function(){(!i||i===c)&&o.state(0)}),(function(){(!i||i===c)&&o.state(1)})),i=c),o.state(p),i},o}return __extends(t,e),t.prototype.updatePartInputValues=function(e,t,n,r,o,i,a){},t}(i);t.CompositionViewModel=a})),
define("FxInternal/Composition/ContainerViewModel",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Dlg2=t.SelectableContainerViewModel=t.setClickContext=t.createClickContext=t.ContainerViewModel=t.verifyAllContainerViewModelDisposed=t.createOnInputsSetCallbacks=void 0;var n=FxImpl.Composition.Selectable,r=MsPortalFx.Resources.Strings.ViewModels.Container,o=MsPortalFx.isDevelopmentMode||MsPortalFx.isDiagnosticsEnabled,i=MsPortalFx.Base.Diagnostics.createLog(e),a=[n.PdlBladeReference,n.ProvisioningBladeReference],s=FxImpl.getErrorMap({badBladeReferenceType:"",messageMissing:"",observableInBladeParameters:""});function l(){var e=[],t=!1,n={add:function(n,r){e.includes(n)||e.push(n),r&&t&&n(null)},remove:function(t){var n=e.indexOf(t);n>=0&&e.splice(n,1)},triggerCallbacks:function(n,r){t=!0;var o=e.slice().map((function(e){try{return e(n,r)}catch(e){return Q.reject(e)}})).filter((function(e){return!!e}));return o.length>0?Promise.all(o):null},dispose:function(){e.splice(0,e.length)}};return n._callbacks=e,n}t.createOnInputsSetCallbacks=l;var u=0,c={};t.verifyAllContainerViewModelDisposed=function(){var e=MsPortalFx.forEachKey(c,(function(e,t,n){n.push("ContainerViewModel ("+n.length+") callstack:\n"+t)}),[]);e.length&&i.error("The following "+e.length+" ContainerViewModel are created but not disposed:\nThis indicates a Framework bug. Please open a Framework bug with following call stacks.\n"+e.join("\n"))};var d=function(){function e(){this._lifetime=new FxImpl.TriggerableLifetimeManager,this._id=u++,this._msPortalFxAnnounce=ko.observable(),this._msPortalFxNotice=ko.observable(),this._msPortalFxHandledError=ko.observable(),this.onInputsSetCallbacks=l(),this.helpContentUri=ko.observable(),this.notFoundMessage=ko.observable(),this.unauthorizedMessage=ko.observable();this.preview=ko.observable(!1),o&&(c[this._id]=FxImpl.Rpc.getCurrentCallStack())}return e.prototype.registerForDispose=function(e){return this._lifetime.registerForDispose(e),this},e.prototype.isDisposed=function(){return this._lifetime.isDisposed()},e.prototype.createChildLifetime=function(){return this._lifetime.createChildLifetime()},e.prototype.dispose=function(){var e=this._lifetime;e&&e.dispose();var t=this.onInputsSetCallbacks;t&&t.dispose(),o&&delete c[this._id]},e.prototype.announce=function(e){this._msPortalFxAnnounce.fxAwaitAndRun(this).then((function(t){t(e)}))},e.prototype.handledError=function(e){(!e||MsPortalFx.isObject(e)&&!e.message)&&s.messageMissing(),this._msPortalFxHandledError(e)},e.prototype.unauthorized=function(e){MsPortalFx.isNullOrUndefined(e)||!(MsPortalFx.isObject(e)&&MsPortalFx.isEmpty(e)||e.noticeTitle||e.noticeHeader||e.noticeDescription)?this.unauthorizedMessage(this.fixErrorMessage(e,r.unauthorizedText)):this.unauthorizedMessage(e)},e.prototype.notFound=function(e){this.notFoundMessage(this.fixErrorMessage(e,r.notFound))},e.prototype.enableNotice=function(e){this._msPortalFxNotice.peek()?i.error("Notice has been enabled. It cannot be enabled again."):this._msPortalFxNotice(e)},e.prototype.fixErrorMessage=function(e,t){return MsPortalFx.isNullOrWhiteSpace(e)?e=t:MsPortalFx.isObject(e)&&MsPortalFx.isNullOrWhiteSpace(e.message)&&(e.message=t),e},e}();function p(e,t,n,r,o,l){var u=FxImpl.shellInterface(e),c=u.requestOpenBlade()||u.requestOpenBlade.fxAwaitAndRun(e);function d(e,i,d,p,f){a.every((function(t){return!(e instanceof t)}))&&!FxImpl.Po.getMetadata(e)&&s.badBladeReferenceType();var h=e.options;if(g(h&&h.parameters,50)&&s.observableInBladeParameters(),h&&h.parameters)try{h.parameters=ko.unwrap(h.parameters)}catch(e){}return f=f||MsPortalFx.getUniqueId(),u.currentBladeReference(e),function(e,i,a,s,u){return __awaiter(this,void 0,void 0,(function(){var d,p;return __generator(this,(function(f){switch(f.label){case 0:return d=i?1:0,d|=s&&s.asNewJourney?8:0,d|=s&&s.asSubJourney?2:0,d|=n?16:0,d|=s&&s.inPlace||n&&i?4:0,Q.isPromiseAlike(c)?[4,c]:[3,2];case 1:c=f.sent(),f.label=2;case 2:return p={timestamp:a,bladeReference:MsPortalFx.clone(e,!0,!0),reason:3,selectedItem:r,controlMetadata:o,flags:d,operationId:u,telemetryName:l},[4,c(t,p)];case 3:return[2,!!f.sent().success]}}))}))}(e,i,d,p,f)}function p(e,r,o,a,s){return __awaiter(this,void 0,void 0,(function(){var l,u,p,f,h;return __generator(this,(function(m){switch(m.label){case 0:return l=MsPortalFx.getUniqueId(),u=o?1:0,u|=s&&s.asNewJourney?8:0,u|=s&&s.asSubJourney?2:0,u|=n?4:0,Q.isPromiseAlike(c)?[4,c]:[3,2];case 1:c=m.sent(),m.label=2;case 2:c(t,{timestamp:a,bladeReference:void 0,reason:4,flags:u,operationId:l,initialWidth:s&&s.initialWidth}),m.label=3;case 3:return m.trys.push([3,5,,6]),[4,r];case 4:return f=m.sent(),[3,6];case 5:return h=m.sent(),p=new MsPortalFx.Errors.Error({message:"The extension provided promise to container.".concat(e," has failed."),innerErrors:h}),i.error(p),[2,!1];case 6:return[2,d(f,o,a,s,l)]}}))}))}return{openBlade:function(e,t){return Q(d(e,!1,Date.now(),t))},openBladeAsync:function(e,t){return Q(p("openBladeAsync",e,!1,Date.now(),t))},openContextPane:function(e){return Q(d(e,!0,Date.now()))},openContextPaneAsync:function(e){return Q(p("openContextPaneAsync",e,!0,Date.now()))}}}t.ContainerViewModel=d,t.createClickContext=p;var f="_msPortalFxOpenBladeSelectable",h="_clickContext";function m(e,t){var n=e[f],r=e[h];return r||p(e,n,t)}t.setClickContext=function(e,t){e[h]=t};var v=function(e){function t(t){var r=e.call(this)||this;r.configureSelectable=void 0,r[f]=new n.Selectable2({supplyBladeReference:MsPortalFx.noop});var o=t.selectable||null;return FxImpl.initializeSelectableViewModel(r,o),r.selectable=o,r.flags=t.flags||0,r}return __extends(t,e),t.prototype.openBlade=function(e,t){return m(this,!!(1&this.flags)).openBlade(e,t)},t.prototype.openBladeAsync=function(e,t){return m(this,!!(1&this.flags)).openBladeAsync(e,t)},t.prototype.openContextPane=function(e){return m(this,!!(1&this.flags)).openContextPane(e)},t.prototype.openContextPaneAsync=function(e){return m(this,!!(1&this.flags)).openContextPaneAsync(e)},t}(d);function g(e,t){return t&&MsPortalFx.isObject(e)&&Object.keys(e).some((function(n){return ko.isSubscribable(e[n])||g(e[n],t-1)}))}t.SelectableContainerViewModel=v,t.Dlg2=99})),
define("FxInternal/Composition/Part",["require","exports","FxInternal/Composition/ContainerViewModel","FxInternal/Composition/CompositionViewModel","Fx"],(function(e,t,n,r,o){Object.defineProperty(t,"__esModule",{value:!0}),t.partHeaderEnabledFeatureName=t.composePartViewModel=t.Part=t.PartContainer=void 0;var i=MsPortalFx.Base,a=i.Diagnostics,s=a.Telemetry.Context,l=MsPortalFx.ViewModels,u=FxImpl.Composition,c=FxImpl.NetDiagnostics,d=l.Internal,p=MsPortalFx.clone,f=i.Constants,h=f.BladeParameterNames,m=MsPortalFx.Errors,v=FxImpl.shellInterface,g=m.isInstanceOfErrorType,y="",b=MsPortalFx.Resources.Strings,x=b.ViewModels.Container,C={containerViewModelMissing:y,dashboardIdMissing:y,enableNoticeInvoked:y,identitySelectableMissing:y,selectableRegistered:y,selectableInstanceRegistered:y},_=FxImpl.getErrorMap(C);function w(e){return Math.min(Math.max(e,1),25)}var P=function(){function e(){}return e.prototype.navigateToDashboard=function(e){return e||_.dashboardIdMissing(),Q(l.navigateToDashboardEndPoint.invoke(FxImpl.Rpc.client,f.Shell,["Viewmodels.Part.DashboardManagementImpl",e]))},e}();function E(e,t,n){var r=v(e).closeBlade;return Q(r.fxAwaitAndRun(e)).then((function(e){return e(t,n)}))}var F=function(e){function t(t,n){var r=e.call(this,n)||this;if(r.isSelectable=ko.observable(!0),r.clickableLink=null,r.failureMessage=ko.observable(),r.noDataMessage=ko.observable(),r.height=ko.observable(0),r.width=ko.observable(0),r.size=ko.observable(),r.mutate=ko.observable(),r.menu=null,r._partState=null,r.dashboard=new P,r.partState=r._partState=ko.observable(MsPortalFx.Parts.PartState.Ready),n.clickableLink&&(r.clickableLink=n.clickableLink),r.partTitle=ko.observable(n.partTitle||null),r.ariaLabel=ko.observable(n.partTitle||null),r.assetName=ko.observable(n.assetName||null),r.contentState=ko.observable(0),r.registerForDispose(r.operations=new l.PartOperationList(r)),r._registeredSelectables=t.registeredSelectables,r._registeredSelectableOptions=t.registeredSelectableOptions,t._onInputValuesUpdated=function(e,t,n){var o={parameters:{values:MsPortalFx.forEachKey(e,(function(e,t,n){d.isBladeCallerInput(e)||e===h.EditScopeId||(n[e]=t)}),{}),metadata:n||{}},settings:t&&t.content||{}};r._config.setValues(o)},r._internalViewModel=t,64&n.viewModelType)1&n.flags?r.bladeLocation=2:4&n.flags?r.bladeLocation=1:r.bladeLocation=0;else{r.location=n.location||0;var o={enableForExtensionRenderedHeader:function(e,t){if(!r.operations.inProgress())throw new Error("'updatableHeader.enableForExtensionRenderedHeader' API must be called during 'onInputsSet'");o.options(t||{}),o.updatedHeader.subscribe(r,e)},updatedHeader:ko.observable(),options:ko.observable()};r.updatableHeader=o}var i=v(r,{resize:ko.observable(null),selectables:ko.observable({}),closeBlade:ko.observable(null),menu:ko.observable(null),triggerValidation:ko.observable(),suppressAlert:ko.observable(!1),configureAlert:ko.observable(),setFocus:ko.observable(),openDialog:ko.observable(),print:ko.observable(),executeInCloudShell:ko.observable(),requestOpenBlade:ko.observable(),toggleFullScreen:ko.observable(),currentBladeReference:ko.observable(),partCommands:ko.observable(null),openHelpPane:ko.observable(null)});r.contentSize=ko.observable({height:0,width:0}),r.size.subscribe(r,(function(e){MsPortalFx.deepEquals(r.contentSize(),e.dimensions)||r.contentSize(e.dimensions)}));var a;r._config=new u.Configuration(n||{},(function(e,n){var o=e.parameters,i={inputs:o&&o.values,settings:e.settings,inputsMetadata:o&&o.metadata};return t.updateConfigFn.fxAwaitAndRun(r).then((function(e){return e(i,n)}))})),2&n.flags&&(r.onLockedBlade={closeCurrentBlade:function(e){return r.closeCurrentBlade(e)}});var s=ko.observable(0);if(r.form={validationState:s,dirty:ko.observable(!1),triggerValidation:function(e,t){return void 0===e&&(e=!1),void 0===t&&(t=!1),r._internal_noLazyRender&&r._internal_noLazyRender(!0),Q(i.triggerValidation.fxAwaitAndRun(r)).then((function(n){return Q(n(e,t))}))},configureAlertOnClose:function(e){ko.isObservable(e)?(a&&a.dispose(),a=r.createChildLifetime(),e.subscribeAndRun(a,i.configureAlert)):i.suppressAlert(1===e)}},4&n.flags){var c=function(e){return(e=e||{}).inPlace=!0,e},p={titleSuffix:ko.observable(),subtitleSuffix:ko.observable(),switchItem:function(e,t){i.menu.fxOnceAndRun(r,(function(n){n.switchItem(e,t)}))},internalGetAndSelectItem:function(e){return new Promise((function(t){i.menu.fxOnceAndRun(r,(function(n){t(n.internalGetAndSelectItem(e))}))}))},openBlade:function(e,t){return r.openBlade(e,c(t))},openBladeAsync:function(e,t){return r.openBladeAsync(e,c(t))}};r.menu=p}return r}return __extends(t,e),t.prototype.resizeTo=function(e,t){v(this).resize({width:w(e),height:w(t)})},t.prototype.setFocus=function(e){return Q(v(this).setFocus.fxAwaitAndRun(this)).then((function(t){return t(e)}))},t.prototype.print=function(){return v(this).print.fxAwaitAndRun(this).then((function(e){return e()}))},t.prototype.executeInCloudShell=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="string"==typeof e?{cliType:e}:e;return v(this).executeInCloudShell.fxAwaitAndRun(this).then((function(e){return e.apply(void 0,__spreadArray([r],t,!1))}))},t.prototype.toggleFullScreen=function(){return v(this).toggleFullScreen.fxAwaitAndRun(this).then((function(e){return e()}))},t.prototype.fail=function(e){this.failureMessage(this.fixErrorMessage(e,x.unexpectedError)),this._partState(MsPortalFx.Parts.PartState.Failed)},t.prototype.recover=function(){this._partState()===MsPortalFx.Parts.PartState.Failed&&(this.failureMessage(null),this._partState(MsPortalFx.Parts.PartState.Ready)),this.unauthorizedMessage.peek()&&this.unauthorizedMessage(null)},t.prototype.revealContent=function(){var e=this._internalViewModel._revealContentCallCount();this._internalViewModel._revealContentCallCount(e+1)},t.prototype.enableNotice=function(e){_.enableNoticeInvoked()},t.prototype.registerSelectable=function(e,t,n,r){var o=this,i=this._registeredSelectables()||{},a=this._registeredSelectableOptions,s=a()||{};t&&n||_.identitySelectableMissing(),i.hasOwnProperty(t)&&_.selectableRegistered(t),Object.keys(i).map((function(e){return i[e]})).some((function(e){return n===e}))&&_.selectableInstanceRegistered(),r&&((s=p(s,!1))[t]=r,a(s)),(i=p(i,!1))[t]=n,this._registeredSelectables(i),e.registerForDispose((function(){var e=p(o._registeredSelectables(),!1),n=p(a(),!1);delete e[t],delete n[t],o._registeredSelectables(e),a(n)}))},t.prototype.activateConfiguration=function(e){return this._config},t.prototype.closeCurrentBlade=function(e){if(e){"object"==typeof e&&(e=MsPortalFx.clone(e,!0,!0));var t=v(this).configureAlert;t&&t()&&t().alertOnDirtyWhenReturningData||this.form.configureAlertOnClose(1)}return E(this,0,e)},t.prototype.closeChildBlade=function(){return E(this,1)},t.prototype.closeContextBlade=function(){return E(this,2)},t.prototype.openDialog=function(e){var t=this;if(e.dialogRef){var r=v(e,{closeCallback:ko.observable()});e.dialogRef.value={close:function(e){r.closeCallback.fxAwaitAndRun(t).then((function(t){t(e)}))}}}return Q(v(this).openDialog.fxAwaitAndRun(this)).then((function(t){return t(MsPortalFx.extend({type:n.Dlg2,title:void 0},e,!0),e.target)}))},t.prototype.openHelpPane=function(e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,v(this).openHelpPane.fxAwaitAndRun(this)];case 1:return[4,t.sent()(e)];case 2:return t.sent(),[2]}}))}))},t}(n.SelectableContainerViewModel);t.PartContainer=F;var I=function(e){function t(t,n,r,o,i,a,s){var l=this;n||_.containerViewModelMissing(),(l=e.call(this,t,n,r,a)||this)._logArea=i,l._waitForExtensionIdle=s,n.selectable&&FxImpl.assignSelectable(n,n.selectable),l._hadRevealedContentAtConstruction=t._revealContentCallCount()>0;var u=l.container,c=l._initLoadingDefer=Q.defer();return u.registerForDispose((function(){Q.isPending(c.promise)&&c.reject(new MsPortalFx.Errors.DisposedCanceledError)})),l._onInputsSetPromise=c.promise,u.operations.add(l._onInputsSetPromise,{blockUi:!l._hadRevealedContentAtConstruction}),t._revealContentCallCount.subscribe(n,l._onRevealContent,l),l}return __extends(t,e),t.prototype.updatePartInputValues=function(t,n,r,i,l,u,d){var p,h=this,v=s.getBladeContext(),y=null==v?void 0:v.instanceId;if(y){var C=MsPortalFx.isFeatureEnabled("rpctelemetry")?(p=FxImpl.Rpc.client.record(),o.delay(5e3).then((function(){return C(!1)})),function(e){if(p){var t=p();p=null,e&&h.internal.preAjaxRpc(t)}}):null,_=MsPortalFx.getEnvironmentValue("extensionName")!==f.Shell?c.listenForBlade(v,(function(){var e;if(!h.container.isDisposed()){var t=h.internal.prepareFirstAjaxTime;if(!t()){var n=null===(e=v.id)||void 0===e?void 0:e.toLowerCase(),r=fx.getTimestamp();h.internal.onInitializeStartMark&&n&&performance.measure("ExtBladePrepareFirstAjax: ".concat(n),h.internal.onInitializeStartMark),h.internal.onInitializeStart&&t(r-h.internal.onInitializeStart);var o=h._waitForExtensionIdle;if(o){var i=FxImpl.features.isNativePerf&&n&&"ExtBladeAjax: ".concat(n);i&&performance.mark(i),o(h.container,y).then((function(e){if(e){var t=e.lastAjaxCompleteTime,n=e.lastAjaxCompleteMark;h.internal.ajaxTime(t-r),i&&performance.measure(i,i,n),null==_||_.onSettled()}}))}null==C||C(!0)}}})):null;this.container.registerForDispose((function(){null==_||_.onDisposed(),_=null}))}this.internal._onInputValuesUpdated&&this.internal._onInputValuesUpdated(t,n,l);var w=this._onInputsSetPromise,P=this._onInputsSetPromise=null,E=this.internal._revealContentCallCount(),F=e.prototype.updatePartInputValues.call(this,t,n||{},r,i,l,u,d);if(null!==F){P=this._onInputsSetPromise=Q(F).then((function(){MsPortalFx.isNullOrUndefined(h.container.unauthorizedMessage())&&((!h._onInputsSetPromise||h._onInputsSetPromise===P)&&h.container.recover())}),(function(e){var t,n=h.container;if(!n.isDisposed()&&((!h._onInputsSetPromise||h._onInputsSetPromise===P)&&(!e||!e.handled))){var r,o,i=g(e,m.Error),s=i&&g(e,m.DataError),l=i&&g(e,m.NotFoundDataError),u=i&&g(e,m.UnauthorizedDataError),c=i&&g(e,m.AjaxError),d=e&&!MsPortalFx.isNullOrUndefined(e.httpStatusCode),p=e&&!MsPortalFx.isNullOrUndefined(e.content),f=i&&g(e,m.CanceledError);c&&e.jqXHR?r=FxImpl.Azure.buildSimplifiedError(e.jqXHR):d||p?r=FxImpl.Azure.buildSimplifiedError(e):s&&e.errorData&&(r=FxImpl.Azure.buildSimplifiedError(e.errorData));var v=r&&r.status;o=403===v||410===v||404===v||401===v||0===v||l||u||f?1:2;var y="string"==typeof e?e:e&&e.message;if(r){var C={message:r.message,code:r.status,error:e},_=C.message===b.Azure.unknownErrorOccured;switch(u&&_&&(C.message=x.unauthorizedText),l&&_&&(C.message=x.notFound),0===v&&(C.message=x.networkError,C.details=x.networkErrorDetails),r.status){case 403:case 401:_&&(C.message=x.unauthorizedText),n.unauthorized(C);break;case 410:case 404:_&&(C.message=x.notFound),n.notFound(C);break;default:n.fail(C)}}else u?n.unauthorized({message:y}):l?n.notFound({message:y}):f||n.fail({message:y,error:e});var w=[e];r&&w.push(r);var E,F=64&h.role?"blade":"part";E=1024&h.role?"ReactView failed to load.":2048&h.role?"Dx view failed to load.":512&h.role?"Az view failed to load.":4096&h.role?"The promise returned from the ".concat(F,"'s onInitialize method was rejected.(id: ").concat(FxImpl.Po.getMetadataId(h),")"):"The promise returned from the ".concat(F,"'s onInputsSet method was rejected.(id: ").concat(FxImpl.Po.getMetadataId(h),")"),E+="\r\n".concat(r?r.message:y),(t=a.Log).writeEntry.apply(t,__spreadArray([o,h._logArea,E],w,!1))}}));var I=this._hadRevealedContentAtConstruction||this.internal._revealContentCallCount()>E;this.container.operations.add(P,{blockUi:!I})}return this._removePromiseFromOps(w),P},t.prototype._removePromiseFromOps=function(e){if(e){this.container.operations.remove(e);var t=this._initLoadingDefer;t&&e===t.promise&&(t.resolve(),this._initLoadingDefer=null)}},t.prototype.updatePartForUnauthorized=function(){var e=this._onInputsSetPromise;this._onInputsSetPromise=null,this._removePromiseFromOps(e)},t.prototype.invokeClickHandler=function(e,t,r,o,i,a,s,l){if(r){var u=this.container,c=(0,n.createClickContext)(this.container,o,!!(1&u.flags),a,s,l),d=3===e?[a]:[{target:i}];(0,n.setClickContext)(this.container,c);try{r.apply(t,d)}finally{(0,n.setClickContext)(this.container,void 0)}}},t.prototype._onRevealContent=function(){var e=this._onInputsSetPromise,t=e&&this.container.operations.getOptionsForOperation(e);t&&t.blockUi&&this.container.operations.update(e,{blockUi:!1})},t}(r.CompositionViewModelBase);t.Part=I,t.composePartViewModel=function(e,t){var n=(0,r.createFrameworkPartViewModel)();(t=t||{}).logArea=t.logArea||"MsPortalFx/ViewModels/Composition/ViewModels.Composition.Part";var o={selectable:t.createSelectable?l.Part.createSelectableViewModel(t.initialState):void 0,location:t.location,flags:t.flags,viewModelType:t.type||129},i=new F(n,o);return new I(n,i,e(i),t.initialState,t.logArea,(null==t?void 0:t.type)||129)},t.partHeaderEnabledFeatureName="dashboardpartsettings"})),
define("Fx/DependencyInjection",["require","exports","Fx/DependencyInjectionCore","Fx/Diagnostics","FxInternal/Composition/CompositionViewModel","FxInternal/Composition/Part","FxInternal/Rpc","Fx/DependencyInjectionCore"],(function(e,t,n,r,o,i,a,s){Object.defineProperty(t,"__esModule",{value:!0}),MsPortalFx.ViewModels.PartContainer=i.PartContainer,FxImpl.ViewModels.createFrameworkPartViewModel=o.createFrameworkPartViewModel,__exportStar(s,t),(0,n.Value)()(FxImpl.Rpc.Client),n.container.set(FxImpl.Rpc.Client,FxImpl.Rpc.client),n.container.set(a.Client,FxImpl.Rpc.client),n.container.set(FxImpl.Features,FxImpl.features),n.container.set(r.Logging,FxImpl.Base.Diagnostics.loggingDiValue);var l=MsPortalFx.ViewModels;(0,n.Value)("viewModel")(l.CommandContainerContract),(0,n.Value)("viewModel")(l.ContainerContract),(0,n.Value)("viewModel")(l.PartContainerContract)})),
define("Fx/Composition/Blade",["require","exports","Fx/DependencyInjection","Fx/Composition/ViewModelBase"],(function(e,t,n,r){var o;return function(t){t.Decorator=function(e){return function(t){n.Class("viewModel")(t);var r=t._fx||(t._fx={});r.itemType=0,r.options=e}};var o=function(){function t(){}return t=__decorate([__metadata("fx:diagnostics",[e,"Container"]),n.Value("viewModel")],t)}();t.Container=o,function(e){e.Decorator=function(){return function(e){(e._fx||(e._fx={})).rebindable=!0}}}(t.Rebindable||(t.Rebindable={})),function(e){e.Decorator=function(e){return function(t){(t._fx||(t._fx={})).configurableOptions=e||{}}}}(t.Configurable||(t.Configurable={})),function(e){e.Decorator=function(){return function(e){}}}(t.ReturnsData||(t.ReturnsData={})),function(e){e.Decorator=function(){return function(e){}}}(t.Pinnable||(t.Pinnable={})),function(e){e.Decorator=function(e){return function(e){(e._fx||(e._fx={})).doesProvisioning=!0}}}(t.DoesProvisioning||(t.DoesProvisioning={})),function(e){e.Decorator=function(e){return function(e){}}}(t.LegacyFeatures||(t.LegacyFeatures={})),function(e){e.Decorator=function(e){return function(e){}}}(t.ForContextPane||(t.ForContextPane={})),function(e){e.Decorator=function(e){return function(e){}}}(t.ReplacesOldBlade||(t.ReplacesOldBlade={})),function(e){e.Decorator=function(e){return function(t){Reflect.defineMetadata("fx:composition:model",e,t)}}}(t.InjectableModel||(t.InjectableModel={})),t.ProxiedMember=r.ProxiedMember}(o||(o={})),o})),
define("Fx/Composition/ButtonPart",["require","exports","Fx/DependencyInjection"],(function(e,t,n){var r;return function(t){t.Decorator=function(e){return function(t){n.Class("viewModel")(t);var r=t._fx||(t._fx={});r.itemType=4,r.options=e}};var r=function(){function t(){}return t=__decorate([__metadata("fx:diagnostics",[e,"Container"]),n.Value("viewModel")],t)}();t.Container=r,function(e){e.Decorator=function(){return function(e){(e._fx||(e._fx={})).rebindable=!0}}}(t.Rebindable||(t.Rebindable={})),function(e){e.Decorator=function(e){return function(e){}}}(t.ReplacesOldPart||(t.ReplacesOldPart={})),function(e){e.Decorator=function(e){return function(t){Reflect.defineMetadata("fx:composition:model",e,t)}}}(t.InjectableModel||(t.InjectableModel={})),t.UpdatableHeader||(t.UpdatableHeader={})}(r||(r={})),r})),
define("Fx/Composition/DashboardFilters",["require","exports"],(function(e,t){var n;return function(e){!function(e){e.filterId="MsPortalFx_TimeRange"}(e.TimeRangeFilter||(e.TimeRangeFilter={}));var t=function(){};e.FilterDefinition=t;var n,r=function(e){function t(t,n){var r=e.call(this)||this;return r.kind=t,r.operators=n,r}return __extends(t,e),t}(t),o=function(e){function t(t,n,r,o){var i=e.call(this,r,o)||this;return i.filterId=t,i.displayText=n,i}return __extends(t,e),t}(r);!function(e){function t(e){var t=e.operator;return"number"==typeof t&&(0===t||1===t)}e.isEqualityFilterModel=t,e.isSubstringFilterModel=function(e){return!t(e)},e.createDefinition=function(e){return new n(e)};var n=function(e){function t(t){var n=this,r=t.filterId,o=t.displayText,i=t.operators;return(n=e.call(this,r,o,1,i)||this).getFilterValues=t.getFilterValues,n}return __extends(t,e),t}(o)}(n=e.EqualityFilter||(e.EqualityFilter={})),function(e){function t(e){return n.isEqualityFilterModel(e)}e.isEqualityFilterModel=t,e.isSubstringFilterModel=function(e){return!t(e)},e.createDefinition=function(e){return new o(e)},e.filterId="MsPortalFx_Subscription";var o=function(e){function t(t){var n=e.call(this,2,t.operators)||this;return n.getSubscriptionIds=t.getSubscriptionIds,n}return __extends(t,e),t}(r)}(e.SubscriptionFilter||(e.SubscriptionFilter={})),function(e){function t(e){return n.isEqualityFilterModel(e)}e.isEqualityFilterModel=t,e.isSubstringFilterModel=function(e){return!t(e)},e.createDefinition=function(e){return new o(e)},e.filterId="MsPortalFx_Location";var o=function(e){function t(t){var n=e.call(this,3,t.operators)||this;return n.getLocations=t.getLocations,n}return __extends(t,e),t}(r)}(e.LocationFilter||(e.LocationFilter={})),function(e){function t(e){return n.isEqualityFilterModel(e)}e.isEqualityFilterModel=t,e.isSubstringFilterModel=function(e){return!t(e)},e.createDefinition=function(e){return new o(e)},e.filterId="MsPortalFx_ResourceGroup";var o=function(e){function t(t){var n=e.call(this,5,t.operators)||this;return n.getResourceGroupIds=t.getResourceGroupIds,n}return __extends(t,e),t}(r)}(e.ResourceGroupFilter||(e.ResourceGroupFilter={})),function(e){function t(e){return n.isEqualityFilterModel(e)}e.isEqualityFilterModel=t,e.isSubstringFilterModel=function(e){return!t(e)},e.createDefinition=function(e){return new o(e)},e.filterId="MsPortalFx_ResourceType";var o=function(e){function t(t){var n=e.call(this,4,t.operators)||this;return n.getResourceTypes=t.getResourceTypes,n}return __extends(t,e),t}(r)}(e.ResourceTypeFilter||(e.ResourceTypeFilter={}))}(n||(n={})),n})),
define("Fx/Composition/FramePart",["require","exports","Fx/DependencyInjection"],(function(e,t,n){var r;return function(t){function r(e){return"onReceiveMessage"in e}t.Decorator=function(e){return function(t){n.Class("viewModel")(t);var r=t._fx||(t._fx={});r.itemType=5,r.options=e}};var o=function(){function t(){}return t=__decorate([__metadata("fx:diagnostics",[e,"Container"]),n.Value("viewModel")],t)}();t.Container=o,function(e){e.Decorator=function(){return function(e){(e._fx||(e._fx={})).rebindable=!0}}}(t.Rebindable||(t.Rebindable={})),function(e){e.Decorator=function(e){return function(t){(t._fx||(t._fx={})).configurableOptions=e||{}}}}(t.Configurable||(t.Configurable={})),function(e){e.Decorator=function(e){return function(e){}}}(t.ReplacesOldPart||(t.ReplacesOldPart={})),t.signature="FxFramePart",t.revealContentMessageKind="revealcontent",t.initializationCompleteMessageKind="initializationcomplete",t.frameIsIdleMessageKind="frameidle",t.frameIsBusyMessageKind="framebusy",t.createViewModel=function(e,t){if(!t.onReceiveMessage)throw new Error("onReceiveMessage callback must be set.");return new s(e,t)};var i=function(){function e(e,n){var o=this;this._handlers={};var i=n.signature||t.signature,a=[];this.src=n.src,this._postMessage=function(e,t){a.push({signature:i,kind:e,data:t})},this._msPortalFxData={postMessage:ko.observable(),receiveMessage:ko.observable(),isFrameReady:ko.observable(!1),signature:i,isV2Options:r(n)};var s=this._msPortalFxData;s.isFrameReady.subscribe(e,(function(e){if(e&&a){for(o._postMessage=function(e,t){s.postMessage({signature:i,kind:e,data:t})};a.length;)s.postMessage(a.shift());a=null}})),s.receiveMessage.subscribe(e,(function(e){r(n)&&e&&e.data&&n.onReceiveMessage(e.data),(o._handlers[e.kind]||[]).slice().forEach((function(t){t(e.data)}))}));var l=function(){e.revealContent(),o.off(t.revealContentMessageKind,l)};this.on(t.revealContentMessageKind,l);var u=Q.defer();this._readyPromise=u.promise;var c=function(e){var n=e&&e.errorMessage;n?u.reject(n):u.resolve(),o.off(t.initializationCompleteMessageKind,c)};this.on(t.initializationCompleteMessageKind,c)}return e.prototype.waitForFrameReady=function(){return Q(this._readyPromise)},e.prototype.on=function(e,t){(this._handlers[e]=this._handlers[e]||[]).push(t)},e.prototype.off=function(e,t){MsPortalFx.remove(this._handlers[e]||[],t)},e}();t.ViewModelBase=i;var a=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype.postMessage=function(e,t){this._postMessage(e,t)},t}(i);t.ViewModel=a;var s=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype.postMessage=function(e){this._postMessage(null,e)},t}(i);!function(e){e.Decorator=function(){return function(e){(e._fx||(e._fx={})).filterable=!0}}}(t.Filterable||(t.Filterable={})),function(e){e.Decorator=function(e){return function(t){Reflect.defineMetadata("fx:composition:model",e,t)}}}(t.InjectableModel||(t.InjectableModel={})),t.UpdatableHeader||(t.UpdatableHeader={})}(r||(r={})),r})),
define("Fx/Composition/FrameBlade",["require","exports","Fx/DependencyInjection","Fx/Composition/FramePart"],(function(e,t,n,r){var o;return function(t){var o=MsPortalFx.noop;t.Decorator=function(e){return function(t){n.Class("viewModel")(t);var r=t._fx||(t._fx={});r.itemType=1,r.options=e}};var i=function(){function t(){}return t=__decorate([__metadata("fx:diagnostics",[e,"Container"]),n.Value("viewModel")],t)}();t.Container=i,function(e){e.Decorator=function(){return function(e){(e._fx||(e._fx={})).rebindable=!0}}}(t.Rebindable||(t.Rebindable={})),function(e){e.Decorator=function(e){return function(t){(t._fx||(t._fx={})).configurableOptions=e||{}}}}(t.Configurable||(t.Configurable={})),function(e){e.Decorator=function(){return o}}(t.ReturnsData||(t.ReturnsData={})),function(e){e.Decorator=function(){return o}}(t.Pinnable||(t.Pinnable={})),function(e){e.Decorator=function(e){return function(e){(e._fx||(e._fx={})).doesProvisioning=!0}}}(t.DoesProvisioning||(t.DoesProvisioning={})),function(e){e.Decorator=function(e){return o}}(t.LegacyFeatures||(t.LegacyFeatures={})),function(e){e.Decorator=function(e){return o}}(t.ForContextPane||(t.ForContextPane={}));var a=function(e){function t(t,n){return e.call(this,t,MsPortalFx.extend2(n,{signature:"FxFrameBlade"}))||this}return __extends(t,e),t}(r.ViewModel);t.ViewModel=a,t.createViewModel=function(e,t){return r.createViewModel(e,MsPortalFx.extend2(t,{signature:"FxFrameBlade"}))},function(e){e.Decorator=function(e){return function(e){}}}(t.ReplacesOldBlade||(t.ReplacesOldBlade={})),function(e){e.Decorator=function(e){return function(t){Reflect.defineMetadata("fx:composition:model",e,t)}}}(t.InjectableModel||(t.InjectableModel={}))}(o||(o={})),o})),
define("FxInternal/Composition/MenuBlade",["require","exports"],(function(e,t){function n(e,t){return e._internal_initialMenuItem=t,e}Object.defineProperty(t,"__esModule",{value:!0}),t.setInitialMenuItem=t.claimInitialMenuItem=void 0,t.claimInitialMenuItem=function(e){var t=e._internal_initialMenuItem;return t&&n(e,void 0),t},t.setInitialMenuItem=n})),
define("FxInternal/Controls/Menu",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setInternal=t.getInternal=void 0,t.getInternal=function(e){return e},t.setInternal=function(e,t){return MsPortalFx.extend(e,t)}})),
define("Fx/Controls/Menu",["require","exports","FxInternal/Composition/MenuBlade","FxInternal/Controls/Menu","Fx/Composition/Selectable"],(function(e,t,n,r,o){Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModel=t.SortFunction=void 0;var i,a=FxImpl.Composition.Selectable.Selectable2,s=MsPortalFx.ViewModels.Controls;!function(e){e[e.Default=0]="Default",e[e.DateTime=1]="DateTime",e[e.SupportFirst=9999]="SupportFirst"}(i||(t.SortFunction=i={}));var l=function(e){function t(t,i){var s=e.call(this,t)||this;s.groups=ko.observableArray(),s.showSearch=!0,s.controlType=115,s.groupSortFunction=i;var l,u,c,d,p,f,h=Q.defer(),m=s._msPortalFxData={items:ko.observableArray(),selectableMap:ko.observable(),options:ko.observable(),overviewPromise:h.promise,menuDeepLink:ko.observable(),storageKey:ko.observable()},v=m.items,g=m.selectableMap,y=m.options,b=s._allSelectableMap=new Map,x=function(){l=function(e){return e},u=function(){return Q()},c=void 0,d=void 0,p=void 0,(0,r.setInternal)(s,{getInitialItemId:null,resolveInitialItem:null})};function C(e){if(b.has(e))return b.get(e);var t=new a(l(e));return b.set(e,t),t}function _(e,t,n){return function(){var r,i=null===(r=n||y())||void 0===r?void 0:r.overrideTabBlade;return i?i(e,t):new o.MenuBladeReference("HostedTabMenuBlade",e.id,"HubsExtension",{parameters:{menuId:t,menuItems:e.tabItems.map((function(e){return{id:e.id,displayText:e.displayText}}))}})}}x();var w=new Map;var P=new Map;function E(e){if(P.has(e))return P.get(e);var t=MsPortalFx.clone(e,!1);return P.set(e,t),t}function F(e,t,n){var r;if((null===(r=e.tabItems)||void 0===r?void 0:r.length)>0){var o=[].concat(e.keywords),i=[];e.tabItems.forEach((function(r){var a=ko.unwrap(r.displayText);o.push(a),o.push(r.keywords),n.push(a),n.push(r.keywords),t[r.id]=function(e,t){if(w.has(t))return w.get(t);var n={id:t.id,displayText:t.displayText,icon:e.icon};n.supplyBladeReference=_(e,t.id);var r=C(n);return w.set(t,r),r}(e,r);var s=E(r);s.icon=e.icon,i.push(s)}));var a=E(e);return delete a.supplyBladeReferenceAsync,a.supplyBladeReference=_(e,e.tabItems[0].id),a.tabItems=i,a.keywords=o,a}return e}function I(e,t){return t[(e=F(e,t,[ko.unwrap(e.displayText)].concat(e.keywords))).id]=C(e),e}s.groups.subscribe(t,(function(e){var t={},n=MsPortalFx.mapMany(e,(function(e){return e.items.map((function(n){return function(e,n){var r=e.id;if(!r)throw new Error("Invalid item. No id specified. Item: '".concat(ko.toJSON(e),"'."));if(t[r])throw new Error("Multiple items specified with the same id '".concat(r,"'."));var o=[ko.unwrap(e.displayText),ko.unwrap(n.displayText)].concat(e.keywords).concat(n.keywords);e=F(e,t,o);var i=o.filter((function(e){return!!e})).join(" "),a=$.extend({group:n.displayText,groupId:n.id,aggregatedKeywords:i},e);return t[r]=C(e),a}(n,e)}))})),r=y(),o=r&&r.overview;o&&I(o,t),g(t),v(n)})),s.setOptions=function(e){var t=e.overview;if(t){var n=MsPortalFx.clone(g()),r=I(t,n);h.resolve(r),g(n),e.overview=r}y(e)};var M=(0,n.claimInitialMenuItem)(t);if(M){var S=function(e,t,n,r){return c=e,d=t,p=n,M.setBladeReferencePromise(Q(t),Q(n),r)};(0,r.setInternal)(s,{getInitialItemId:function(){return M.id},resolveInitialItem:S}),u=function(e,t){var n,r,o=Q(),i=function(e){return e.supplyBladeReference?Q(e.supplyBladeReference()):Q(e.supplyBladeReferenceAsync())};if(!d||!p){var a=M.id||t.defaultId||t.overview&&t.overview.id,s=a&&(MsPortalFx.find(MsPortalFx.mapMany(e||[],(function(e){return e.items||[]})),(function(e){return e&&(e.id===a||!!MsPortalFx.find(e.tabItems,(function(e){return e.id===a})))}))||((null===(n=t.overview)||void 0===n?void 0:n.id)===a||!!MsPortalFx.find(null===(r=t.overview)||void 0===r?void 0:r.tabItems,(function(e){return e.id===a})))&&t.overview);if(s)if(s.tabItems){var u=s.id===a?MsPortalFx.first(s.tabItems):MsPortalFx.find(s.tabItems,(function(e){return e.id===a})),f=_(s,u.id,t);f&&u&&(u.supplyBladeReference||u.supplyBladeReferenceAsync)&&(o=S(a,Promise.resolve(f()),i(u),t.menuExtensionName))}else(s.supplyBladeReference||s.supplyBladeReferenceAsync)&&(o=S(a,null,i(s),t.menuExtensionName))}return(d||p)&&(l=function(e){if(c===e.id){var t=MsPortalFx.clone(e);return delete t.supplyBladeReference,t.supplyBladeReferenceAsync=function(){var t=null!=d?d:p;return t?(d=null,p=null,t):i(e)},t}return e}),o}}return s.initialize=function(e,t){return f&&x(),f=!0,u(e,t).then((function(){s.groups(e),s.setOptions(t)}))},s}return __extends(t,e),t}(s.Base.ViewModel);t.ViewModel=l})),
define("Fx/Composition/MenuBlade",["require","exports","Fx/DependencyInjection","Fx/Controls/Menu"],(function(e,t,n,r){var o;return function(t){var o=MsPortalFx.extend;t.Decorator=function(e){return function(t){n.Class("viewModel")(t);var r=t._fx||(t._fx={});r.itemType=2,r.options=e}};var i=function(){function t(){}return t=__decorate([__metadata("fx:diagnostics",[e,"Container"]),n.Value("viewModel")],t)}();t.Container=i,function(e){e.Decorator=function(){return function(e){(e._fx||(e._fx={})).rebindable=!0}}}(t.Rebindable||(t.Rebindable={})),function(e){e.Decorator=function(){return function(e){}}}(t.ReturnsData||(t.ReturnsData={})),t.SortFunction=r.SortFunction;var a=function(){function e(){}return e.create=function(t,n){var r=new e;return r._initialize(t,n),o(r,n)},e.prototype._initialize=function(e,t){var n=t.groupSortFunction;n=void 0===n?r.SortFunction.SupportFirst:n;var o=t.groups,i=t.showSearch,a=this._msPortalFxMenu=new r.ViewModel(e,n);a.groupSortOrder=t.groupSortOrder||0,void 0!==i&&(a.showSearch=i);var s=__assign(__assign({},t),{menuExtensionName:MsPortalFx.getEnvironmentValue("extensionName")});a.initialize(ko.unwrap(o),s).then((function(){ko.isObservable(o)&&o.subscribeAndRun(e,a.groups)}))},e}();t.ViewModel2=a,function(e){e.Decorator=function(e){return function(e){}}}(t.ReplacesOldBlade||(t.ReplacesOldBlade={})),function(e){e.Decorator=function(e){return function(t){Reflect.defineMetadata("fx:composition:model",e,t)}}}(t.InjectableModel||(t.InjectableModel={}))}(o||(o={})),o})),
define("Fx/Composition/Part",["require","exports","Fx/Composition/ViewModelBase","Fx/DependencyInjection"],(function(e,t,n,r){var o;return function(t){t.Decorator=function(e){return function(t){r.Class("viewModel")(t);var n=t._fx||(t._fx={});n.itemType=6,n.options=e}};var o=function(){function t(){}return t=__decorate([__metadata("fx:diagnostics",[e,"Container"]),r.Value("viewModel")],t)}();t.Container=o,function(e){e.Decorator=function(){return function(e){(e._fx||(e._fx={})).rebindable=!0}}}(t.Rebindable||(t.Rebindable={})),function(e){e.Decorator=function(e){return function(t){(t._fx||(t._fx={})).configurableOptions=e||{}}}}(t.Configurable||(t.Configurable={})),function(e){e.Decorator=function(e){return function(e){}}}(t.ReplacesOldPart||(t.ReplacesOldPart={})),t.ProxiedMember=n.ProxiedMember,function(e){e.Decorator=function(){return function(e){(e._fx||(e._fx={})).filterable=!0}}}(t.Filterable||(t.Filterable={})),function(e){e.Decorator=function(e){return function(t){Reflect.defineMetadata("fx:composition:model",e,t)}}}(t.InjectableModel||(t.InjectableModel={})),t.UpdatableHeader||(t.UpdatableHeader={})}(o||(o={})),o})),
define("Fx/Composition/Pdl/Blade",["require","exports","Fx/DependencyInjection"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;var r=function(){function t(){}return t=__decorate([__metadata("fx:diagnostics",[e,"Container"]),n.Value("viewModel")],t)}();t.Container=r})),
define("Fx/Controls/TabMenu",["require","exports","Fx/Composition/Selectable"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModel=void 0;var r=function(e){function t(t){var r=e.call(this,t)||this;r.items=ko.observableArray(),r.controlType=211;var o=r._msPortalFxData={items:ko.observableArray(),selectableMap:ko.observable(),options:ko.observable(),menuDeepLink:ko.observable()},i=o.items,a=o.selectableMap,s=o.options,l=new Map;return r.items.subscribe(t,(function(e){var t={};e.forEach((function(e){var r=e.id;if(!r)throw new Error("Invalid item. No id specified. Item: '".concat(ko.toJSON(e),"'."));if(t[r])throw new Error("Multiple items specified with the same id '".concat(r,"'."));return!s().mainMenu||e.supplyBladeReference||e.supplyBladeReferenceAsync||(e=__assign(__assign({},e),{supplyBladeReference:function(){return null}})),t[r]=function(e){if(l.has(e))return l.get(e);var t=new n.Selectable2(e);return l.set(e,t),t}(e),e})),a(t),i(e)})),r.setOptions=function(e){s(e)},r.initialize=function(e,t){return r.setOptions(t),r.items(e),Promise.resolve()},r}return __extends(t,e),t}(MsPortalFx.ViewModels.Controls.Base.ViewModel);t.ViewModel=r})),
define("Fx/Composition/TabMenuBlade",["require","exports","Fx/DependencyInjection","Fx/Controls/TabMenu"],(function(e,t,n,r){var o;return function(t){var o=MsPortalFx.extend;t.Decorator=function(e){return function(t){n.Class("viewModel")(t);var r=t._fx||(t._fx={});r.itemType=14,r.options=e}};var i=function(){function t(){}return t=__decorate([__metadata("fx:diagnostics",[e,"Container"]),n.Value("viewModel")],t)}();t.Container=i,function(e){e.Decorator=function(){return function(e){}}}(t.ReturnsData||(t.ReturnsData={})),function(e){e.Decorator=function(e){return function(e){}}}(t.ReplacesOldBlade||(t.ReplacesOldBlade={}));var a=function(){function e(){}return e.create=function(t,n){var r=new e;return r._initialize(t,n),o(r,n)},e.prototype._initialize=function(e,t){var n=t.items,o=t.defaultId,i=t.mainMenu,a=this._msPortalFxTabMenu=new r.ViewModel(e),s={defaultId:o,mainMenu:i};a.initialize(ko.unwrap(n),s).then((function(){ko.isObservable(n)&&n.subscribeAndRun(e,a.items)}))},e}();t.ViewModel2=a}(o||(o={})),o})),
define("Fx/Composition/TemplateBlade",["require","exports","Fx/DependencyInjection","Fx/Composition/ViewModelBase"],(function(e,t,n,r){var o;return function(t){t.Decorator=function(e){return function(t){n.Class("viewModel")(t);var r=t._fx||(t._fx={});r.itemType=3,r.options=e||{}}};var o=function(){function t(){}return t=__decorate([__metadata("fx:diagnostics",[e,"Container"]),n.Value("viewModel")],t)}();t.Container=o,function(e){e.Decorator=function(){return function(e){(e._fx||(e._fx={})).rebindable=!0}}}(t.Rebindable||(t.Rebindable={})),function(e){e.Decorator=function(e){return function(t){(t._fx||(t._fx={})).configurableOptions=e||{}}}}(t.Configurable||(t.Configurable={})),function(e){e.Decorator=function(){return function(e){}}}(t.ReturnsData||(t.ReturnsData={})),function(e){e.Decorator=function(){return function(e){}}}(t.Pinnable||(t.Pinnable={})),function(e){e.Decorator=function(e){return function(e){(e._fx||(e._fx={})).doesProvisioning=!0}}}(t.DoesProvisioning||(t.DoesProvisioning={})),function(e){e.Decorator=function(e){return function(t){Reflect.defineMetadata("fx:legacyFeatures",e,t)}}}(t.LegacyFeatures||(t.LegacyFeatures={})),function(e){e.Decorator=function(e){return function(t){Reflect.defineMetadata("fx:forContextPane",e,t)}}}(t.ForContextPane||(t.ForContextPane={})),t.ProxiedMember=r.ProxiedMember,function(e){e.Decorator=function(e){return function(e){}}}(t.ReplacesOldBlade||(t.ReplacesOldBlade={})),function(e){e.Decorator=function(e){return function(t){Reflect.defineMetadata("fx:composition:model",e,t)}}}(t.InjectableModel||(t.InjectableModel={}))}(o||(o={})),o})),
define("Fx/Composition/TemplatePart",["require","exports","Fx/DependencyInjection","Fx/Composition/ViewModelBase"],(function(e,t,n,r){var o;return function(t){t.Decorator=function(e){return function(t){n.Class("viewModel")(t);var r=t._fx||(t._fx={});r.itemType=7,r.options=e}};var o=function(){function t(){}return t=__decorate([__metadata("fx:diagnostics",[e,"Container"]),n.Value("viewModel")],t)}();t.Container=o,function(e){e.Decorator=function(){return function(e){(e._fx||(e._fx={})).rebindable=!0}}}(t.Rebindable||(t.Rebindable={})),function(e){e.Decorator=function(e){return function(t){(t._fx||(t._fx={})).configurableOptions=e||{}}}}(t.Configurable||(t.Configurable={})),function(e){e.Decorator=function(e){return function(e){}}}(t.ReplacesOldPart||(t.ReplacesOldPart={})),t.ProxiedMember=r.ProxiedMember,function(e){e.Decorator=function(){return function(e){(e._fx||(e._fx={})).filterable=!0}}}(t.Filterable||(t.Filterable={})),function(e){e.Decorator=function(e){return function(t){Reflect.defineMetadata("fx:composition:model",e,t)}}}(t.InjectableModel||(t.InjectableModel={})),t.UpdatableHeader||(t.UpdatableHeader={})}(o||(o={})),o})),
define("FxInternal/Controls/Base/Base",["require","exports","Fx/Errors"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModel=t.monitorObservable=t.validateTemplate=t.isHtmlContent=void 0;var r=new MsPortalFx.Base.Diagnostics.Log("FxInternal/Controls/Base/Base");function o(e){return!(!e||!e.htmlTemplate)}t.isHtmlContent=o,t.validateTemplate=function(e){if(o(e)&&"string"!=typeof e.htmlTemplate)throw new n.FxError({message:"htmlTemplate of HtmlContent must be a string.",data:{htmlTemplate:e.htmlTemplate}})},t.monitorObservable=function(e,t,n){t.subscribe(e,n,null,"spectate"),ko.isComputed(t)&&t.isActive()&&!t.getDependenciesCount()||n(ko.utils.peekObservable(t))};var i=function(){function t(e,t){this.vmKind="Fx",t=t||{},this.controlType=0,e?(this._lifetimeManager=e.createChildLifetime(),this._lifetimeManager.registerForDispose(this)):(r.error(FxImpl.createError("LifetimeManager was not provided. Creating a TriggerableLifetimeManager.",{data:{ctor:this.constructor+""}})),this._lifetimeManager=new FxImpl.TriggerableLifetimeManager),this.telemetryName=t.telemetryName}return t.prototype.dispose=function(){this._lifetimeManager.dispose()},Object.defineProperty(t.prototype,"lifetimeManager",{get:function(){return this._lifetimeManager},enumerable:!1,configurable:!0}),t.prototype.populateFromObject=function(e){var t=e;for(var n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&(this[n]=t[n])},t.prototype._addDisposablesToCleanUp=function(e){this._lifetimeManager.registerForDispose(e)},t=__decorate([__metadata("fx:diagnostics",[e,"ViewModel"]),MsPortalFx.Composition.ProxyCompatibilityMode,__metadata("design:paramtypes",[Object,Object])],t)}();t.ViewModel=i})),
define("FxInternal/Controls/Button",["require","exports","FxInternal/Controls/Base/Base"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModel=void 0;var r=function(e){function t(t,n){var r=e.call(this,t)||this;return r.controlType=100,r.style=MsPortalFx.initObservable(n.style,0),r.onClick=n.onClick,r.cssClass=MsPortalFx.initObservable(n.cssClass),r.text=MsPortalFx.initObservable(n.text,""),r.disabled=MsPortalFx.initObservable(n.disabled,!1),r.ariaLabel=MsPortalFx.initObservable(n.ariaLabel,""),r.visible=MsPortalFx.initObservable(n.visible,!0),r.loading=MsPortalFx.initObservable(n.loading,!1),r.icon=MsPortalFx.initObservable(n.icon),r.loadingText=MsPortalFx.initObservable(n.loadingText),r}return __extends(t,e),t}(n.ViewModel);t.ViewModel=r})),
define("Fx/Controls/Button",["require","exports","FxInternal/Controls/Button"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0,t.create=function(e,t){var r;return ko.ignoreDependencies((function(){r=new n.ViewModel(e,t)})),r}})),
define("FxInternal/Utils/ValidationHelper",["require","exports"],(function(e,t){function n(e){var t=e&&r.get(e);t&&t()}Object.defineProperty(t,"__esModule",{value:!0}),t.setOnTriggerValidationCallback=t.tryOnTriggerValidation=t.triggerValidation=void 0,t.triggerValidation=function(e){var t=e.focusOnFirstInvalid,r=e.ltm,o=e.msPortalFxTriggerValidation,i=e.validateHidden;return n(e.vm),ko.ignoreDependencies((function(){var e=o();return Q(MsPortalFx.Base.Promises.cancelOnDispose(r,e?Q(e()):function(){var e=Q.defer(),n=r.createChildLifetime();return o.subscribe(n,(function(r){r&&(n.dispose(),Q().then((function(){return r(t,i)})).then(e.resolve).catch(e.reject))})),e.promise}))}))},t.tryOnTriggerValidation=n,t.setOnTriggerValidationCallback=function(e,t){e&&t&&r.set(e,t)};var r=new WeakMap})),
define("FxInternal/Controls/Base/FormsBase",["require","exports","FxInternal/Controls/Base/Base","FxInternal/Utils/ValidationHelper","Fx"],(function(e,t,n,r,o){Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModel=void 0;var i=function(e){function t(r,o){var i=e.call(this,r,o)||this;o=o||{};var a=i.lifetimeManager;return i.controlType=0,i.ariaLabel=MsPortalFx.initObservable(o.ariaLabel,""),i.cssClass=MsPortalFx.initObservable(o.cssClass),i.defaultValue=ko.observable(null),i.delayValidationTimeout=ko.observable(MsPortalFx.ViewModels.Controls.ValidatableControl.DefaultDelayValidationTimeout),i.disabled=MsPortalFx.initObservable(o.disabled,!1),i._originalDirty=ko.observable(!1),i.dirty=o.dirty||i._originalDirty,i.enabled=ko.observable(!i.disabled()),i.enableValidation=ko.observable(!1),i.ensureValidation=ko.observable(0),i.hideValidationCheck=MsPortalFx.initObservable(o.hideValidationCheck,!1),i.infoBalloonContent=MsPortalFx.initObservable(o.infoBalloonContent,""),i.infoBalloonAriaLabel=MsPortalFx.initObservable(o.infoBalloonAriaLabel,""),i.infoBalloonLinkContent=ko.observable(),i.initialValue=ko.observable(null),i.label=MsPortalFx.initObservable(o.label),i.labelPosition=MsPortalFx.initObservable(o.labelPosition,MsPortalFx.ViewModels.Forms.LabelPosition.Top),i.loading=MsPortalFx.initObservable(o.loading,!1),i.performValidation=ko.observable(null),i.showValidationMessagesBelowControl=!0,i.overflowMode=MsPortalFx.initObservable(o.overflowMode,0),i.subLabel=MsPortalFx.initObservable(o.subLabel,void 0),i.subLabelPosition=ko.observable(MsPortalFx.ViewModels.Forms.SubLabelPosition.Bottom),i.value=ko.observable(),i.valid=MsPortalFx.initObservable(o.valid,!0),i.validate=ko.observable(0),i.validations=MsPortalFx.initObservableArray(o.validations,[]),i.validationResults=ko.observableArray(),i.visible=MsPortalFx.initObservable(o.visible,!0),i._msPortalFxClearValidation=ko.observable(),i._msPortalFxLeftLabelWidth=ko.observable(),i._msPortalFxTriggerValidation=ko.observable(),i._msPortalFxViewModelValueChangesAreClean=!o.suppressDirtyBehavior,i._msPortalFxWidgetValue=ko.observable(),i._msPortalFxRequired=ko.observable(),i._newThisValueBinding=void 0,i._dirtyLifetime=void 0,i._enableValidationReactor=void 0,MsPortalFx.isNullOrUndefined(o.value)||(ko.isObservable(o.value)?ko.utils.twoWayBinding(a,o.value,i.value):i.value(o.value)),t.bindSelfTriggeringValidation(i),n.monitorObservable(a,i.infoBalloonContent,n.validateTemplate),n.monitorObservable(a,i.label,n.validateTemplate),n.monitorObservable(a,i.subLabel,n.validateTemplate),i.enabled.subscribe(a,(function(e){ko.isWritableObservable(i.disabled)&&i.disabled(!e)})),i.disabled.subscribe(a,(function(e){ko.isWritableObservable(i.enabled)&&i.enabled(!e)})),i.enableValidation(!0),i.createValueSubscriptions(a),i}return __extends(t,e),t.bindSelfTriggeringValidation=function(e){var t=[],n=ko.observable().extend({rateLimit:{timeout:750,method:"notifyWhenChangesStop"}});n.subscribe(e.lifetimeManager,(function(){return e.triggerValidation()}));var r=new WeakMap,o=[];e.validations.subscribeAndRun(e.lifetimeManager,(function(i){var a=(i||[]).reduce((function(t,n){return"triggerSubscribable"in(n||{})&&(n.value=e.value,r.set(n,n.triggerSubscribable),delete n.triggerSubscribable),r.has(n)&&t.push(r.get(n)),t}),[]);o.map((function(e){r.has(e)&&!i.includes(e)&&(e.triggerSubscribable=r.get(e),r.delete(e),e.value=void 0)})),o=i||[];var s=(t=t.map((function(e){if(a.includes(e._target))return e;e.dispose()})).filter((function(e){return e}))).map((function(e){return e._target}));a.forEach((function(r){s.includes(r)||t.push(r.subscribe(e.lifetimeManager,(function(){n({})})))}))}))},t.prototype.clearValidation=function(){var e=this;return ko.ignoreDependencies((function(){var t=e._msPortalFxClearValidation();return Q(MsPortalFx.Base.Promises.cancelOnDispose(e.lifetimeManager,t||Q()))}))},t.prototype.triggerValidation=function(e){return(0,r.triggerValidation)({vm:this,focusOnFirstInvalid:e,ltm:this.lifetimeManager,msPortalFxTriggerValidation:this._msPortalFxTriggerValidation})},t.prototype.resetDirtyComputed=function(e){MsPortalFx.disposeDisposable(this._dirtyLifetime),this._dirtyLifetime=this.lifetimeManager.createChildLifetime(),ko.computed(this._dirtyLifetime,e)},t.prototype.createValueSubscriptions=function(e){var t=this,n=!1,r=!1,i=this.value;o.nextTick((function(){var e=t.value,n=!!t.lifetimeManager;e!==i&&n&&(MsPortalFx.disposeDisposable(t._newThisValueBinding),t._newThisValueBinding=e.subscribeAndRun(t.lifetimeManager,i))})),this.setValue(this.value(),this._msPortalFxWidgetValue),this.value.subscribe(e,(function(e){r?t.trySetDirty(!0):(n=!0,t.setValue(e,t._msPortalFxWidgetValue),n=!1)})),this._msPortalFxWidgetValue.subscribe(e,(function(e){if(!n){r=!0;var o=void 0;ko.isComputed(t.value)&&((o=t.value())===e||Array.isArray(o)&&Array.isArray(e)&&function(e,t){var n=!1;e.length===t.length&&(n=e.every((function(e,n){return e===t[n]})));return n}(o,e))||t.setValue(e,t.value),r=!1}}))},t.prototype.setDirty=function(e){this.dirty===this._originalDirty&&this.dirty(e)},t.prototype.trySetDirty=function(e){this&&this._msPortalFxViewModelValueChangesAreClean&&this.setDirty(e)},t.prototype.setValue=function(e,t){Array.isArray(e)?t(e.slice()):t(e)},t}(n.ViewModel);t.ViewModel=i})),
define("FxInternal/Controls/CheckBox",["require","exports","FxInternal/Controls/Base/FormsBase"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModel=void 0;var r=function(e){function t(t,n){var r=e.call(this,t,n)||this;return n=n||{},r.controlType=7,r.inlineLabel=n.labelOnRight||n.inlineLabel||!1,r.isAMD=!0,r}return __extends(t,e),t}(n.ViewModel);t.ViewModel=r})),
define("Fx/Controls/CheckBox",["require","exports","FxInternal/Controls/CheckBox"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0,t.create=function(e,t){var r;return ko.ignoreDependencies((function(){r=new n.ViewModel(e,t)})),r}})),
define("FxInternal/Controls/CopyableLabel",["require","exports","FxInternal/Controls/Base/Base"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModel=void 0;var r=function(e){function t(t,n){var r=e.call(this,t,n)||this;return n=n||{},r.controlType=40,r.ariaLabel=MsPortalFx.initObservable(n.ariaLabel),r.cssClass=MsPortalFx.initObservable(n.cssClass),r.readOnly=MsPortalFx.initObservable(n.readOnly,!1),r.hideTextbox=n.hideTextbox,r.style=n.style||0,r.infoBalloonContent=MsPortalFx.initObservable(n.infoBalloonContent),r.infoBalloonAriaLabel=MsPortalFx.initObservable(n.infoBalloonAriaLabel),r.infoBalloonLinkContent=ko.observable(),r.label=MsPortalFx.initObservable(n.label),r.labelPosition=ko.observable(MsPortalFx.ViewModels.Forms.LabelPosition.Top),r.loading=ko.observable(!1),r.subLabel=MsPortalFx.initObservable(n.subLabel),r.subLabelPosition=ko.observable(MsPortalFx.ViewModels.Forms.SubLabelPosition.Bottom),r.value=MsPortalFx.initObservable(n.value),r.visible=MsPortalFx.initObservable(n.visible),r._msPortalFxLeftLabelWidth=ko.observable(),r._msPortalFxRows=MsPortalFx.isNullOrUndefined(n.rows)?1:n.rows,r}return __extends(t,e),t}(n.ViewModel);t.ViewModel=r})),
define("Fx/Controls/CopyableLabel",["require","exports","FxInternal/Controls/CopyableLabel"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0,t.create=function(e,t){var r;return ko.ignoreDependencies((function(){r=new n.ViewModel(e,t)})),r}})),
define("FxInternal/Controls/Section",["require","exports","FxInternal/Controls/Base/Base","FxInternal/Utils/ValidationHelper"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.create=t.ViewModel=void 0;var o=MsPortalFx.ViewModels.Forms.LabelPosition,i=function(e){function t(t,n){var r=e.call(this,t,__assign(__assign({},n),{telemetryName:MsPortalFx.initObservable(n&&n.telemetryName,"")}))||this;return r.active=ko.observable(!1),r.children=ko.observableArray(),r.dirty=ko.observable(!1),r.valid=ko.observable(!0),r.required=ko.observable(!1),r.validate=null,r.tabSection=ko.observable(),r.tabHasBeenLoaded=ko.observable(!1),r.tabStyle=0,n=n||{},r.controlType=15,r.smartAlignLabel=n.smartAlignLabel,r.children=MsPortalFx.initObservableArray(n.children,[]),r.cssClass=MsPortalFx.initObservable(n.cssClass,""),r.disabled=MsPortalFx.initObservable(n.disabled,!1),r.leftLabelPosition=n.smartAlignLabel?ko.observable(!1):MsPortalFx.initObservable(n.leftLabelPosition,!1),r.leftLabelWidth=n.smartAlignLabel?ko.observable(void 0):MsPortalFx.initObservable(n.leftLabelWidth),r.minHeight=n.minHeight,r.name=MsPortalFx.initObservable(n.name),r.style=MsPortalFx.initObservable(n.style,1),r.visible=MsPortalFx.initObservable(n.visible,!0),r.disableStyles=n.disableStyles,r.telemetrySource=n.telemetrySource,r.width=MsPortalFx.initObservable(n.width),r.populateSection=MsPortalFx.initObservable(n.populateSection),r.submit=MsPortalFx.initObservable(n.submit),r.smartAlignLabel||ko.computed(t,[r.children,r.leftLabelPosition,r.leftLabelWidth],(function(){var e=arguments[0],t=arguments[2],n=arguments[1]&&!t;e.forEach((function(e){e&&ko.isObservable(e.labelPosition)&&e.labelPosition(n?o.Left:o.Top)})),t&&e.forEach((function(e){e._msPortalFxLeftLabelWidth&&e._msPortalFxLeftLabelWidth(t)}))})),4===r.style()&&(r._msPortalFxSetFocusOnTab=ko.observable(void 0)),ko.computed(t,(function(){var e=r.children(),t=e.some((function(e){var t=ko.unwrap(e);return!(!(t&&(MsPortalFx.isNullOrUndefined(t.visible)||ko.unwrap(t.visible)))||!t.dirty)&&t.dirty()})),n=e.some((function(e){var t=ko.unwrap(e),n=t&&(MsPortalFx.isNullOrUndefined(t.visible)||ko.unwrap(t.visible)),r=!1;return t&&t.validationResults&&t.validationResults().forEach((function(e){if(1===e.state)return r=!1;3===e.state&&(r=!0)})),(!n||!r)&&(!(!n||!t.valid)&&!t.valid())})),o=r.children().some((function(e){var t=ko.unwrap(e),n=t&&(MsPortalFx.isNullOrUndefined(t.visible)||ko.unwrap(t.visible)),r=t&&(t._msPortalFxRequired&&t._msPortalFxRequired()||t.required&&ko.unwrap(t.required));return n&&r}));r.dirty(t),r.required(o),r.valid(!n)})),r}return __extends(t,e),t.prototype.clearValidation=function(){return Promise.all(this.children().map((function(e){return(null==e?void 0:e.clearValidation)?e.clearValidation():Promise.resolve()})))},t.prototype.triggerValidation=function(){if(ko.unwrap(this.visible)){(0,r.tryOnTriggerValidation)(this);var e=this.children().filter((function(e){return"function"==typeof(null==e?void 0:e.triggerValidation)})).map((function(e){return e.triggerValidation()}));return Promise.all(e).then((function(e){return e.every(MsPortalFx.identity)}))}return Promise.resolve(!0)},t}(n.ViewModel);t.ViewModel=i,t.create=function(e,t){var n;return ko.ignoreDependencies((function(){n=new i(e,t)})),n}})),
define("Fx/Controls/Section",["require","exports","FxInternal/Controls/Section"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0,t.create=function(e,t){var r;return ko.ignoreDependencies((function(){r=new n.ViewModel(e,t)})),r}})),
define("FxInternal/Controls/FileDownload",["require","exports"],(function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.create=t.DownloadType=t.downloadBlobUri=void 0,t.downloadBlobUri=function(e,t){var n=Q.defer(),r=FxImpl.createElement("a");return r.style.display="none",r.href=e,r.download=t,document.body.appendChild(r),r.click(),$(r).remove(),n.resolve(),n.promise},function(e){e[e.OAuth=0]="OAuth",e[e.SasLike=1]="SasLike",e[e.BlobUri=2]="BlobUri",e[e.DataUri=3]="DataUri"}(n||(t.DownloadType=n={})),t.create=function(e,n,r){r=r||{};var o=!!MsPortalFx.isInWebWorker,i=null,a=null;return"function"==typeof r.downloadContext?a=r.downloadContext:i=r.downloadContext,{controlType:82,vmKind:"Fx",downloadType:n,label:MsPortalFx.initObservable(r.label,""),toolTip:MsPortalFx.initObservable(r.toolTip,""),ariaLabel:MsPortalFx.initObservable(r.ariaLabel,""),disabled:MsPortalFx.initObservable(r.disabled,!1),asLink:1===r.displayStyle,downloadContext:i,downloadContextCallback:a,errorTitle:MsPortalFx.initObservable(r.errorTitle,null),errorMessage:MsPortalFx.initObservable(r.errorMessage,""),downloadDialogOptions:MsPortalFx.initObservable(r.downloadDialogOptions,null),disableNotifications:MsPortalFx.initValue(r.disableNotifications,!1),onStart:MsPortalFx.initValue(r.onStart,null),onComplete:MsPortalFx.initValue(r.onComplete,null),downloadStatus:ko.observable(null),extensionisInWebWorker:o,onBlobUriDownload:function(e,n){return(0,t.downloadBlobUri)(e,n)},dispose:function(){return!0}}}})),
define("FxInternal/Controls/Toolbar",["require","exports","FxInternal/Controls/Base/Base"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PdlCommandGroup=t.ViewModel=void 0;var r=function(e){function t(t,n){var r=e.call(this,t)||this;return r.controlType=62,r.disabled=MsPortalFx.initObservable(n.disabled),r.items=MsPortalFx.initObservable(n.items,[]),r.loading=ko.observable(!1),r.showLabels=MsPortalFx.initObservable(n.showLabels),r.smallItemSize=ko.observable(!1),r}return __extends(t,e),t.prototype.setItems=function(e){this.items(e)},t}(n.ViewModel);t.ViewModel=r;var o=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,13)||this;return n.commandGroup=t.commandGroup,n.commandGroupOwner=t.commandGroupOwner,n.viewModel=t.viewModel,n}return __extends(t,e),t}(MsPortalFx.ViewModels.Toolbars.ToolbarItem);t.PdlCommandGroup=o})),
define("FxInternal/Controls/ToolbarItems/BaseButton",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BaseButton=void 0;var n=function(e,t){var n=this;this.ariaLabel=MsPortalFx.initObservable(t.ariaLabel),this.icon=MsPortalFx.initObservable(t.icon),this.disabledMessage=MsPortalFx.initObservable(t.disabledMessage),this.label=MsPortalFx.initObservable(t.label),this.tooltip=MsPortalFx.initObservable(t.tooltip),this.cssClass=MsPortalFx.initObservable(t.cssClass),this.telemetryName=t.telemetryName;var r=t.name||t.telemetryName;this.name=r,this.telemetryName=r,this.unauthorizedMessage=MsPortalFx.initObservable(t.unauthorizedMessage);var o=MsPortalFx.initObservable(t.disabled);this.disabled=ko.computed(e,{read:function(){var e=o();return!!e&&("string"==typeof e?e:n.disabledMessage()||!0)},write:function(e){o(e)}})};t.BaseButton=n})),
define("FxInternal/Controls/ToolbarItems/BasicButton",["require","exports","FxInternal/Controls/ToolbarItems/BaseButton"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BasicButton=void 0;var r=function(e){function t(t,n){var r=e.call(this,t,n)||this;return"function"==typeof n.onClick?r.type=14:r.type=15,r.onClick=n.onClick,r}return __extends(t,e),t}(n.BaseButton);t.BasicButton=r})),
define("FxInternal/Controls/ToolbarItems/ClipboardCopyButton",["require","exports","FxInternal/Controls/ToolbarItems/BaseButton"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ClipboardCopyButton=void 0;var r=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.onClick=n.onClick,r.type=20,r.statusText=MsPortalFx.initObservable(""),r.statusBalloonVisible=MsPortalFx.initObservable(!1),r}return __extends(t,e),t}(n.BaseButton);t.ClipboardCopyButton=r})),
define("FxInternal/Controls/ToolbarItems/ClipboardPasteButton",["require","exports","FxInternal/Controls/ToolbarItems/BaseButton"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ClipboardPasteButton=void 0;var r=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.onClick=n.onClick,r.type=21,r.statusText=MsPortalFx.initObservable(""),r.statusBalloonVisible=MsPortalFx.initObservable(!1),r}return __extends(t,e),t}(n.BaseButton);t.ClipboardPasteButton=r})),
define("FxInternal/Controls/ToolbarItems/FileDownloadButton",["require","exports","FxInternal/Controls/ToolbarItems/BaseButton","FxInternal/Controls/FileDownload"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.FileDownloadButton=void 0;var o=function(e){function t(t,n,o){var i=e.call(this,t,o)||this;return i.vmKind="Fx",i.asLink=!1,i.controlType=null,i.type=16,i.downloadType=n,"function"==typeof o.downloadContext?i.downloadContextCallback=o.downloadContext:i.downloadContext=o.downloadContext,i.extensionisInWebWorker=!!MsPortalFx.isInWebWorker,i.tooltip=i.toolTip=MsPortalFx.initObservable(o.tooltip),i.errorTitle=MsPortalFx.initObservable(o.errorTitle),i.errorMessage=MsPortalFx.initObservable(o.errorMessage),i.downloadStatus=ko.observable(),i.onStart=o.onStart,i.onComplete=o.onComplete,i.onBlobUriDownload=r.downloadBlobUri,i.downloadDialogOptions=MsPortalFx.initObservable(o.downloadDialogOptions),i.disableNotifications=MsPortalFx.initValue(o.disableNotifications,!1),i}return __extends(t,e),t.prototype.dispose=function(){},t}(n.BaseButton);t.FileDownloadButton=o})),
define("FxInternal/Controls/ToolbarItems/FileUploadButton",["require","exports","FxInternal/Controls/ToolbarItems/BaseButton"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModel=void 0;var r=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.type=18,r.accept=MsPortalFx.initObservable(n.accept),r.allowedFileExtensions=MsPortalFx.initObservable(n.allowedFileExtensions),r.maxFiles=n.maxFiles||1,r.uploadContext=MsPortalFx.initObservable(n.uploadContext),r.uploadTasks=ko.observableArray(),r._msPortalFxUploadActionCallback=ko.observable(null),ko.unwrap(r.icon)||r.icon(MsPortalFx.Base.Images.Upload()),r}return __extends(t,e),t.prototype.resetUploadTasks=function(){var e=this._msPortalFxUploadActionCallback();return e?e():Q()},t}(n.BaseButton);t.ViewModel=r})),
define("FxInternal/Controls/ToolbarItems/MenuButton",["require","exports","FxInternal/Controls/ToolbarItems/BaseButton"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.MenuButton=void 0;var r=function(e){function t(t,n){var r=this;return n=n||{},(r=e.call(this,t,n)||this).type=17,r.menuId=MsPortalFx.getUniqueId(),r.buttons=MsPortalFx.initObservable(n.buttons,[]),r.isOverflowButton=MsPortalFx.initValue(n.isOverflowButton,!1),r.popupWidth=MsPortalFx.initObservable(n.popupWidth,0),r.popupWidthString=ko.computed(t,(function(){return r.popupWidth()>0?"{0}px".format(r.popupWidth()):"auto"})),r}return __extends(t,e),t}(n.BaseButton);t.MenuButton=r})),
define("FxInternal/Controls/ToolbarItems/MenuItemCustomButton",["require","exports","FxInternal/Controls/ToolbarItems/BaseButton"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.MenuItemCustomButton=void 0;var r=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.type=22,r.onClick=n.onClick,r.content=MsPortalFx.initObservable(n.content),r}return __extends(t,e),t}(n.BaseButton);t.MenuItemCustomButton=r})),
define("FxInternal/Controls/ToolbarItems/MoveResourceButton",["require","exports","FxInternal/Controls/ToolbarItems/MenuButton","FxInternal/Controls/ToolbarItems/BasicButton","Fx/Composition/Selectable","Fx/ResourceManagement"],(function(e,t,n,r,o,i){Object.defineProperty(t,"__esModule",{value:!0}),t.DEV=t.MoveResourceButton=void 0;var a=MsPortalFx.Resources.Strings.Toolbar.MoveButton,s=MsPortalFx.isFeatureEnabled("enableregionmove"),l=MsPortalFx.isFeatureEnabled("enablezonalmove"),u={"microsoft.network/virtualnetworks":!0,"microsoft.compute/virtualmachines":!0,"microsoft.network/networkinterfaces":!0,"microsoft.network/networksecuritygroups":!0,"microsoft.network/loadbalancers":!0,"microsoft.network/publicipaddresses":!0,"microsoft.compute/availabilitysets":!0},c={"microsoft.compute/virtualmachines":!0};function d(e,t){var n={label:t.label,icon:t.icon,ariaLabel:t.ariaLabel,tooltip:t.tooltip,onClick:function(){var n;if(t.selectedResourceIds&&t.selectedResourceIds()&&t.selectedResourceIds().length){var r=t.selectedResourceIds().map((function(e){return e.resourceId}));n=MsPortalFx.extend2(t.parameters,{resourceIds:r}),t.label===a.region&&(n=MsPortalFx.extend2(n,{sourceRegion:t.selectedResourceIds()[0].sourceRegion}))}var i=new o.PdlBladeReference(t.bladeName,t.extensionName,{parameters:n||t.parameters});e.openBlade(i)},disabled:t.disabled,disabledMessage:t.disabledMessage};return new r.BasicButton(e,n)}var p=function(e){function t(t,n){var r=e.call(this,t,{disabled:n.disabled})||this,o=i.ArmId.parse(n.resourceId,!0),p=o.subscription,f=o.resourceType.toLowerCase(),h=[],m=MsPortalFx.initObservableArray(n.selectedResourceIds),v=MsPortalFx.initObservable(n.disabledMessage),g="MoveResources.ReactView",y="Microsoft_Azure_Resources";return h.push(d(t,{label:a.resourcegroup,icon:MsPortalFx.Base.Images.MoveAcrossResourceGroups(),ariaLabel:a.resourcegroup,tooltip:a.resourcegroup,parameters:{resourceId:n.resourceId,moveType:1},bladeName:g,extensionName:y,selectedResourceIds:m})),h.push(d(t,{label:a.subscription,icon:MsPortalFx.Base.Images.MoveAcrossSubscriptions(),ariaLabel:a.subscription,tooltip:a.subscription,parameters:{resourceId:n.resourceId,moveType:0},bladeName:g,extensionName:y,selectedResourceIds:m})),(s&&u[f]||n.enableRegionMove)&&h.push(d(t,{label:a.region,icon:MsPortalFx.Base.Images.MoveAcrossRegions(),ariaLabel:a.region,tooltip:a.region,parameters:{subscriptionId:p,resourceIds:[n.resourceId]},bladeName:"RmAddResourceWizardBlade",extensionName:"Microsoft_Azure_ResourceMove",disabled:ko.pureComputed((function(){if(m().length){var e=m()[0].sourceRegion.toLowerCase();return m().some((function(t){return t.sourceRegion.toLowerCase()!==e}))}return"microsoft.resources/subscriptions/resourcegroups"===f})),disabledMessage:a.regionDisabledMessage,selectedResourceIds:m})),(l&&c[f]||n.enableZonalMove)&&h.push(d(t,{label:a.zone,icon:MsPortalFx.Base.Images.MoveAcrossRegions(),ariaLabel:a.zone,tooltip:a.zone,parameters:{resourceIds:[n.resourceId]},bladeName:"ZonalMoveWizardBlade",extensionName:"Microsoft_Azure_ResourceMove",disabled:ko.pureComputed((function(){return m().length?m().some((function(e){var t,n=null===(t=i.ArmId.parse(e.resourceId,!0))||void 0===t?void 0:t.resourceType,r=m()[0].sourceRegion.toLowerCase();return!c[null==n?void 0:n.toLowerCase()]||m().some((function(e){return e.sourceRegion.toLowerCase()!==r}))})):"microsoft.resources/subscriptions/resourcegroups"===f})),disabledMessage:a.zonalMoveDisabledMessage,selectedResourceIds:m})),r.buttons(h),r.label(a.title),r.icon(MsPortalFx.Base.Images.ArrowRight()),r.disabledMessage(v()),r}return __extends(t,e),t}(n.MenuButton);t.MoveResourceButton=p})),
define("FxInternal/Controls/ToolbarItems/OAuthButton",["require","exports","FxInternal/Controls/ToolbarItems/BaseButton"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.OAuthButton=void 0;var r=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.type=9,r.requestUrl=MsPortalFx.initObservable(n.requestUrl),r.popupHeight=MsPortalFx.initObservable(n.popupHeight),r.popupWidth=MsPortalFx.initObservable(n.popupWidth),r.value=ko.observable(),r}return __extends(t,e),t}(n.BaseButton);t.OAuthButton=r})),
define("FxInternal/Controls/ToolbarItems/ToggleButton",["require","exports","FxInternal/Controls/ToolbarItems/BaseButton"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ToggleButton=void 0;var r=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.type=6,r.checked=MsPortalFx.initObservable(n.checked,!1),r.optionGroupName=n.optionGroupName,r.ariaLabelId=MsPortalFx.getUniqueId(),r.command={canExecute:ko.observable(!0),execute:function(e){return Q(n.onToggled(e.checked))}},r}return __extends(t,e),t}(n.BaseButton);t.ToggleButton=r})),
define("Fx/Controls/Toolbar",["require","exports","FxInternal/Controls/ToolbarItems/BasicButton","Fx/Composition","FxInternal/Controls/ToolbarItems/ToggleButton","FxInternal/Controls/ToolbarItems/MoveResourceButton","FxInternal/Controls/ToolbarItems/OAuthButton","FxInternal/Controls/ToolbarItems/FileDownloadButton","FxInternal/Controls/ToolbarItems/ClipboardCopyButton","FxInternal/Controls/ToolbarItems/ClipboardPasteButton","FxInternal/Controls/Toolbar","FxInternal/Controls/FileDownload","FxInternal/Controls/ToolbarItems/FileUploadButton","FxInternal/Controls/ToolbarItems/MenuButton","FxInternal/Controls/ToolbarItems/MenuItemCustomButton"],(function(e,t,n,r,o,i,a,s,l,u,c,d,p,f,h){var m;Object.defineProperty(t,"__esModule",{value:!0}),t.ToolbarItems=t.create=void 0,t.create=function(e,t){var n;return ko.ignoreDependencies((function(){n=new c.ViewModel(e,t)})),n},function(e){function t(e,t){var r;return ko.ignoreDependencies((function(){r=new n.BasicButton(e,t)})),r}function c(e,t){var n;return ko.ignoreDependencies((function(){n=new p.ViewModel(e,t)})),n}e.createBasicButton=t,e.createToggleButton=function(e,t){var n;return ko.ignoreDependencies((function(){n=new o.ToggleButton(e,t)})),n},e.createOAuthButton=function(e,t){var n;return ko.ignoreDependencies((function(){n=new a.OAuthButton(e,t||{})})),n},e.createMoveResourceButton=function(e,t){var n;return ko.ignoreDependencies((function(){n=new i.MoveResourceButton(e,t)})),n},e.createDataUriFileDownloadButton=function(e,t){var n;return ko.ignoreDependencies((function(){n=new s.FileDownloadButton(e,d.DownloadType.DataUri,t)})),n},e.createSasLikeFileDownloadButton=function(e,t){var n;return ko.ignoreDependencies((function(){n=new s.FileDownloadButton(e,d.DownloadType.SasLike,t)})),n},e.createOAuthFileDownloadButton=function(e,t){var n;return ko.ignoreDependencies((function(){n=new s.FileDownloadButton(e,d.DownloadType.OAuth,t)})),n},e.createBlobUriFileDownloadButton=function(e,t){var n;return ko.ignoreDependencies((function(){n=new s.FileDownloadButton(e,d.DownloadType.BlobUri,t)})),n},e.createStreamUploadButton=function(e,t){return c(e,t)},e.createBlobStoreUploadButton=function(e,t){return c(e,t)},e.createMenuItemCustomButton=function(e,t){var n;return ko.ignoreDependencies((function(){n=new h.MenuItemCustomButton(e,t)})),n},e.createMenuButton=function(e,t){var n;return ko.ignoreDependencies((function(){n=new f.MenuButton(e,t)})),n},e.createSeparator=function(){return{type:12}},e.createFeedbackButton=function(e,n){var o=MsPortalFx.Resources.Strings.Toolbar.FeedbackButton.title;return t(e,{label:o,icon:MsPortalFx.Base.Images.Feedback(),onClick:new r.ClickableLink("#menu/feedback","_self","",n.onButtonClicked,n.telemetryName),tooltip:o})},e.createCopyButton=function(e,t){var n;return ko.ignoreDependencies((function(){n=new l.ClipboardCopyButton(e,t)})),n},e.createPasteButton=function(e,t){var n;return ko.ignoreDependencies((function(){n=new u.ClipboardPasteButton(e,t)})),n}}(m||(t.ToolbarItems=m={}))})),
define("Fx/Cryptography",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getHmacSha256UsingCryptoApi=t.getHmacSha256=t.Internal=void 0;var n,r=MsPortalFx.Base,o=FxImpl.Rpc;!function(e){e.getHmacSha256EndPoint=new o.FuncEndPointDefinition(FxImpl.Constants.RpcMethods.getHmacSha256),e.getHmacSha256=function(t,n){return window.crypto||window.msCrypto?s(t.key,t.stringToHash):e.getHmacSha256EndPoint.invoke(n||o.client,r.Constants.Shell,t)}}(n||(t.Internal=n={})),t.getHmacSha256=function(e){if(!!!(e&&e.key&&e.stringToHash))throw new Error("Incomplete options passed to getHmacSha256.");return n.getHmacSha256(e,o.client)};var i=function(e,t){for(var n=t?window.atob(e):e,r=n.length,o=new Uint8Array(r),i=0;i<r;i++)o[i]=n.charCodeAt(i);return o},a=function(e){for(var t="",n=new Uint8Array(e),r=0;r<n.length;r++)t+=String.fromCharCode(n[r]);return window.btoa(t)};function s(e,t){var n={name:"HMAC",hash:{name:"SHA-256"}};return crypto.subtle.importKey("raw",i(e,!0),n,!1,["sign"]).then((function(e){var r=unescape(encodeURIComponent(t));return crypto.subtle.sign(n,e,i(r)).then((function(e){return a(e)}))}))}t.getHmacSha256UsingCryptoApi=s})),
define("FxInternal/Experimentation",["require","exports","Fx/DependencyInjectionCore","FxInternal"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ExperimentationManager=t.ExperimentationProvider=void 0;var o="Fx/Experimentation",i="complete",a="cancel",s=/^\w[\w-]*$/;function l(e,t){return(e=(e||"").toLowerCase()).startsWith("azureportal_")||(e=(t=(null==t?void 0:t.toLowerCase())||"azureportal")+"_"+e),e}function u(e,t){return t?Promise.race([e,new Promise((function(e,n){return setTimeout((function(){return e()}),t)}))]):e}var c=function(){function e(e){this.isAvailable=!1,this.data={assignmentContext:"",flights:[],variables:Object.create(null)},this._whenAvailable=Promise.withResolvers(),this._getValueTraceMap=new Map,this._hasFlightTraceMap=new Map,this._trace=e.trace||function(){},this._traceFirstAccess=e.traceFirstAccess,this._waitTimeout=e.waitTimeout}return e.prototype._startTelemetry=function(){!this._traceFirstAccess||this._firstAccessTraced||this.isAvailable||this._timer||(this._timer=(0,r.startTimer)())},e.prototype.markTelemetry=function(){var e;if(this._traceFirstAccess&&!this._firstAccessTraced){var t=this.isAvailable,n=(null===(e=this._timer)||void 0===e?void 0:e.call(this))||0,r=0===n?"Experimentation-FlightsAlreadyAvailable":t?"Experimentation-ExtensionWaitedForFlights":"Experimentation-ExtensionTimeout";this._trace({source:o,action:r,actionModifier:t?i:a,duration:n,data:{assignmentContext:this.data.assignmentContext}}),t&&(this._firstAccessTraced=!0)}},e.prototype.whenAvailable=function(e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return this._startTelemetry(),this.isAvailable?[3,2]:[4,u(this._whenAvailable.promise,null!=e?e:this._waitTimeout)];case 1:t.sent(),t.label=2;case 2:return[2,this]}}))}))},e.prototype.hasFlight=function(e){this.markTelemetry();var t=e.toLowerCase(),n=this.isAvailable,r=n&&!!~this.data.flights.indexOf(t);return this._hasFlightTraceMap.get(t)!==n&&(this._trace({source:o,action:"HasFlight",actionModifier:n?i:a,name:t,data:r}),this._hasFlightTraceMap.set(t,n)),r},e.prototype.getStringValue=function(e,t){return this._getValue(e,t,(function(e){return String(e)}))},e.prototype.getNumberValue=function(e,t){return this._getValue(e,t,(function(e){var t=parseFloat(e);return isNaN(t)?null:t}))},e.prototype.getBooleanValue=function(e,t){return this._getValue(e,t,(function(e){return"boolean"==typeof e?e:"string"==typeof e?4===e.length&&"true"===e.toLowerCase():null}))},e.prototype._getValue=function(e,t,n){var s;this.markTelemetry();var u=l(e,t),c=null===(s=this.data.variables)||void 0===s?void 0:s[l(e,t)],d=(0,r.isNullOrUndefined)(c)?c:n(c),p=this.isAvailable;return this._getValueTraceMap.get(u)!==p&&(this._trace({source:o,action:"GetValue",actionModifier:p?i:a,name:u,data:{value:d}}),this._getValueTraceMap.set(u,p)),d},e.prototype.__setAssignments=function(e){this.data=e||this.data,this.isAvailable=!0,this._whenAvailable.resolve()},e}();t.ExperimentationProvider=c;var d=function(){function t(e){var t=this;this._trace=e.trace,this._onVariantsAssigned=e.onVariantsAssigned;var n=e.frameContext||0,o=0===n?300:1e4,i=e.features,a=e.shellVariants;this._queryStringFlights=(i.getValue("experimentationflights")||"").toLowerCase().split(";").filter((function(e){return s.test(e)}));var l=i.shellFeatures.fromQuery;this._queryStringVariables=Object.keys(l).filter((function(e){return(0,r.startsWith)(e,"exp.")})).reduce((function(e,t){var n;return e[(n=t.substring(4),(n=(n||"").toLowerCase()).includes("_")||(n="azureportal_"+n),n)]=l[t],e}),Object.create(null));var u=this.shellAssignments=new c({trace:this._trace,traceFirstAccess:1===n,waitTimeout:o});this.extensionAssignments=new c({trace:this._trace,traceFirstAccess:0===n,waitTimeout:o}),this._mergedVariants=new c({trace:this._trace,waitTimeout:o});var d=function(e){u.__setAssignments(t._normalizeAssignments(e)),0!==n&&t.setExtensionFlights(e)};i.isEnabled("experimentation")?Q.isPromiseAlike(a)?a.then((function(e){return d(e)})):d(a):(d(null),this.setExtensionFlights(null))}return t.prototype.getExtensionFlights=function(){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(t){switch(t.label){case 0:return[4,this.getAssignments()];case 1:return e=t.sent(),[2,{has:function(t){return e.hasFlight(t)},getAll:function(){var t;return null!==(t=e.isAvailable&&e.data.flights)&&void 0!==t?t:[]}}]}}))}))},t.prototype.getAssignments=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,n,o,i,a,s;return __generator(this,(function(l){switch(l.label){case 0:return(e=this._mergedVariants).isAvailable?[3,3]:(t=this.shellAssignments,n=this.extensionAssignments,t.isAvailable&&n.isAvailable?[3,2]:(this._mergedVariantsWhenAvailable||(this._mergedVariantsWhenAvailable=Promise.all([t.whenAvailable(),n.whenAvailable()])),[4,this._mergedVariantsWhenAvailable]));case 1:l.sent(),l.label=2;case 2:e.isAvailable||(n.markTelemetry(),o=t.data,i=n.data,a=t.isAvailable&&n.isAvailable,s={assignmentContext:a?(o.assignmentContext||"")+(i.assignmentContext||""):"",flights:(0,r.union)(o.flights,i.flights).sort(),variables:__assign(__assign({},o.variables),i.variables)},e.__setAssignments(s)),l.label=3;case 3:return[2,e]}}))}))},t.prototype.setExtensionFlights=function(e){var t,n=this.extensionAssignments;if(!n.isAvailable){var r=this._normalizeAssignments(e);n.__setAssignments(r),null===(t=this._onVariantsAssigned)||void 0===t||t.call(this,r)}return __assign({},n.data)},t.prototype._normalizeAssignments=function(e){e=e||{};var t=(0,r.union)(e.flights||[],this._queryStringFlights).sort(),n=Object.create(null);return(0,r.forEachKey)(e.variables||{},(function(e,t){n[e.toLowerCase()]=t})),(0,r.extend)(n,this._queryStringVariables),{flights:t,assignmentContext:!this._queryStringFlights.length&&!Object.keys(this._queryStringVariables).length&&e.assignmentContext||"",variables:n}},t=__decorate([__metadata("fx:diagnostics",[e,"ExperimentationManager"]),n.Value(),__metadata("design:paramtypes",[Object])],t)}();t.ExperimentationManager=d})),
define("Fx/Experimentation",["require","exports","Fx/DependencyInjectionCore","FxInternal/Experimentation"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Experimentation=void 0;var o=function(){function t(){}return t.create=function(e){return e.get(r.ExperimentationManager)},__decorate([__metadata("fx:diagnostics",[e,"Experimentation"]),n.Factory(),__metadata("design:type",Function),__metadata("design:paramtypes",[n.Container]),__metadata("design:returntype",t)],t,"create",null),t}();t.Experimentation=o})),
define("Fx/Feedback",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.canShowNps=t.showNps=t.Internal=void 0;var n,r=MsPortalFx.Base,o=FxImpl.Rpc,i=FxImpl.Constants.RpcMethods;!function(e){e.showNpsEndpoint=new o.FuncEndPointDefinition(i.showNps),e.canShowNpsEndpoint=new o.FuncEndPointDefinition(i.canShowNps)}(n||(t.Internal=n={}));var a=r.Constants.Shell;t.showNps=function(e){n.showNpsEndpoint.invoke(o.client,a,e)},t.canShowNps=function(){return Q(n.canShowNpsEndpoint.invoke(o.client,a,null))}})),
define("Fx/Lifetime",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),
define("Fx/Security",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),
define("Fx/Telemetry",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.trace=void 0;var n=MsPortalFx.Base.Diagnostics.Telemetry;t.trace=n.trace})),
define("FxInternal/Units",["require","exports"],(function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.UnitType=t.perTimeBit=t.higherByteOffset=void 0,t.higherByteOffset=8,t.perTimeBit=1<<t.higherByteOffset-1,function(e){e[e.None=0]="None",e[e.Bytes=1]="Bytes",e[e.Decimal=2]="Decimal",e[e.Time=3]="Time",e[e.BytesPerTime=4]="BytesPerTime",e[e.DecimalPerTime=5]="DecimalPerTime",e[e.Bytes_SI=6]="Bytes_SI",e[e.BytesPerTime_SI=7]="BytesPerTime_SI"}(n||(t.UnitType=n={}))})),
define("Fx/Units",["require","exports","FxInternal/Units"],(function(e,t,n){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Unit=void 0,function(e){e[e.None=0]="None",e[e.Percentage=1]="Percentage",e[e.Bytes=256]="Bytes",e[e.Kilobytes=257]="Kilobytes",e[e.Megabytes=258]="Megabytes",e[e.Gigabytes=259]="Gigabytes",e[e.Terabytes=260]="Terabytes",e[e.Petabytes=261]="Petabytes",e[e.BytesPerDay=1152]="BytesPerDay",e[e.BytesPerHour=1153]="BytesPerHour",e[e.BytesPerMinute=1154]="BytesPerMinute",e[e.BytesPerSecond=1155]="BytesPerSecond",e[e.KilobytesPerSecond=1156]="KilobytesPerSecond",e[e.MegabytesPerSecond=1157]="MegabytesPerSecond",e[e.GigabytesPerSecond=1158]="GigabytesPerSecond",e[e.TerabytesPerSecond=1159]="TerabytesPerSecond",e[e.PetabytesPerSecond=1160]="PetabytesPerSecond",e[e.Count=512]="Count",e[e.Thousand=513]="Thousand",e[e.Million=514]="Million",e[e.Billion=515]="Billion",e[e.Trillion=516]="Trillion",e[e.MicroSeconds=768]="MicroSeconds",e[e.MilliSeconds=769]="MilliSeconds",e[e.Seconds=770]="Seconds",e[e.Minutes=771]="Minutes",e[e.Hours=772]="Hours",e[e.Days=773]="Days",e[e.CountPerDay=1408]="CountPerDay",e[e.CountPerHour=1409]="CountPerHour",e[e.CountPerMinute=1410]="CountPerMinute",e[e.CountPerSecond=1411]="CountPerSecond",e[e.ThousandPerSecond=1412]="ThousandPerSecond",e[e.MillionPerSecond=1413]="MillionPerSecond",e[e.BillionPerSecond=1414]="BillionPerSecond",e[e.TrillionPerSecond=1415]="TrillionPerSecond",e[e.Bytes_SI=1536]="Bytes_SI",e[e.Kilobytes_SI=1537]="Kilobytes_SI",e[e.Megabytes_SI=1538]="Megabytes_SI",e[e.Gigabytes_SI=1539]="Gigabytes_SI",e[e.Terabytes_SI=1540]="Terabytes_SI",e[e.Petabytes_SI=1541]="Petabytes_SI",e[e.BytesPerDay_SI=1920]="BytesPerDay_SI",e[e.BytesPerHour_SI=1921]="BytesPerHour_SI",e[e.BytesPerMinute_SI=1922]="BytesPerMinute_SI",e[e.BytesPerSecond_SI=1923]="BytesPerSecond_SI",e[e.KilobytesPerSecond_SI=1924]="KilobytesPerSecond_SI",e[e.MegabytesPerSecond_SI=1925]="MegabytesPerSecond_SI",e[e.GigabytesPerSecond_SI=1926]="GigabytesPerSecond_SI",e[e.TerabytesPerSecond_SI=1927]="TerabytesPerSecond_SI",e[e.PetabytesPerSecond_SI=1928]="PetabytesPerSecond_SI"}(r||(t.Unit=r={}))})),
define("Fx/UriBuilder",["require","exports"],(function(e,t){return MsPortalFx.Base.UriBuilder})),
define("FxHubs/ArmClient/Models",["require","exports","Fx/ResourceManagement"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.toResourceGroup=t.toResource=void 0;var r=MsPortalFx.Base.Diagnostics.createLog(e);t.toResource=function(e,t){var o=e.id;if(!o){if(e.value&&Array.isArray(e))throw new Error("toResource called with object with array property 'value'");return r.warning("ARM returned a resource with no id: "+JSON.stringify(e)),null}var i=e.name;t=t||n.ArmId.parse(o,!0),i||(i=t.resourceName);var a=e.type;return a||(a=t.resourceType),{id:o,armId:t,location:e.location||"",name:i,tags:e.tags||{},properties:e.properties||{},resourceGroup:n.ArmId.stringify(t,4),type:a,kind:e.kind,zones:e.zones,plan:e.plan,managedBy:e.managedBy,sku:e.sku,identity:e.identity}},t.toResourceGroup=function(e,t){var o=(e||{}).id;if(!o){if(e.value&&Array.isArray(e))throw new Error("toResourceGroup called with object with array property 'value'");return r.warning("ARM returned a resource group with no id: "+JSON.stringify(e)),null}t=t||n.ArmId.parse(o,!0);var i=e.properties||{};return{id:o,armId:t,location:e.location||"",name:e.name,tags:e.tags||{},properties:i,provisioningState:i.provisioningState,managedBy:e.managedBy}}})),
define("FxHubs/ArmHelpers/ArmApisStartup",["require","exports","Fx/Ajax","Fx/ResourceManagement","FxHubs/RpcEndPoints","Fx"],(function(e,t,n,r,o,i){Object.defineProperty(t,"__esModule",{value:!0}),t.DEV=t.resourcesInResourceGroupApi=t.getLatestApiVersion=t.resourceApi=t.resourceFromArmCacheApi=t.getResourceGroupForceDeleteApi=t.resourceGroupApi=t.resourcesWithTagApi=t.resourceGroupsWithTagApi=t.resourcesInSubscriptionApi=t.resourceGroupsInSubscriptionApi=t.subscriptionTagsApi=t.providerProxyResourcesApi=t.tenantResourcesApi=t.resourcesAcrossSubscriptionsApi=t.resourceTypeApiVersionDictionary=t.getEventsApi=t.getPermissionsApi=t.listLocationsAtScopeApi=t.listSubscriptionLocationsApi=t.listSubscriptions=t.internalNotifyAssetDeleted=t.filterSubscriptionsByScopeByResourceGroup=t.filterSubscriptionsByScope=t.getSubscriptionApi=t.listTenantsApi=t.listLocationsApi=t.callBatchWithContinuation=t.call=t.callRaw=t.callWithContinuation=t.getAbsoluteArmUri=t.isHiddenTag=void 0;var a,s=MsPortalFx.Base,l=s.Constants,u=s.Diagnostics,c=FxImpl.Rpc,d=u.Telemetry,p=(MsPortalFx.Extension.ProxyRoutingFilter,u.createLog(e)),f=l.Shell,h=FxImpl.Rpc.client,m=JSON.stringify,v=s.Resources.isUriAbsolute,g=MsPortalFx.getFeatureValue("azslocapiver"),y=/^[0-9-]+$/g,b="2014-04-01",x=/^((https?:)(\/\/\/?)(\w*(?::\w*)?@)?([\w.-]+)(?::(\d+))?)?([^?]*)?(.*)?$/i,C=/^[\s/]*|\/*$/g,_=/\/\//g,w=FxImpl.getErrorMap({batchLimitExceeded:"",invalidUrlEndpoint:"",endpointNotFound:""});function P(e){return e.replace(C,"")}function E(e){return"/"+P(e)}function F(e){return(e||"").toLowerCase()}function I(e){return MsPortalFx.replaceAll(e,"#","%23")}function M(e){return I(function(e){return MsPortalFx.replaceAll(e,"'","''")}(e))}function S(e,n,r,o,i){if(!e.length)return Q();var a=e.pop(),s=(0,t.getAbsoluteArmUri)(a);return Q(R({headers:{accept:"application/json"},isBackgroundTask:o,armApiOrUri:s,telemetry:i,httpMethod:"GET"})).then((function(t){var s=t.content,l=s&&s.value;if(s)if(l)if(!1===n(l))e=[];else{var u=s.nextLink;u&&e.push(u)}else r({api:a,reason:"Expected response.value not found."});else r({api:a,reason:"Expected response not found."});return S(e,n,r,o,i)}),(function(t){return r({api:a,reason:t}),S(e,n,r,o,i)}))}t.isHiddenTag=function(e){var t=F(e);return!e||t.startsWith("hidden-")||t.startsWith("link:")},t.getAbsoluteArmUri=function(e){return v(e)?e:(t=e,r=(0,n.getEndpoints)().arm,o=MsPortalFx.trimEnd(r,"/")+MsPortalFx.ensurePrefix(t,"/"),(i=x.exec(o))||w.invalidUrlEndpoint(o),o=i[1]?i[1]+"/":"",o+=P(i[7]).replace(_,"/"),!i[1]&&i[7].startsWith("/")&&(o="/"+o),o+(i[8]||""));var t,r,o,i},t.callWithContinuation=function(e,t,n,r){return S(e,t,n,!1,r)};var k=["GET","POST","DELETE","HEAD","PUT","PATCH"];function R(e){var r=e.armApiOrUri,o=e.httpMethod,i=e.data,a=e.isBackgroundTask,s=e.dataType,l=e.telemetry,u=e.useApiInvoke,c=e.filterEmptyResponse,d=e.performRetry,p=e.noBatch,f=(0,t.getAbsoluteArmUri)(r),h={headers:e.headers||{accept:"application/json"},isBackgroundTask:a,performRetry:d,invokeApi:!1!==u?FxImpl.internalEnv.fxArmInvokeApi:null,setAuthorizationHeader:!0,setTelemetryHeader:l,type:o,uri:f};i&&(h.contentType="application/json",h.data="string"==typeof i?i:m(i)),c&&(h.dataFilter=function(e,t){return"json"!==t||e?e:"{}"}),s&&(h.dataType=s);var g=(0,t.getAbsoluteArmUri)("/");if(p||!v(r)||~r.indexOf(g)||(p=!0),!p&&k.includes(o.toUpperCase())){var y={options:a?4:1,setTelemetryHeader:h.setTelemetryHeader,type:o,uri:r};return i&&MsPortalFx.extend(y,{content:i}),Q((0,n.batch)(y).then((function(e){return{content:e.content,jqXHR:{responseJSON:e.content,status:e.httpStatusCode,getResponseHeader:function(t){return e.headers[t]}}}}),(function(e){throw{errorThrown:MsPortalFx.getLogFriendlyMessage(e),jqXHR:{responseJSON:e.content,responseText:e.content,status:e.httpStatusCode,getResponseHeader:function(t){return e.headers[t]}}}})))}return Q((0,n.ajaxExtended)(h))}function A(e,t,n){var o=r.ArmId.parse(t,!0);return 1===o.kind?[o.subscription]:4===o.kind||6===o.kind?(n&&n("resourcegroup eq '".concat(M(o.resourceGroup),"'")),[o.subscription]):e||[]}t.callRaw=R,t.call=function(e,n,r,o,i,a,s,l){return(0,t.callRaw)({armApiOrUri:e,httpMethod:n,data:r,dataType:"json",telemetry:o,useApiInvoke:i,filterEmptyResponse:a,performRetry:s,headers:l}).then((function(e){return e.content}))},t.callBatchWithContinuation=function(e,t,r,o,i){i=i||{};var a=e,s=function(){if(a.length){var l=!1,u=[],c=[],d=a.map((function(a,s){var d=void 0===a.originalIndex?s:a.originalIndex,p=e[d].uri;return c.push(p),(0,n.batch)({options:o?4:1,uri:a.uri,setTelemetryHeader:a.telemetry+(a.lastChunk||".-1")}).then((function(e){if(!l){var n=e.content||{},o=n,s="",c={value:0,type:"None"};if(a.arrayResponse&&(o=n.value,s=n.nextLink,i.additionalResponseInfo)){var f=n.count;f&&(c.value=f.value,c.type=f.type)}!n||!o||e.httpStatusCode>=400?r({api:p,reason:e}):!1===t(o,d,{countData:c})?l=!0:s&&u.push({uri:s,arrayResponse:!0,telemetry:a.telemetry,originalIndex:d,lastChunk:".".concat(o.length)})}})).catch((function(e){if(!e.httpStatusCode)return Q.reject(e);r({api:p,reason:e})}))}));return Promise.all(d).then((function(){if(!l)return a=u,s()})).catch((function(e){if(r({api:c.join("|"),reason:e}),!l)return a=u,s()}))}return Promise.resolve()};return s()},t.listLocationsApi=function(){return"/locations".concat(null!=g?g:"?api-version=2019-11-01")},t.listTenantsApi=function(){return"/tenants"+(MsPortalFx.isFeatureEnabled("tenants2020")?"?api-version=2020-01-01&$includeAllTenantCategories=true":"?api-version=2019-03-01&$includeAllTenantCategories=true")},t.getSubscriptionApi=function(e){e=MsPortalFx.replaceAll(e.replace(/^\/?subscriptions\/?/,""),"/","");var t=MsPortalFx.isFeatureEnabled("mspfilter")?MsPortalFx.isFeatureEnabled("subscriptionpromotions")?"?api-version=2022-01-01":"?api-version=2018-06-01":"?api-version=2016-06-01";return"/subscriptions/".concat(e).concat(t)},t.filterSubscriptionsByScope=function(e,t,n){return A(e,t,n)},t.filterSubscriptionsByScopeByResourceGroup=A;var T=[];function D(e,t){F(e).split(" ").forEach((function(e){e&&t.push("substringof('".concat(M(e),"', name)"))}))}function B(e,t,n,r){var o=r?"ne":"eq",i=MsPortalFx.makeArray(t).filter(MsPortalFx.identity).map((function(t){return"".concat(e," ").concat(o," '").concat(M(F(t)),"'")})).join(r?" and ":" or ");i&&n.push(i)}function N(e,t){var n="/subscriptions/".concat(P(e),"/resourcegroups").concat("?api-version=2020-06-01");return t&&(n+="&$top=1"),n}function O(e,t){var n="/subscriptions/".concat(P(e),"/resources").concat("?api-version=2014-04-01-preview");return t&&(n+="&$top=1"),n}function L(e){var n=new s.UriBuilder(E(I(e))),r=n.query;return r.getParameter("api-version")?Q(n.toString()):(0,t.getLatestApiVersion)(n.path).then((function(e){return r.setParameter("api-version",e),n.toString()}))}t.internalNotifyAssetDeleted=function(e,t,n){var r=MsPortalFx.makeArray(t).filter((function(e){return!MsPortalFx.find(T,(function(t){return e.extensionName===t.extensionName&&e.assetType===t.assetType&&MsPortalFx.deepEquals(e.assetId,t.assetId)}))}));T.push.apply(T,r);var a=r.map((function(e){var t=e;return t.reason=n,t}));a.length&&o.Events.notifyAssetDeletedDefinition.invoke(e.get(c.Client),f,a).finally((function(){i.delay(2e3).then((function(){T.forEach((function(e){return MsPortalFx.remove(T,e)}))}))}))},t.listSubscriptions=function(){return"/subscriptions".concat("?api-version=2018-06-01&$expand=inherited")},t.listSubscriptionLocationsApi=function(e){return"/subscriptions/".concat(e,"/locations").concat(null!=g?g:"?api-version=2019-11-01")},t.listLocationsAtScopeApi=function(e){return"".concat(e,"/locations").concat(null!=g?g:"?api-version=2019-11-01")},t.getPermissionsApi=function(e){var t=MsPortalFx.getFeatureValue("permissionsapiversion"),n=t?"?api-version=".concat(t):"?api-version=2018-01-01-preview";return"/".concat(P(I(e)),"/providers/microsoft.authorization/permissions").concat(n)},t.getEventsApi=function(e,t,n,r){return void 0===r&&(r=null),function(e,t,n,r,o,i){var a="eventTimestamp",l=new s.UriBuilder("/subscriptions/".concat(t,"/providers/microsoft.insights/eventtypes/management/").concat(e)),u="".concat(a," ge '").concat(n.toISOString(),"' and ").concat(a," le '").concat(r.toISOString(),"'");o&&o.length&&(u=o+" and "+u);var c=l.query;return c.setParameter("api-version","2014-04-01"),c.setParameter("$filter",u),l.toString()+(MsPortalFx.isNullOrUndefined(i)?"":"&$top=".concat(i))}("values",e,t,n,r)},t.resourceTypeApiVersionDictionary={"aspera.transfers/services":"2016-03-25","cloudyn.analytics/accounts":"2016-03-01","conexlink.mycloudit/accounts":"2015-06-15","hive.streaming/services":"2016-03-18","microsoft.bingmaps/mapapis":"2015-07-02","microsoft.visualstudio/account/project":"2014-02-26","pokitdok.platform/services":"2016-05-17","raygun.crashreporting/apps":"2015-01-01","signiant.flight/accounts":"2015-06-29","trendmicro.deepsecurity/accounts":"2015-06-15"},t.resourcesAcrossSubscriptionsApi=function(e,t,n,r,o,i,a){var l=new s.UriBuilder("/resources"),u=[e.map((function(e){return"subscriptionId eq '".concat(e,"'")})).join(" or ")];D(n,u),B("resourcegroup",i,u,a),B("location",o,u),B("resourceType",t,u),r&&u.push.apply(u,r),l.query.setParameter("api-version","2014-04-01-preview");var c=u.filter(MsPortalFx.identity).map((function(e){return"(".concat(e,")")})).join(" and ");return c&&l.query.setParameter("$filter",c),l.toString()},t.tenantResourcesApi=function(e,t,n){var r=new s.UriBuilder("/providers/".concat(e.topLevelTenantAlias)),o=[];(e.proxyRoutingFilters||[]).forEach((function(e){switch(e){case 1:D(t,o);break;case 3:B("location",n,o);break;default:p.error("Unhandled proxy routing filter: <".concat(e,">"))}})),r.query.setParameter("api-version",e.apiVersion);var i=o.filter(MsPortalFx.identity).map((function(e){return"(".concat(e,")")})).join(" and ");return i&&r.query.setParameter("$filter",i),r.toString()},t.providerProxyResourcesApi=function(e,t,n,r,o,i,a){var l,u=t.topLevelResourceTypeAlias;l=u?"/subscriptions/".concat(e,"/providers/").concat(u):"".concat(a,"/").concat(MsPortalFx.last(t.resourceType.split("/")));var c=new s.UriBuilder(l),d=[];(t.proxyRoutingFilters||[]).forEach((function(e){switch(e){case 1:D(n,d);break;case 2:B("resourcegroup",o,d,i);break;case 3:B("location",r,d);break;default:p.error("Unhandled proxy routing filter: <".concat(e,">"))}})),c.query.setParameter("api-version",t.apiVersion);var f=d.filter(MsPortalFx.identity).map((function(e){return"(".concat(e,")")})).join(" and ");return f&&c.query.setParameter("$filter",f),c.toString()},t.subscriptionTagsApi=function(e){return"/subscriptions/".concat(P(e),"/tagnames").concat("?api-version=2016-06-01")},t.resourceGroupsInSubscriptionApi=N,t.resourcesInSubscriptionApi=O,t.resourceGroupsWithTagApi=function(e,t,n){var r=new s.UriBuilder(N(e)),o=["tagname eq '".concat(M(t),"'"),n||""===n?"tagvalue eq '".concat(M(n),"'"):null].filter((function(e){return!!e})).join(" and ");return r.query.setParameter("$filter",o),r.toString()},t.resourcesWithTagApi=function(e,t,n){var r=new s.UriBuilder(O(e)),o=["tagname eq '".concat(M(t),"'"),n||""===n?"tagvalue eq '".concat(M(n),"'"):null].filter((function(e){return!!e})).join(" and ");return r.query.setParameter("$filter",o),r.toString()},t.resourceGroupApi=function(e){return E(I(e))+"?api-version=2020-06-01"},t.getResourceGroupForceDeleteApi=function(e,t){return"".concat(E(I(e))).concat("?api-version=2020-06-01","&").concat(t)},t.resourceFromArmCacheApi=function(e){e="/"+P(e);var t=r.ArmId.parse(e,!0);return 6!==t.kind?L(e):Q("".concat(r.ArmId.stringify(t,1),"/resources")+"".concat("?api-version=2014-04-01-preview","&").concat("$filter","=resourceId eq '").concat(M(e),"'"))},t.resourceApi=L,t.getLatestApiVersion=function(e){var i=r.ArmId.parse(e,!0);if(4===i.kind)return Q("2020-06-01");if(1===i.kind)return Q("2016-06-01");if(6===i.kind||3===i.kind||8===i.kind){var s,l=F(i.resourceType);return a||(a=Q(o.AssetTypes.getAssetTypesInformationEndPoint.invoke(h,"fxw",void 0)).then((function(e){e.forEach((function(e){var n=e.resourceType,r=e.apiVersion;n&&r&&(t.resourceTypeApiVersionDictionary[F(n)]=r)}))}))),a.then((function(){if(s=t.resourceTypeApiVersionDictionary[l])return Q(s);if(s=t.resourceTypeApiVersionDictionary[F(r.ArmId.parse(e).resourceType)])return Q(s);d.trace({source:"HubsExtension",action:"MissingApiVersion",actionModifier:l});var o=i.subscription,a=i.isNestedResourceType&&MsPortalFx.last(i.nestedResourceTypes).provider||i.provider,u=(o?"/subscriptions/".concat(o,"/providers/").concat(a):"/providers/".concat(a))+"?api-version=2021-04-01",c=(0,t.getAbsoluteArmUri)(u),f=F(i.isNestedResourceType&&"".concat(a,"/").concat(MsPortalFx.last(i.nestedResourceTypes).resourceTypes.join("/"))||i.resourceType);return Q((0,n.ajaxExtended)({uri:c,invokeApi:FxImpl.internalEnv.fxArmInvokeApi,type:"GET",headers:{accept:"application/json"},setAuthorizationHeader:!0,setTelemetryHeader:"getLatestApiVersion"})).then((function(e){return(e&&e.content&&e.content.resourceTypes||[]).forEach((function(e){var n=e.defaultApiVersion;if(!n){var r=e.apiVersions||[];n=MsPortalFx.find(r,(function(e){return e&&y.test(e)}))||r[0]}var o=F(a+"/"+e.resourceType);t.resourceTypeApiVersionDictionary[o]||(t.resourceTypeApiVersionDictionary[o]=n)})),t.resourceTypeApiVersionDictionary[f]||function(e){var n;if(!n)for(var r=e.split("/"),o=r.length-1;o;){var i=r.slice(0,o).join("/");if(t.resourceTypeApiVersionDictionary[i]){n=t.resourceTypeApiVersionDictionary[i],t.resourceTypeApiVersionDictionary[e]=n;break}o--}return n}(f)||b}),(function(t){return p.warning("".concat(e," using api ver ").concat(b,". Error ").concat(t.responseText)),b}))}))}return Q.reject("Unexpected id "+e)},t.resourcesInResourceGroupApi=function(e){return E(e)+"/resources?api-version=2014-04-01-preview"}})),
define("FxHubs/ArmHelpers/ArmIds",["require","exports","Fx/ResourceManagement"],(function(e,t,n){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceArmIdKindMap=void 0,t.ResourceArmIdKindMap=((r={})[6]=!0,r[3]=!0,r[8]=!0,r)})),
define("FxHubs/ArmClient",["require","exports","Fx/Ajax","Fx/ResourceManagement","FxHubs/ArmHelpers/ArmApisStartup","FxHubs/ArmHelpers/ArmIds","FxHubs/ArmClient/Models","Fx"],(function(e,t,n,r,o,i,a,s){Object.defineProperty(t,"__esModule",{value:!0}),t.mapResourceToResourceWithStrings=t.getResource=t.mapResourceGroupToResourceGroupWithStrings=t.getResourceGroup=t.InvalidResourceIdError=t.resourceGroupAssetType=void 0;var l=MsPortalFx.Base,u=l.Constants,c=l.Diagnostics.Telemetry;t.resourceGroupAssetType=u.AssetNames.ResourceGroups;var d=(0,s.memoizePromise)((function(){return Q(MsPortalFx.Azure.getLocations()).then((function(e){var t=FxImpl.lowerCaseStringMap();return(0,s.forEachKey)(e,(function(e,n){return t.set(e,n)})),t}))}));function p(e,r,i){void 0===i&&(i={});var s=i.background,l=i.useNonBatchCall,u=(0,o.resourceGroupApi)(e);return(l?(0,n.ajaxExtended)({headers:{accept:"application/json"},isBackgroundTask:!1,setAuthorizationHeader:!0,setTelemetryHeader:r+".nonBatch",type:"GET",uri:MsPortalFx.trimEnd((0,n.getEndpoints)().arm,"/")+MsPortalFx.ensurePrefix(u,"/")}).then((function(e){return(0,a.toResourceGroup)(e.content)})):(0,n.batch)({options:s?4:1,setTelemetryHeader:r,uri:u}).then((function(e){return(0,a.toResourceGroup)(e.content)}))).catch((function(n){throw n&&404===n.status&&MsPortalFx.UI.AssetManager.notifyAssetDeleted(t.resourceGroupAssetType,e,"HubsExtension"),n}))}var f=function(e){function t(t){var n=e.call(this,"Invalid server response for ".concat(t))||this;return n.status=406,n}return __extends(t,e),t}(Error),h=function(e){function t(n){var r=e.call(this,"Invalid Resource ID: ".concat(MsPortalFx.sanitizeMessage(n)))||this;return Object.setPrototypeOf(r,t.prototype),r}return __extends(t,e),t}(Error);function m(e,t){var n=e.location||"";return MsPortalFx.extend({locationString:t.get(n)||n},e)}function v(e,t){return __awaiter(this,arguments,void 0,(function(e,t,i){var l,u,d,p,f,h,m,g,y,b,x,C,_,w,P;return void 0===i&&(i={}),__generator(this,(function(E){switch(E.label){case 0:l=i.skipArmCache,u=i.useArgPointGet,d=i.background,p=i.skipCacheMissRetry,f=i.useNonBatchCall,h=r.ArmId.parse(e.split("?")[0]),m=function(n,r){if(l||p){if(r)throw r;return Q.reject({content:null==n?void 0:n.content,headers:null==n?void 0:n.headers,httpStatusCode:404})}return c.trace({source:"getResource",action:"FallbackFromCache",data:{options:i,response:n,error:r}}),v(e,t,{skipArmCache:!0,background:d})},g=l||u&&6===h.kind,y=g?(0,o.resourceApi)(e):(0,o.resourceFromArmCacheApi)(e),E.label=1;case 1:return E.trys.push([1,4,,5]),[4,y];case 2:return b=E.sent(),f?[2,(0,n.ajaxExtended)({headers:{accept:"application/json"},isBackgroundTask:!1,setAuthorizationHeader:!0,setTelemetryHeader:t+".nonBatch",type:"GET",uri:MsPortalFx.trimEnd((0,n.getEndpoints)().arm,"/")+MsPortalFx.ensurePrefix(b,"/")}).then((function(t){var n=t.content;n&&n.value&&(n=n.value[0])&&(n.id=n.id||e);var r=n&&(0,a.toResource)(n);return r||m(t)})).catch((function(e){throw e}))]:(g&&(x="",(0,s.forEachKey)(i.additionalQueryStrings,(function(e,t){x+="&".concat(e,"=").concat(t)})),b+=x,u&&(b+="&useResourceGraph=true")),[4,(0,n.batch)({options:d?4:1,setTelemetryHeader:t,uri:b})]);case 3:return C=E.sent(),(_=C.content)&&_.value&&(_=_.value[0])&&(_.id=_.id||e),(w=_&&(0,a.toResource)(_))?[2,w]:[2,m(C)];case 4:if(P=E.sent(),!u)throw P;return[2,m(null,P)];case 5:return[2]}}))}))}function g(e,t){var n=e.location||"";return MsPortalFx.extend({locationString:t.get(n)||n,trimmedName:MsPortalFx.last((e.name||e.id||"").split("/"))},e)}t.InvalidResourceIdError=h,t.getResourceGroup=function(e,t,n){if(4!==r.ArmId.parse(e.split("?")[0],!0).kind)throw new Error("Invalid resource group ID: ".concat(e));return Promise.all([p(e,t,n),d()]).then((function(t){var n=t[0],r=t[1];if(!n)throw new f(e);return m(n,r)}))},t.mapResourceGroupToResourceGroupWithStrings=m,t.getResource=function(e,t,n){if(!i.ResourceArmIdKindMap[r.ArmId.parse(e.split("?")[0],!0).kind])throw new h(e);return Promise.all([v(e,t,n),d()]).then((function(t){var n=t[0],r=t[1];if(!n)throw new f(e);return g(n,r)}))},t.mapResourceToResourceWithStrings=g})),
define("FxHubs/HubsSettingsSchema",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.writeBrowsePreviewOptInFlagEndpoint=t.allowedUserSettingsKeys=t.Keys=t.writeHubsLastUsedUserSettings=t.deleteHubsUserSettings=t.writeHubsUserSettings=t.readHubsUserSettings=void 0;var n,r=FxImpl.Rpc,o=FxImpl.Constants.RpcMethods;t.readHubsUserSettings=new r.FuncEndPointDefinition(o.shellReadUserSettings),t.writeHubsUserSettings=new r.ActionEndPointDefinition(o.shellWriteUserSettings),t.deleteHubsUserSettings=new r.ActionEndPointDefinition("Shell.deleteUserSettings"),t.writeHubsLastUsedUserSettings=new r.ActionEndPointDefinition(o.shellWriteLastUsedUserSettings),function(e){e.createLastDeployedItems="gallery_create_lastDeployed_galleryItems",e.createLauncherLastUsedSubscriptionId="gallery_createLauncher_lastUsed_subscriptionId",e.createLauncherLastUsedResourceGroupLocation="gallery_createLauncher_lastUsed_resourceGroupLocation",e.deploymentsLastUsedLocations=FxImpl.Azure.lastUsedLocationsKey,e.whatsNewLastNotificationTime="whatsNew_lastNotificationTimestamp",e.subscriptionsSelected="subscriptions_selected",e.pastDueSubscriptionsSnoozed="pastduesubscriptions_snoozed",e.browseColumnsSettings="browse_columns",e.browseFavoriteViews="favorite_views",e.recentResourcesSettings="browse_recentResources",e.directoriesSelected="directories_selected",e.recentArgQueries="recents_argQueries",e.favoriteResourcesSettings="browse_favoriteResources"}(n||(t.Keys=n={})),t.allowedUserSettingsKeys=[n.createLastDeployedItems,n.createLauncherLastUsedSubscriptionId,n.createLauncherLastUsedResourceGroupLocation,n.deploymentsLastUsedLocations],t.writeBrowsePreviewOptInFlagEndpoint=new r.ActionEndPointDefinition("writeBrowsePreviewOptInFlag")})),
define("FxHubs/Common/UserSettingsHelper",["require","exports","Fx/DependencyInjection","FxHubs/HubsSettingsSchema","FxHubs/HubsSettingsSchema","Fx"],(function(e,t,n,r,o,i){Object.defineProperty(t,"__esModule",{value:!0}),t.UserSettingsHelper=void 0;var a=MsPortalFx.Base,s=FxImpl.Rpc,l=a.Constants.Shell,u=function(){function t(e,t){var n=this;this._rpcClient=e,this._diContainer=t,this._settingsCache=Object.create(null),this.useGlobalResourceFiltersMemo=(0,i.memoizePromise)((function(){if(!n._diContainer.get(FxImpl.Features).isEnabled("globalresourcefilter"))return Q(!1);var e="optedIn";return n.readSettings([e],19).then((function(t){return!!t[e]}))}))}return t.prototype.readSettings=function(e,t){var n=t||0;this._settingsCache[n]||(this._settingsCache[n]=Object.create(null));var o=e.join("|");return this._settingsCache[n][o]||(this._settingsCache[n][o]=Q(r.readHubsUserSettings.invoke(this._rpcClient,l,{settingsKeys:e,settingStore:t}))),this._settingsCache[n][o]},t.prototype.writeSettings=function(e,t,n){var o=this;return Q(r.writeHubsUserSettings.invoke(this._rpcClient,l,{settings:e,priority:t,settingStore:n})).then((function(e){return o._clearCacheForStore(n)}))},t.prototype.deleteSettings=function(e,t){var n=this;return Q(r.deleteHubsUserSettings.invoke(this._rpcClient,l,{settingsKeys:e,settingStore:t})).then((function(e){return n._clearCacheForStore(t)}))},t.prototype.writeLastUsedSettings=function(e){return Q(r.writeHubsLastUsedUserSettings.invoke(this._rpcClient,l,e))},t.prototype.writeBrowsePreviewOptIn=function(e,t,n,r,i){var a=this;return Q(o.writeBrowsePreviewOptInFlagEndpoint.invoke(this._rpcClient,"fx",{assetIds:e,value:r,resourceType:t,kind:n,preventAutoBladeLaunch:i})).then((function(e){return a._clearCacheForStore(15)}))},t.prototype._clearCacheForStore=function(e){delete this._settingsCache[e||0]},t=__decorate([__metadata("fx:diagnostics",[e,"UserSettingsHelper"]),n.Class(),__metadata("design:paramtypes",[s.Client,n.Container])],t)}();t.UserSettingsHelper=u})),
define("FxHubs/ResourceManagement",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.supportsAnyOption=t.supportsOption=t.supportsAnyContract=t.supportsContract=t.AssetTypeOptions=t.AssetTypeContracts=void 0;var n=MsPortalFx.Assets,r=MsPortalFx.Extension;t.AssetTypeContracts=n.AssetContracts,t.AssetTypeOptions=r.AssetTypeOptions,t.supportsContract=function(e,t){return(e&t)===t},t.supportsAnyContract=function(e,t){return 0!=(e&t)},t.supportsOption=function(e,t){return(e&t)===t},t.supportsAnyOption=function(e,t){return 0!=(e&t)}})),
define("FxHubs/Utilities",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MapWithKeyTransform=void 0;var n=function(){function e(e){this._map=new Map,this._toInternal=e.sourceToInternal,this._toSource=e.internalToSource}return e.prototype.clear=function(){this._map.clear()},e.prototype.delete=function(e){return this._map.delete(this._toInternal(e))},e.prototype.forEach=function(e,t){var n=this;this._map.forEach((function(r,o,i){e.call(t,r,n._toSource&&n._toSource(o),n)}),t)},e.prototype.get=function(e){return this._map.get(this._toInternal(e))},e.prototype.has=function(e){return this._map.has(this._toInternal(e))},e.prototype.set=function(e,t){return this._map.set(this._toInternal(e),t),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!1,configurable:!0}),e}();t.MapWithKeyTransform=n})),
define("FxHubs/ArtHelpers/ArgBrowseHelpers",["require","exports","Fx","Fx","Fx/Composition/Selectable","Fx/Errors","FxHubs/ResourceManagement","FxHubs/RpcEndPoints","Fx/ResourceManagement","FxHubs/Utilities","MsPortalFx/Globalization","FxHubs/Resources/FxHubsClientStrings","FxHubs/HubsSettingsSchema","FxHubs/Common/UserSettingsHelper"],(function(e,t,n,r,o,i,a,s,l,u,c,d,p,f){var h,m,v,g;Object.defineProperty(t,"__esModule",{value:!0}),t.getResourceTypeKey=t.getPersistedBrowseColumns=t.getVisibleBrowseColumns=t.getDefaultBrowseColumns=t.setDefaultBrowseColumns=t.initializeColumnsWithSettings=t.initializeColumns=t.getCreateBlade=t.getBrowsePreRequisitesMemoized=t.knownArgTopLevelOperatorsLowerCased=t.getColumnName=t.dateFormatter=t.numberFormatter=t.mapArgResponseToArgBrowseItems=t.areColumnsInitialized=t.canOptIn=t.defaultDateTimeFormat=t.columnIdToArgColumnForReact=t.columnIdToStringMapForReact=t.columnIdToArgColumn=t.columnIdToStringMap=t.resourceDefaultColumns=t.resourceVisibleColumns=t.resourcePersistedColumns=t.initializedFromSettings=void 0;MsPortalFx.Extension.BrowseType;var y=MsPortalFx.Extension.ResourceRoutingType,b=MsPortalFx.Azure,x=MsPortalFx.UnitConversionUtil,C=(MsPortalFx.Assets.ResourceColumnIds,MsPortalFx.Base.Diagnostics.Telemetry),_=MsPortalFx.Base.Diagnostics.createLog(e),w=(0,r.memoizePromise)((function(){return Q(n.require("FxHubs/MarketplaceRpc"))})),P=function(e){return new o.PdlBladeReference("GalleryResultsListBlade","Microsoft_Azure_Marketplace",e)},E=function(e){return new o.PdlBladeReference("GalleryFeaturedMenuItemBlade","Microsoft_Azure_Marketplace",e)},F=p.Keys.browseColumnsSettings;t.initializedFromSettings={},t.resourcePersistedColumns=new Map,t.resourceVisibleColumns=new Map,t.resourceDefaultColumns=new Map,t.columnIdToStringMap=((h={})[1]="name",h[2]="kind",h[3]="resourceGroup",h[4]="location",h[5]="locationId",h[6]="resourceId",h[7]="resourceGroupId",h[8]="resourceType",h[9]="subscription",h[10]="subscriptionId",h[11]="assetType",h[12]="tagsArray",h[13]="edgeZone",h),t.columnIdToArgColumn=((m={})[6]="id",m[8]="type",m[12]="tags",m[13]="extendedLocation",m),t.columnIdToStringMapForReact=((v={})[1]="name",v[2]="kind",v[3]="resourceGroup",v[4]="location",v[5]="locationId",v[6]="resourceId",v[7]="resourceGroupId",v[8]="resourceType",v[9]="subscription",v[10]="subscriptionId",v[11]="type",v[12]="tagsArray",v[13]="edgeZone",v),t.columnIdToArgColumnForReact=((g={})[6]="id",g[8]="type",g[12]="tags",g[13]="extendedLocation",g),t.defaultDateTimeFormat=FxImpl.Intl.DateTimeFormat.create({year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}),t.canOptIn=function(e,t){if(t){if(1!==t.browseType)return!1;if(MsPortalFx.isFeatureEnabled("artbrowse")&&(!(0,a.supportsContract)(t.contracts,2)||e&&4!==e)&&(t.routingType||y.Default)===y.Default&&4!==e&&3!==e)return!0}return 2===e},t.areColumnsInitialized=function(e){return!!t.initializedFromSettings[e]},t.mapArgResponseToArgBrowseItems=function(e,t,n,r,o,i,a){var s=e.data||{},u=MsPortalFx.convertArrayToMap(s.columns,(function(e){return e.name}),(function(e,t){return t})),c=u.id,d=u.name,p=u.type,f=u.kind,h=u.subscriptionId,m=u.subscriptionDisplayName,v=u.tags,g=MsPortalFx.getUniqueId();null==a||a.preProcessor(g);var y=(s.rows||[]).reduce((function(e,u){var y=u[c],x=u[p],C=u[f],_=x&&n&&n[x.toString().toLowerCase().trim()];if(!_&&t&&(_={}),_){var w=_.partDetails;if(C){var P=function(e){w=e.partDetails},E=(_.kindMap||Object.create(null))[C];E?P(E):_.defaultKind&&P(_.defaultKind)}w||(w=i);var F=u[h],I=u[v]||Object.create(null),M=u[d],S=l.ArmId.parse(y,!0);0===S.kind&&0!==(S=l.ArmId.parse("/"+y,!0)).kind&&(y="/"+y),M=l.ResourceName.getDisplayName({id:y,name:M,armId:S,tags:I})||M;var k={};(s.columns||[]).forEach((function(e,t){var n=MsPortalFx.replaceAll(e.name,"_","."),i=r[n]||MsPortalFx.identity;k[n]=i(u[t],o[n])})),k.id=y,k.name=M,k.resourceGroupId=l.ArmId.stringify(S,4),k.tagsArray=ko.observable(null),k.partDetails=w,k.tags=ko.observable(I);var R=u[m];R?k.subscriptionDisplayName=ko.observable(R):(k.subscriptionDisplayName=ko.observable(F),F&&MsPortalFx.tryImmediateResolve(b.getSubscriptionInfo(F),(function(e){k.subscriptionDisplayName(e.displayName)}))),null==a||a.itemProcessor(g,k),e.push(k)}return e}),[]);return null==a||a.postProcessor(g),y};t.numberFormatter=function(e,t){if("number"!=typeof e)return e;var n=e;if(t.sourceUnits){var r=x.getAppropriateUnit(n,x.Unit[x.Unit[t.sourceUnits]]),o=x.getConversionFactor(x.Unit[x.Unit[t.sourceUnits]],r),i=x.toString(r,!0);return o&&1!==o&&(n/=o),c.NumberFormat.create({maximumFractionDigits:t.maximumFractionDigits}).format(n)+" "+i}return c.NumberFormat.create({maximumFractionDigits:t.maximumFractionDigits}).format(n)};t.dateFormatter=function(e,n){var r=Date.parse(e);return isNaN(r)?e:t.defaultDateTimeFormat.format(new Date(r))};function I(e,n,r){if(!t.initializedFromSettings[e]||r)return t.initializedFromSettings[e]=Q(),MsPortalFx.forEachKey(n,(function(e,n){A(t.resourcePersistedColumns,e.toLowerCase())(n)})),!0}function M(e,n,r){if(!t.initializedFromSettings)throw new Error("Columns not initialized, call initializeColumns() first");return R(t.resourceDefaultColumns,e,n,r)}function S(e,n,r){if(!t.initializedFromSettings)throw new Error("Columns not initialized, call initializeColumns() first");return R(t.resourcePersistedColumns,e,n,r)}function k(e,t,n){return n>1?(e+(t?"|"+t:"")+"."+n.toString()).toLowerCase():(e+(t?"|"+t:"")).toLowerCase()}function R(e,t,n,r){return A(e,k(t,n,r))}function A(e,t){var n=e.get(t);return n||(n=ko.observable(),e.set(t,n)),n}t.getColumnName=function(e){return"string"==typeof e?e:t.columnIdToArgColumn[e]||t.columnIdToStringMap[e]},t.knownArgTopLevelOperatorsLowerCased=["count","distinct","extend","join","limit","mvexpand","mv-expand","order","parse","project","project-away","sort","summarize","take","top","union","where"],t.getBrowsePreRequisitesMemoized=n.memoizePromise((function(e){return Q(s.ArtBrowse.getBrowsePrereqsEndpoint.invoke(FxImpl.Rpc.client,"fxw",e))}),{cacheFactory:function(){return new u.MapWithKeyTransform({sourceToInternal:function(e){var t;return(null==e?void 0:e.resourceTypeKey)||(null===(t=null==e?void 0:e.resourceType)||void 0===t?void 0:t.toLowerCase())}})}}),t.getCreateBlade=function(e,t){var n,a=e.sourceBladeOrPartName||"Resources";if(e.noPdlCreateBlade)return t&&(n={},(0,r.forEachKey)(e.noPdlCreateParameters,(function(e,r){n[e]="string"==typeof r&&"{resourceid}"===r.toLowerCase()?t:r}))),Q(new o.ProvisioningBladeReference(e.noPdlCreateBlade,e.noPdlCreateExtension,e.marketplaceItemId,{parameters:n||e.noPdlCreateParameters,onClosed:e.onBladeClosed}));if(e.marketplaceItemId){var s={extension:"HubsExtension",detailBlade:"NoCreateFlowBlade",detailBladeInputs:{marketplaceItemId:e.marketplaceItemId}},l=e.createFlowPromise||Q(w().then((function(t){return t.getCreateFlow({marketplaceGalleryItemId:e.marketplaceItemId,launchingContext:{telemetryId:MsPortalFx.newGuid(),galleryItemId:e.marketplaceItemId,source:[a,e.resourceType]},dontDiscardJourney:!0,error:{extension:e.noPdlCreateExtension,maretplaceItemId:e.marketplaceItemId}})})));e.onCreateFlowPromise&&e.onCreateFlowPromise(l);var u=new o.PdlBladeReference("NoCreateFlowBlade","HubsExtension",{parameters:s.detailBladeInputs,onClosed:e.onBladeClosed});return l.then((function(t){if("bladeSelection"in t){var n=void 0,r=t.createVersion;switch(void 0===r&&(r=t.isOldCreate?0:2),r){case 0:return C.trace({action:"OldCreateFlowLaunched",source:a,data:{marketplaceItemId:e.marketplaceItemId}}),u.parameters.notSupported=!0,Q.resolve(u);case 1:case 2:var i=t.bladeSelection.detailBladeInputs;n=new o.ParameterProviderBladeReference(t.bladeSelection.detailBlade,t.bladeSelection.extension,{parameters:i,onClosed:e.onBladeClosed,supplyInitialData:function(){return i.internal_bladeCallerParams&&FxImpl.fromSerializableObject(i.internal_bladeCallerParams.initialData)},receiveResult:function(){return{}},supplyProviderConfig:function(){return i.internal_bladeCallerParams&&i.internal_bladeCallerParams.providerConfig}});break;case 3:n=new o.ProvisioningBladeReference(t.bladeSelection.detailBlade,t.bladeSelection.extension,null,{parameters:{internal_bladeCallerParams:Q(t)},onClosed:e.onBladeClosed})}return Q(n)}return Q(new o.ProvisioningBladeReference(t.bladeName,t.bladeExtension,null,{parameters:__assign({},t.bladeInputs)}))})).catch((function(t){return _.warning(new i.FxError({message:"Could not get the create flow for item <".concat(e.marketplaceItemId,">. Error: ").concat(MsPortalFx.getLogFriendlyMessage(t)),innerErrors:[t]})),u}))}if(e.marketplaceMenuItemId){var c=void 0,d=e.marketplaceMenuItemId;return c=e.listScopeArmId&&4===e.listScopeArmId.kind?d.includes("/")?P({parameters:{selectedSubMenuItemId:{menuItemId:d,dontDiscardJourney:!0,resourceGroup:e.listScope,resourceGroupLocation:e.listScopeLocation,launchingContext:{source:"AddResourceCommand"}}},callbacks:null,onClosed:e.onBladeClosed}):E({parameters:{selectedMenuItemId:d,dontDiscardJourney:!0,resourceGroup:e.listScope,resourceGroupLocation:e.listScopeLocation,launchingContext:{source:"AddResourceCommand"}},callbacks:null,onClosed:e.onBladeClosed}):d.includes("/")?P({parameters:{selectedSubMenuItemId:{menuItemId:d,dontDiscardJourney:!0,launchingContext:{source:"".concat(a," ").concat(e.resourceType)}}},callbacks:null,onClosed:e.onBladeClosed}):d===MsPortalFx.Base.Constants.GalleryMenuItems.HomeMenuItem?new o.PdlBladeReference(MsPortalFx.Base.Constants.BladeNames.Hubs.CreateHubBlade,"Microsoft_Azure_Marketplace",{parameters:{package:null,additionalConfig:null,dontDiscardJourney:!0,selectedMenuItemId:null,createLanding:null},onClosed:e.onBladeClosed}):E({parameters:{selectedMenuItemId:d,dontDiscardJourney:!0,launchingContext:{source:"".concat(a," ").concat(e.resourceType)}},callbacks:null,onClosed:e.onBladeClosed}),Q(c)}},t.initializeColumns=function(e,n){if(!t.initializedFromSettings[n]){var r=C.start({source:"ColumnChooser",action:"ReadUserSettingsV"+n}),o=Q(e.get(f.UserSettingsHelper).readSettings([F],n>1?15:void 0)).then((function(e){C.endTrace(r,"complete"),I(n,e[F],!0)}));t.initializedFromSettings[n]=o}return t.initializedFromSettings[n]},t.initializeColumnsWithSettings=I,t.setDefaultBrowseColumns=function(e,n,r,o){if(!t.initializedFromSettings)throw new Error("Columns not initialized, call initializeColumns() first");M(e,n,r)(o)},t.getDefaultBrowseColumns=M,t.getVisibleBrowseColumns=function(e,n,r){if(!t.initializedFromSettings)throw new Error("Columns not initialized, call initializeColumns() first");var o=k(e,n,r),i=t.resourceVisibleColumns.get(o);if(!i){var a=M(e,n,r),s=S(e,n,r);(i=ko.pureComputed((function(){var e=a(),t=s();if(t){var n=[];return t.forEach((function(t){if(t.visible){var r=t.id,o=void 0,i=MsPortalFx.find(e,(function(e){return e.id===r}));if(i&&(o=MsPortalFx.extend2(i,{visible:!0})),!i&&MsPortalFx.startsWith(r,"tags.")){var a=r.slice(5);o={id:r,name:d.Browse.tagColumnNameFormat.format(a),format:MsPortalFx.ViewModels.Controls.Lists.Grid.Format.HtmlBindings,formatOptions:{htmlBindingsTemplate:'\x3c!-- ko if: value --\x3e<div data-bind="pcControl:value"></div>\x3c!-- /ko --\x3e'},visible:!0}}o&&n.push(o)}})),e.forEach((function(e){e.visible&&(MsPortalFx.find(t,(function(t){return t.id===e.id}))||n.push(e))})),n}return e.filter((function(e){return e.visible}))}))).extend({deferred:!0}),t.resourceVisibleColumns.set(o,i)}return i},t.getPersistedBrowseColumns=S,t.getResourceTypeKey=k})),
define("FxHubs/Helpers/NotificationHelper",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.escapeHtmlTags=t.convertStringToHtml=t.htmlTagRegex=t.linkUrlRegex=void 0,t.linkUrlRegex=new RegExp(/\bhttps:\/\/[a-z0-9][^\s"]*/,"gi"),t.htmlTagRegex=new RegExp(/</,"g"),t.convertStringToHtml=function(e){if(!e)return e;var n=e.match(t.linkUrlRegex);if(n&&(null==n?void 0:n.length)>0){var r="",o=0;return n.map((function(e){return e.trim()})).filter((function(e){return!!e})).forEach((function(t){var n=e.indexOf(t,o);r+=e.substring(o,n);for(var i=t.charAt(t.length-1),a=t,s="";"."===i||","===i;)s=i+s,i=(a=a.slice(0,-1)).charAt(a.length-1);a.length<t.length?r+='<a target="_blank" class="msportalfx-ext-link" href="'.concat(encodeURI(a),'">').concat(a,"</a>").concat(s):r+='<a target="_blank" class="msportalfx-ext-link" href="'.concat(encodeURI(t),'">').concat(t,"</a>"),o=n+t.length})),r="<div>".concat(r).concat(e.substring(o),"</div>")}return e},t.escapeHtmlTags=function(e){return e?e.replaceAll("<","&lt").replaceAll(">","&gt"):e}})),
define("FxHubs/Helpers/PermissionsHelpers",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEV=t.isCoAdminOnSub=t.subscriptionRequiresRdfe=void 0;var n=MsPortalFx.Azure,r=MsPortalFx.getEnvironmentValue("armSubscriptionQuotaIds",[]);var o=MsPortalFx.convertArrayToMap(r,(function(e){return(e||"").toLowerCase()}),(function(){return!0}));t.subscriptionRequiresRdfe=function(e){return"false"!==MsPortalFx.getFeatureValue("rdfe")&&(!e||!e.subscriptionPolicies||!o[(e.subscriptionPolicies.quotaId||"").toLowerCase()])},t.isCoAdminOnSub=function(e){return Q(n.getSubscriptionInfo(e)).then((function(e){return(e.authorizationSource||"").toLowerCase().indexOf("legacy")>=0}))}})),
define("FxHubs/ProvisioningRpc",["require","exports","FxHubs/RpcEndPoints"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.provisioningContextEndpoint=t.register=void 0,t.register=function(e){n.Provisioning.createPostProvisioningContentEndPoint.registerObjectFactory(e,{allowedOrigin:["fx","HubsExtension","Microsoft_Azure_Resources"],allowRemoteChanges:!0,handler:function(e){var t=new FxImpl.TriggerableLifetimeManager;return MsPortalFx.require(e.viewModelLocator.module).then((function(n){var r,o=n[e.viewModelLocator.export];if((r=o)._fx&&void 0!==r._fx.itemType||(o=new o(null,null,null)._viewModelClass),!o)throw new Error("Unable to locate blade viewmodel based on locator. Locator: ".concat(JSON.stringify(e.viewModelLocator)));return{getContent:function(e){return o.createPostProvisioningContent(t,e)},lifetime:t}}))}})},t.provisioningContextEndpoint=new FxImpl.Rpc.FuncEndPointDefinition("ProvisioningContext")})),
define("FxInternal/Assets/AssetTypes",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getAllAssetTypesEndPoint=void 0,t.getAllAssetTypesEndPoint=new FxImpl.Rpc.FuncEndPointDefinition(FxImpl.Constants.RpcMethods.getAllAssetTypes)})),
define("FxInternal/AsyncLoaderCore",["require","exports","FxInternal","FxInternal/Rpc"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.makeRegistration=t.registerRpc=t.defineHandler=t.get=void 0;var o=window;function i(e,t){return Q((0,n.tryImmediateResolve)((r=e,Q.promise((function(e,t){o.requirejs([r],e,t)}))),(function(e){return e[t]})));var r}t.get=i,t.defineHandler=function(e,t){return t},t.registerRpc=function(e,t,o){o=o||e.get(r.Client),(0,n.forEachKey)(t,(function(t,r){(0,n.forEachKey)(r,(function(n,r){r(e,o,t,n)}))}))},t.makeRegistration=function(e,t){return function(r,o,a,s){return e.register(o,t,(function(e,t){return(0,n.tryImmediateResolve)(i(a,s),(function(n){return n({diContainer:r,messageArg:e,messageContext:t})}))})),null}}})),
define("FxInternal/AsyncLoader",["require","exports","FxInternal/AsyncLoaderCore"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.makeProxyRegistration=t.makeRegistration=t.registerRpc=t.defineProxyHandler=t.defineHandler=t.getFactory=t.get=void 0,t.get=n.get,t.getFactory=function(e,n){return function(){return Q((0,t.get)(e,n))}},t.defineHandler=n.defineHandler;t.defineProxyHandler=function(e,t){return t},t.registerRpc=function(e,t){(0,n.registerRpc)(e,t,e.get(FxImpl.Rpc.Client))},t.makeRegistration=n.makeRegistration,t.makeProxyRegistration=function(e,n,r){return function(o,i,a,s){return e.registerObjectFactory(i,{allowedOrigin:n,allowRemoteChanges:r,handler:function(e,n,r){return MsPortalFx.tryImmediateResolve((0,t.get)(a,s),(function(t){return t({diContainer:o,messageArg:e,messageContext:n,messageLifetime:r})}))}}),null}}})),
define("FxInternal/Authentication/TokensCommon",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.translateCommonEndpoint=t.isCommonEndPointMatch=void 0;var n=/\{(.*?)\}/,r=new Map([["{graph}",FxImpl.internalEnv.fxGraphEndpoint],["{msgraph}",FxImpl.internalEnv.fxMsGraphEndpoint]]);t.isCommonEndPointMatch=function(e){return n.exec(e)},t.translateCommonEndpoint=function(e){return r.get(e)}})),
define("FxInternal/Composition/BladeContainer",["require","exports","FxInternal/Composition/Part"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.bindActionBar=t.BladeContainer=void 0;var r=MsPortalFx.ViewModels.ActionBars.Base,o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._actionBar=ko.observable(),r}return __extends(t,e),t}(n.PartContainer);t.BladeContainer=o,t.bindActionBar=function(e,t){var n=t&&t.actionBar;n instanceof r.ViewModel&&e._actionBar(n)}})),
define("FxInternal/Composition/DashboardFilters",["require","exports","Fx/Composition/DashboardFilters"],(function(e,t,n){var r;return function(e){var t,r,o=((t={})[n.TimeRangeFilter.filterId]=0,t[n.SubscriptionFilter.filterId]=2,t[n.LocationFilter.filterId]=3,t[n.ResourceGroupFilter.filterId]=5,t[n.ResourceTypeFilter.filterId]=4,t);e.operatorStrings=((r={})[0]="==",r[1]="!=",r[2]="contains",r[3]="!contains",r[4]="startswith",r[5]="!startswith",r[6]="endswith",r[7]="!endswith",r),e.defaultFilterOperators=[{text:e.operatorStrings[0],value:0},{text:e.operatorStrings[1],value:1}],e.isTimeRangeFilter=function(e){return!MsPortalFx.isNullOrUndefined(e.granularity)},e.supportsOperator=function(e,t){return(e&&e.length?e:[0,1]).includes(t)},e.getFilterKindFromId=function(e){return MsPortalFx.isNullOrUndefined(o[e])?1:o[e]}}(r||(r={})),r})),
define("FxInternal/Composition/TemplateBlade2",["require","exports","Fx/DependencyInjection"],(function(e,t,n){var r;return function(t){function r(e){FxImpl.logObsoleteAPI("Fx/Composition/TemplateBlade2","Fx/Composition/TemplateBlade or ReactViews",e)}t.logObsoleteTemplateBlade2=r,t.Decorator=function(e){return function(t){n.Class("viewModel")(t);var o=t._fx||(t._fx={});o.itemType=12,o.options=e,o.isWeaveBlade=!0,"HubsExtension"!==MsPortalFx.getEnvironmentValue("extensionName")&&r()}};var o=function(){function t(){}return t=__decorate([__metadata("fx:diagnostics",[e,"Container"]),n.Value("viewModel")],t)}();t.Container=o,function(e){e.Decorator=function(e){return function(t){(t._fx||(t._fx={})).configurableOptions=e||{}}}}(t.Configurable||(t.Configurable={})),function(e){e.Decorator=function(){return function(e){}}}(t.ReturnsData||(t.ReturnsData={})),function(e){e.Decorator=function(){return function(e){}}}(t.Pinnable||(t.Pinnable={})),function(e){e.Decorator=function(e){return function(t){Reflect.defineMetadata("fx:forContextPane",e,t)}}}(t.ForContextPane||(t.ForContextPane={})),function(e){e.Decorator=function(e){return function(e){}}}(t.ReplacesOldBlade||(t.ReplacesOldBlade={}))}(r||(r={})),r})),
define("FxInternal/Composition/ViewModel",["require","exports","Fx/DependencyInjection"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PartContext=t.markAsV2=t.isV2=void 0,t.isV2=function(e){return e&&e._msPortalFx_viewModelApiV2},t.markAsV2=function(e){return e._msPortalFx_viewModelApiV2=!0,e};var r=function(){function t(){}return t=__decorate([__metadata("fx:diagnostics",[e,"PartContext"]),n.Value("viewModel")],t)}();t.PartContext=r})),
define("FxInternal/Utils/Promise",["require","exports"],(function(e,t){function n(e){return e instanceof Promise}Object.defineProperty(t,"__esModule",{value:!0}),t.preventUnhandledRejection=t.memoizePromiseValue=t.tryImmediateResolveValue=t.isPromise=void 0,t.isPromise=n,t.tryImmediateResolveValue=function(e,t,r){var o;if(Q.isPromise(e)&&Q.isFulfilled(e))o=e.inspect().value;else{if(n(e))return e.then(t,r);o=e}try{var i=t(o);return Promise.resolve(i)}catch(e){var a=Promise.reject(e);return r&&(a=a.catch(r)),a}},t.memoizePromiseValue=function(e){var t=new Map;return function(r){if(t.has(r))return t.get(r);var o;try{o=e(r)}catch(e){return Promise.reject(e)}if(Q.isPromise(o)&&o.isFulfilled())o=o.inspect().value;else{if(Q.isPromise(o)&&o.isRejected())return o;n(o)&&(o=o.then((function(e){return t.get(r)===o&&t.set(r,e),e}),(function(e){return t.get(r)===o&&t.delete(r),Promise.reject(e)})))}return t.set(r,o),o}},t.preventUnhandledRejection=function(e){return e.catch((function(){})),e}})),
define("Weave/Core/WeaveUtil",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.returnThis=t.raiseAsyncError=t.tryPopFromMapOfArray=t.addToMapOfArray=t.noop=t.resolvedPromise=void 0,t.resolvedPromise=Promise.resolve(),t.noop=function(){},t.addToMapOfArray=function(e,t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},t.tryPopFromMapOfArray=function(e,t){var n=e.get(t);return n&&n.pop()};t.raiseAsyncError=function(e){t.resolvedPromise.then((function(){throw e}))},t.returnThis=function(){return this}})),
define("Weave/Core/Computation",["require","exports","Weave/Core/WeaveUtil"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t._identity=t._makeIndirectComputation=t._makeArrayComputation=t._makeWritableComputation=t._makeConstantComputation=t._ensureComputationState=t.resolveComputation=t.pokeComputation=t._composeSubscription=t._isComputation=t._composeComputation=t._makeLiftedArrayComputation=t._waitForChangePropagation=t.invokeAfterChangePropagation=t.getDebugInfo=void 0;var r=new WeakMap,o=new Map,i=[],a=[],s=[],l=0,u=0,c=n.resolvedPromise,d=void 0;function p(e,t,n){e.splice(n,0,t)}function f(e,t,n){e.splice.apply(e,__spreadArray([n,0],t||[],!1))}function h(e,t){e.push(t)}function m(e,t){e.push.apply(e,t||[])}function v(e,t){var n=e.pop();n!==t&&(e[e.indexOf(t)]=n)}function g(){return c}function y(e){for(var t=e,n=s.length;t<n;t++)s[t].flags&=-257;s.length=e}function b(){for(var e=0,t=i;e<t.length;e++){(o=t[e]).refCount&&(S(o,M),y(0))}i.length=0;for(var n=0,r=a;n<r.length;n++){var o;xe(o=r[n],!1,!1)}a.length=0,d(),d=void 0}function x(e){d=e}function C(){d||(c=new Promise(x),n.resolvedPromise.then(b))}function _(e){2&e.flags&&(u--,e.flags&=-3)}function w(e){if(256&e.flags)throw new Error("Cannot modify a dependency of a graph evaluation.");if(2&~e.flags&&e.refCount){if(e.flags|=2,u++,e.dependents)for(var t=0,n=e.dependents;t<n.length;t++){w(n[t])}e.fn&&(e.flags&=-2),16&e.flags&&(i.push(e),C())}}function P(e,t){return e!==t||Array.isArray(t)}function E(e,t,n){return t>=e.length||P(e[t],n)}function F(e){var t=e.args,n=e.argsChangeIndex,r=0;t&&128&e.flags&&(t.length=0),e.flags|=128;for(var o=0,i=e.dependencies,a=i.length;o<a;o++){var s=i[o],l=M(s);t&&(4&s.flags?n-=E(t,o,l)?1:0:r+=s.changeIndex,t[o]=l)}return e.flags&=-129,e.argsChangeIndex=r,n!==r}function I(e){return!!(32&e.flags)}function M(e){var t=e.flags;if(_(e),1&~t){if(256&t)throw new Error("Cyclic computation graph detected.");e.flags|=256,s.push(e);var n=e.dependencies&&F(e),o=64&t;e.flags|=128;var i=e.value;if(I(e))i=e.fn(0);else{var a=e.valueComp;if(n){i=e.fn.apply(void 0,e.args);var l=r.get(i);a!==l&&(pe(e,a,l),e.valueComp=a=l)}a&&(i=M(a))}(o&&i||!o&&P(e.value,i))&&(e.value=i,e.changeIndex++),e.flags=-129&e.flags|1}return e.value}function S(e,t){try{return t(e),!0}catch(t){e.errorHandler(t)}}function k(e,t){var n=j(void 0,void 0,void 0,1|t);return n.value=e,n}function R(e){return k(e,8)}t.getDebugInfo=function(){return{activatedCount:l,lifetimeCount:o.size,pendingPropagationCount:u}},t.invokeAfterChangePropagation=function(e){return i.length?g().then(e):(e(),n.resolvedPromise)},t._waitForChangePropagation=g;var A=R(void 0),T=R(!1),D=R(!0),B=R(null),N=R("");function O(e){switch(e){case void 0:return A;case!1:return T;case!0:return D;case null:return B;case"":return N;default:return R(e)}}function L(e){return r.get(e)||O(e)}function j(e,t,n,o){if(e&&!t)throw new TypeError("fn parameter is required.");var i={activate:Pe,args:32&o||!e?void 0:[],argsChangeIndex:0,changeIndex:1,compose:Ee,composeArray:Fe,dependencies:e,dependents:24&o?void 0:[],errorHandler:n,flags:o,fn:t,refCount:0,value:void 0,valueComp:void 0};return r.set(i,i),i}function V(e,t,n){return j(e,n,void 0,32|t)}function H(e,t){t.hasValue=e&&!!e.length,t.value?t.value.length=0:t.value=[],t.hasValue&&m(t.value,e)}function W(e,t){t.hasValue=!!e,t.value=t.source}function q(e,t){t.hasValue=!0,t.value=e}function U(e,t,n){q(function(e,t){var n=e.get(t);n||e.set(t,n={array:[],index:0});return n}(n,e),t)}function z(){return!0}function G(){return!1}function Q(e,t){return t}var K=function(){function e(e,t,n,r,o){this._context=e,this._arrayDependency=t,this._projectionFn=n,this._adjustRefsForValueFn=r,this._metadataValueFn=o,this._deletionList=[],this._projectionMap=new Map}return e.prototype.prune=function(e){for(var t=0,n=this._deletionList,r=n.length;t<r;t++){var o=n[t];if(o.refCount)o.flags&=-3;else{o.hasValue&&this._adjustRefsForValueFn(o.value,-1,this._context);var i=o.computation;i&&ge(e,i),this._projectionMap.delete(o.source)}}this._deletionList.length=0},e.prototype.evaluate=function(e,t){var n,o,i=this._projectionMap.get(e);if(1&~i.flags){i.flags|=1;var a=this._projectionFn(e),s=r.get(a);s?(i.computation=s,he(t,s)):n=a,o=!0}var l=i.computation;if(l&&(n=M(l),i.changeIndex!==l.changeIndex&&(i.changeIndex=l.changeIndex,o=!0)),o){var u=this._context;i.hasValue&&this._adjustRefsForValueFn(i.value,-1,u),this._metadataValueFn(n,i,u),i.hasValue&&this._adjustRefsForValueFn(i.value,1,u)}return i},e.prototype.adjustRefCount=function(e,t){var n=this._arrayDependency;if(e>0){n.dependents.push(this);for(var r=0,o=n.array,i=o.length;r<i;r++)this.adjustValueRefCount(o[r],1)}else v(n.dependents,this),this._projectionMap.forEach((function(e){e.computation&&ge(t,e.computation)})),this._deletionList.length=0,this._projectionMap.clear()},e.prototype.adjustValueRefCount=function(e,t){var n=this._projectionMap.get(e);n||this._projectionMap.set(e,n={changeIndex:0,computation:void 0,flags:0,hasValue:!1,refCount:0,source:e,value:void 0}),n.refCount+=t,!n.refCount&&2&~n.flags&&(n.flags|=2,this._deletionList.push(n))},e}();function $(e,t,n){for(var r=0,o=n;r<o.length;r++){o[r].adjustValueRefCount(e,t)}}function J(e,t,n,r){if(r.length)for(var o=e,i=t.length;o<i;o++)$(t[o],n,r)}function X(e,t,n){J(0,e,t,n)}function Y(e,t,n){return E(t,e,n)?(t[e]=n,-1):1}function Z(e,t,n){for(var r=n.length,o=1,i=0;i<r;i++)Y(e+i,t,n[i])<0&&(o=-1);return r*o}function ee(e,t,r,o,i){var a=new K(void 0,e,t,n.noop,W),s=V([e.state],0,(function(t){if(0===t){a.prune(s);for(var n=0,l=e.array,u=l.length;n<u;n++){var c=l[n],d=a.evaluate(c,s);if(r===d.hasValue)return o(c,n)}}else a.adjustRefCount(t,s);return i}));return s}function te(e,t,n,r){for(var o=!1,i=e?e.length:0,a=0;a<i;a++){var s=n(e[a]);E(t,a,s)&&(a<t.length&&$(t[a],-1,r),t[a]=s,$(s,1,r),o=!0)}return t.length>i&&(J(i,t,-1,r),t.length=i,o=!0),o?t:void 0}var ne=function(){function e(e,t,n){this.dependents=e,this.array=[],this.state=V(t&&[t],64,n),r.set(this,this.state)}return e.prototype.compose=function(e){return this.state.compose(e)},e.prototype.composeArray=function(e){return this.state.composeArray(e)},e.prototype.cEvery=function(e){return ee(this,e,!1,G,!0)},e.prototype.cFlatMap=function(e){return re(this,e,X,H,Z)},e.prototype.cFilter=function(e){return re(this,e,$,W,Y)},e.prototype.cFind=function(e){return ee(this,e,!0,Se,void 0)},e.prototype.cFindIndex=function(e){return ee(this,e,!0,Q,-1)},e.prototype.cGroupBy=function(e){return new ce(this,e)},e.prototype.cMap=function(e){return re(this,e,$,q,Y)},e.prototype.cSome=function(e){return ee(this,e,!0,z,!1)},e}();function re(e,t,n,r,o){var i=[],a=new K(i,e,t,n,r),s=new ne(i,e.state,(function(t){var n=s.state,r=s.array;if(0===t){a.prune(n);for(var i=!1,l=0,u=0,c=e.array,d=c.length;u<d;u++){var p=a.evaluate(c[u],n);if(p.hasValue){var f=o(l,r,p.value);f<0&&(f*=-1,i=!0),l+=f}}return l!==r.length&&(i=!0,r.length=l),i?r:void 0}return a.adjustRefCount(t,n),r.length=0,r}));return s}function oe(e,t,n){var r=e.state;w(r);var o=e.value.splice(t,n);r.refCount&&e.adjustRefsForValues(o,-1,e.dependents)}function ie(e,t,n,r){var o=e.state;w(o);var i=e.mapInput(n);r(e.value,i,t),o.refCount&&e.adjustRefsForValue(i,1,e.dependents)}function ae(e,t,n,r){if(n){var o=e.state;w(o);var i=n.map(e.mapInput);r(e.value,i,t),o.refCount&&e.adjustRefsForValues(i,1,e.dependents)}}var se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.clear=function(){var e=this.state;e.refCount&&(w(e),this.adjustRefsForValues(this.value,-1,this.dependents)),this.value.length=0},t.prototype.insert=function(e,t){this._validate(e,1,"index"),ie(this,e,t,p)},t.prototype.insertAll=function(e,t){this._validate(e,1,"index"),ae(this,e,t,f)},t.prototype.pop=function(){var e=this.value;if(e.length){var t=this.state;w(t);var n=e.pop();t.refCount&&this.adjustRefsForValue(n,-1,this.dependents)}},t.prototype.push=function(e){ie(this,0,e,h)},t.prototype.pushAll=function(e){ae(this,0,e,m)},t.prototype.removeAt=function(e){this.splice(e,1)},t.prototype.reverse=function(){w(this.state),this.value.reverse()},t.prototype.set=function(e,t){this._validate(e,1,"index");var n=this.state,r=this.value,o=this.mapInput(t);n.refCount&&(w(n),e<r.length&&this.adjustRefsForValue(r[e],-1,this.dependents),this.adjustRefsForValue(o,1,this.dependents)),r[e]=o},t.prototype.setAll=function(e){this.clear(),this.pushAll(e)},t.prototype.shift=function(){this.value.length&&oe(this,0,1)},t.prototype.splice=function(e,t){this._validate(e,0,"index"),this._validate(e+t,1,"deleteCount"),oe(this,e,t)},t.prototype.unshift=function(e){ie(this,0,e,p)},t.prototype.unshiftAll=function(e){ae(this,0,e,f)},t.prototype._validate=function(e,t,n){if(e<0||e>=this.value.length+t)throw new RangeError("The value ".concat(e," for the ").concat(n," argument is out of range. The array length is ").concat(this.value.length,"."))},t}(ne),le=function(e){function t(t){var n=e.call(this,[],void 0,(function(e){return 0!==e&&X(n.value,e,n.dependents),n.value}))||this;return n.adjustRefsForValue=$,n.adjustRefsForValues=X,n.mapInput=Se,n.value=n.array,m(n.value,t),n}return __extends(t,e),t.prototype.remove=function(e){for(var t=this.value,n=0;n<t.length;n++)if(t[n]===e){this.removeAt(n);break}},t.prototype.removeAll=function(e){this.removeIf((function(t){return e.includes(t)}))},t.prototype.removeIf=function(e){for(var t=this.value,n=t.length-1;n>=0;n--)e(t[n])&&this.removeAt(n)},t.prototype.sort=function(e){w(this.state),this.value.sort(e)},t}(se),ue=function(e){function t(t){var n=e.call(this,[],void 0,(function(e){return 0===e?te(n.value,n.array,M,n.dependents):(n.adjustRefsForValues(n.value,e),n.array.length=0,n.array)}))||this;return n.value=t,n.mapInput=L,n}return __extends(t,e),t.prototype.adjustRefsForValue=function(e,t){fe(this.state,e,t)},t.prototype.adjustRefsForValues=function(e,t){e&&(t>0?me(this.state,e):be(this.state,e,!0))},t}(se);var ce=function(){function e(e,t){var o=this;this._metadata=new Map,this._value=new Map,this._projectionEngine=new K(this._metadata,e,t,n.noop,U),this._state=V([e.state],64,(function(t){var n=o._state,r=o._projectionEngine;if(0===t){r.prune(n);for(var i=e.array,a=!1,s=0,l=i.length;s<l;s++){var u=i[s],c=r.evaluate(u,n).value;Y(c.index,c.array,u)<0&&(a=!0),c.index++}return o._metadata.forEach((function(e,t,n){var r=e.array;r.length>e.index&&(r.length=e.index,a=!0),e.index=0,r.length?o._value.set(t,r):(o._value.delete(t),n.delete(t))})),a?o._value:void 0}r.adjustRefCount(t,n),o._metadata.clear(),o._value.clear()})),r.set(this,this._state)}return e.prototype.compose=function(e){return this._state.compose(e)},e.prototype.composeArray=function(e){return this._state.composeArray(e)},e.prototype.get=function(e){return this.composeArray((function(t){return t.get(e)}))},e}();t._makeLiftedArrayComputation=function(e){return new ue(e?e.map(L):[])};var de=function(){function e(e){var t=this;this.state=V(void 0,0,(function(e){if(t._target){if(0===e)return M(t._target);fe(t.state,t._target,e)}})),this._target=L(e),r.set(this,this.state)}return e.prototype.compose=function(e){return this.state.compose(e)},e.prototype.composeArray=function(e){return this.state.composeArray(e)},e.prototype.reseat=function(e){var t=r.get(e),n=this.state;n.refCount&&this._target!==t&&((!t||1&~t.flags||1&n.flags&&n.value!==t.value)&&w(n),pe(n,this._target,t)),this._target=t},e}();function pe(e,t,n){n&&he(e,n),t&&ge(e,t)}function fe(e,t,n){n>0?he(e,t):ge(e,t)}function he(e,t){t.dependents&&(t.dependents.push(e),ve(t))}function me(e,t){for(var n=0,r=t;n<r.length;n++){he(e,r[n])}}function ve(e){0==e.refCount++&&(l++,e.dependencies&&me(e,e.dependencies),I(e)&&(e.value=e.fn(1)))}function ge(e,t){ye(e,t,!0)}function ye(e,t,n){var r=t.dependents;r&&(v(r,e),xe(t,n,!1))}function be(e,t,n){for(var r=0,o=t;r<o.length;r++){ye(e,o[r],n)}}function xe(e,t,n){t?(a.push(e),C()):0==--e.refCount&&(l--,_(e),e.fn&&(I(e)&&e.fn(-1),e.valueComp&&(ye(e,e.valueComp,n),e.valueComp=void 0),e.value=void 0,e.flags&=-258,e.dependencies&&(e.args&&(e.args.length=0,e.argsChangeIndex=0),be(e,e.dependencies,n))))}function Ce(e){xe(e,!(16&e.flags),!0)}function _e(e,t){var n=o.get(e);n||(o.set(e,n=new Set),e.registerForDispose((function(){n.forEach(Ce),C(),o.delete(e)})));var r=n.size;n.add(t),n.size>r&&ve(t)}function we(e,t,r,o,i){var a=j(t,r,o||n.raiseAsyncError,16);_e(e,a),i?S(a,M):S(a,F)&&(a.flags|=1)}function Pe(e,t,n){var r=s.length;try{return function(e,t,n,r){return t&&!t.isDisposed()&&8&~e.flags&&(e.fn||r)?r?we(t,[e],r,void 0,!1):(_e(t,e),M(e)):1&~e.flags&&(8&~e.flags&&!e.refCount&&(ve(e),xe(e,!0,!1)),M(e)),r&&n>=0&&n<e.changeIndex&&r(e.value),e.value}(this,e,t,n)}finally{y(r)}}function Ee(e){return j([this],e,void 0,8&this.flags)}function Fe(e){var t,n=this,o=new ne([],this,(function(i){var a=o.array;if(0===i){var s=e(n.value),l=r.get(s);return t!==l&&(pe(o.state,t,l),t=l),l&&(s=M(l)),te(s,a,Se,o.dependents)}return X(a,i,o.dependents),a.length=0,t&&i<0&&(ge(o.state,t),t=void 0),a}));return o}function Ie(e){return this.state.compose(e)}function Me(e){return this.state.composeArray(e)}function Se(e){return e}t._composeComputation=function(e,t,n){var r=[];n|=8;for(var o=0,i=e;o<i.length;o++){var a=L(i[o]);n&=8&a.flags,r.push(a)}return j(r,t,void 0,n)},t._isComputation=function(e){return r.has(e)},t._composeSubscription=function(e,t,n,r,o){var i=s.length;we(e,t.map(L),n,r,o),y(i)},t.pokeComputation=function(e){return r.get(e).activate()},t.resolveComputation=function(e){return r.get(e)},t._ensureComputationState=L,t._makeConstantComputation=O,t._makeWritableComputation=function(e){var t=k(e,4),n=function(e){P(t.value,e)&&(w(t),t.changeIndex++,n.value=t.value=e)};return n.compose=Ie,n.composeArray=Me,n.state=t,n.value=e,r.set(n,t),n},t._makeArrayComputation=function(e){return new le(e)},t._makeIndirectComputation=function(e){return new de(e)},t._identity=Se})),
define("Weave/Core/InternalUtil",["require","exports","Weave/Core/Computation"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isReadonlyArray=t.pickChildren=t.getUniqueElementId=t.getUniqueDynamicNodeId=t.getRenderAgent=t.assignRenderAgent=t.getEventData=t.AggregationRelay=t.Aggregator=t.buildMapOfArray=t.arrayToMap=t.aggregateResults=t.encodeHtml=t.ensureDynamicNodeOperation=t.WeaveTsx=t.makeMap=t.makeEventHandler=t.generateDeferredBindOnlyAttributeHandler=t.generateBindOnlyAttributeHandler=t.isNotNullNorUndefined=t.activateAndRun=t.createDynamicNodeLtms=t.getDynamicNodeOperations=t.assertSwitchNever=t.setTsxInterceptor=void 0;var r=[];Object.freeze(r);var o=void 0;function i(e,t){if(!t)throw new Error("Unexpected '".concat(e,"' in switch statement."))}function a(e){switch(e){case"if":case"computation":return 5;case"forEach":return 8;case"forEachItem":return 2;case"once":return 7;case"external":return 1;default:i(e)}}function s(e){return null!=e}t.setTsxInterceptor=function(e){o=e},t.assertSwitchNever=i,t.getDynamicNodeOperations=a,t.createDynamicNodeLtms=function(e,t){var n,r=a(e),o=t;return 2&r&&(o=t.createChildNode()),1&r&&(n=o.createChildNode()),{contentLtm:n,selfLtm:o}},t.activateAndRun=function(e,t,r,o){var i=(0,n.resolveComputation)(r);i?i.activate(e.getElementNodeLtm(t),0,o):o(r)},t.isNotNullNorUndefined=s,t.generateBindOnlyAttributeHandler=function(e){return function(t,n){s(n)&&t.addBinding({handler:e,value:n})}},t.generateDeferredBindOnlyAttributeHandler=function(e){return function(t,n){s(n)&&t.addDeferredBinding({handler:e,value:n})}},t.makeEventHandler=function(e){return function(t,n,r){t.addEventListener(n,{eventName:e,eventHandler:r})}},t.makeMap=function(e,t,n,r){void 0===r&&(r=!0);for(var o=new Map,i=0,a=e;i<a.length;i++){var s=a[i],l=t(s);if(r&&o.has(l))throw new Error("The key '".concat(l,"' already exists."));o.set(l,n(s))}return o};t.WeaveTsx=function(e,t){var n=r,i=arguments.length;if(i>2){n=[];for(var a=2;a<i;++a){var s=arguments[a];if(Array.isArray(s))for(var l=0,u=s.length;l<u;l++)n.push(s[l]);else n.push(s)}}if("function"==typeof e){var c=e(t,n);return o?o(c,e,t,n):c}return{type:"native",tag:e,attributes:t,children:n}},t.ensureDynamicNodeOperation=function(e,t){if(!(a(e)&t))throw new Error("Node '".concat(e,"' does not support '").concat(t,"'."))},t.encodeHtml=function(e){return/^[\w\s.\-#]*$/.test(e)?e:(e||"").replace(l,f)};var l=/[`><"'&\t\n\r\xa0-\xff]|([\x00-\x1f\x7f\x80-\x9f])|([\ud800-\udbff][\udc00-\udfff])/g,u={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&#34;","`":"&#96;"},c=55296,d=56320,p=65536;function f(e,t,n){var r=e.charCodeAt(0);return u[e]||(u[e]="&#"+(t?0:n?1024*(r-c)+e.charCodeAt(1)-d+p:r)+";")}function h(e,t){for(var n={},r=0,o=e;r<o.length;r++){var i=o[r];n[i]=t(i)}return n}t.aggregateResults=function(e,t){var n={};for(var r in t)t[r]&&(n[r]=e[r].aggregate(t[r]));return n},t.arrayToMap=h,t.buildMapOfArray=function(e){return h(e,(function(){return[]}))};var m=function(){function e(e,t){this._aggregateFn=e,this.identityElement=t,this.identityElementComp=(0,n._makeConstantComputation)(t)}return e.prototype.aggregate=function(e){return this._aggregateFn(e)},e}();t.Aggregator=m;var v=function(){function e(e,t){this.aggregators=e;for(var r=Object.keys(t).filter((function(e){return t[e]})),o={},i=0,a=r;i<a.length;i++){var s=a[i];t[s].push(o[s]=(0,n._makeIndirectComputation)(e[s].identityElementComp))}this._aggrRelayMap=o,this.relayedKeys=r}return e.prototype.stop=function(){for(var e=0,t=this.relayedKeys;e<t.length;e++){var n=t[e];this._aggrRelayMap[n].reseat(this.aggregators[n].identityElementComp)}},e.prototype.relay=function(e){for(var t=0,n=this.relayedKeys;t<n.length;t++){var r=n[t];this._aggrRelayMap[r].reseat(e[r])}},e}();t.AggregationRelay=v,t.getEventData=function(e,t){switch(t){case"keydown":case"keypress":case"keyup":var n=e;return{alt:n.altKey,ctrl:n.ctrlKey,keyCode:n.keyCode,shift:n.shiftKey};default:return{}}};var g=new WeakMap;t.assignRenderAgent=function(e,t){var n=g.get(e);if(n){if(n!==t)throw new Error("Cannot bind ElementRef for ".concat(e.locatorClass," because it is already bound to another Weave fragment."))}else g.set(e,t)},t.getRenderAgent=function(e){return g.get(e)};var y=0;t.getUniqueDynamicNodeId=function(){return y++};var b=0;t.getUniqueElementId=function(){return"_weave_e_"+b++},t.pickChildren=function(e,n){var r=e&&e.children;if(r){if((0,t.isReadonlyArray)(r)){for(var o=[],i=0,a=r.length;i<a;i++){var s=r[i];(0,t.isReadonlyArray)(s)?o.push.apply(o,s):o.push(s)}return o}return[r]}return n},t.isReadonlyArray=Array.isArray})),
define("Weave",["require","exports","Weave/Core/Computation","Weave/Core/WeaveUtil","Weave/Core/InternalUtil"],(function(e,t,n,r,o){Object.defineProperty(t,"__esModule",{value:!0}),t.ElementRef=t.Css=t.Aggregatable=t.Aggregated=t.PromiseFragment=t.LifetimeManagerScoped=t.SetContext=t.GetContext=t.Once=t.ForEach=t.If=t.Fragment=t.evaluate=t.subscribeAndRun=t.subscribe=t.composeComputation=t.waitForChangePropagation=t.makeIndirectComputation=t.makeLiftedArrayComputation=t.makeArrayComputation=t.makeWritableComputation=t.makeConstantComputation=t.ensureComputation=t.isComputation=void 0,t.isComputation=n._isComputation,t.ensureComputation=n._ensureComputationState,t.makeConstantComputation=n._makeConstantComputation,t.makeWritableComputation=n._makeWritableComputation,t.makeArrayComputation=n._makeArrayComputation,t.makeLiftedArrayComputation=n._makeLiftedArrayComputation,t.makeIndirectComputation=n._makeIndirectComputation,t.waitForChangePropagation=n._waitForChangePropagation,t.composeComputation=function(e,t){return(0,n._composeComputation)(e,t)},t.subscribe=function(e,t,r,o){(0,n._composeSubscription)(e,t,r,o,!1)},t.subscribeAndRun=function(e,t,r,o){(0,n._composeSubscription)(e,t,r,o,!0)};t.evaluate=function(e,t){if(!e)throw new Error("ltm is required.");var r=(0,n.resolveComputation)(t);return r?r.activate(e):t};t.Fragment=function(e,t){return{type:"fragment",children:(0,o.pickChildren)(e,t)}};t.If=function(e){if((0,o.isNotNullNorUndefined)(e.condition)){var t=(0,n.resolveComputation)(e.condition);return{type:"if",concealmentBehavior:e.concealmentBehavior||"hide",trueCase:u(t,"trueFn"in e&&e.trueFn,!1),falseCase:u(t,"falseFn"in e&&e.falseFn,!0)}}return"falseFn"in e&&e.falseFn?e.falseFn():null};t.ForEach=function(e){var o=e.fn,a=(0,t.makeWritableComputation)(0),s=new Map;return{type:"forEach",contentList:(0,n.resolveComputation)(e.collection).compose((function(e){var n=(e=e||[]).length;a(n);for(var l=[],u=0;u<n;++u){var d=e[u],p=(0,r.tryPopFromMapOfArray)(s,d);if(p)p.indexComp(u),l.push(p);else{var f=(0,t.makeWritableComputation)(u),h=i({indexInLoop:f},[o({item:d,index:f,length:a})]);l.push({indexComp:f,content:h})}}s.clear();for(u=n-1;u>=0;--u)(0,r.addToMapOfArray)(s,e[u],l[u]);return l.map(c)}))}};t.Once=function(e){if((0,o.isNotNullNorUndefined)(e.condition)){var t=null,r=null;return{type:"once","data-odebug":e["data-odebug"],content:(0,n.resolveComputation)(e.condition).compose((function(n){return n?t||(t={condition:!0,weaveNode:"trueFn"in e&&e.trueFn?e.trueFn():null}):r||(r={condition:!1,weaveNode:"falseFn"in e&&e.falseFn?e.falseFn():null})}))}}return"falseFn"in e&&e.falseFn?e.falseFn():null};function i(e,t){return{type:"setcontext",children:(0,o.pickChildren)(e,t),props:e}}t.GetContext=function(e){return{type:"getcontext",props:e}},t.SetContext=i;t.LifetimeManagerScoped=function(e){return{type:"ltmscoped",fn:e.fn}};t.PromiseFragment=function(e){var n=e.promise,r=e.whilePending;if(n){var o,i=(0,t.makeWritableComputation)(!1);return n.then((function(e){o=e,i(!0)}),(function(e){throw i(!0),e})),(0,t.Once)({condition:i,"data-odebug":e["data-odebug"],trueFn:function(){return o},falseFn:null!=r?function(){return r}:null})}};t.Aggregated=function(e,t){return{type:"aggr",children:(0,o.pickChildren)(e,t),resultsReceivers:e}};t.Aggregatable=function(e,t){return{type:"aggrsrc",children:(0,o.pickChildren)(e,t),sources:e}};t.Css=function(e){return{type:"css",css:e.css}};var a=function(){function e(){this.locatorClass="_wv_elemref_".concat(s++)}return e.prototype.focus=function(e){var t=this;(0,n.invokeAfterChangePropagation)((function(){var n=(0,o.getRenderAgent)(t);n&&n.focus(t.locatorClass,0|e)}))},e}();t.ElementRef=a;var s=0,l={condition:!1,weaveNode:void 0};function u(e,t,n){if(t){var r=null;return e.compose((function(e){return(n?!e:e)?r||(r={condition:!0,weaveNode:t()}):l}))}}function c(e){return e.content}})),
define("FxInternal/Weave",["require","exports","Weave","Weave/Core/Computation"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.toObservable=t.toValueOrComputation=t.toComputation=void 0;var o=new WeakMap;function i(e,t){if(e){var r=o.get(e);if(r)return r;var i=(0,n.makeWritableComputation)(e.peek());return e.subscribe(i),o.set(e,i),i}return t}t.toComputation=i,t.toValueOrComputation=function(e,t){return null!=e?ko.isObservable(e)?i(e):e:t},t.toObservable=function(e,t){if(t){var n=ko.observable();return(0,r.resolveComputation)(t).activate(e,0,n),n}}})),
define("FxInternal/Weave/Util",["require","exports","Weave/Core/Computation","Weave","FxInternal","FxInternal/Weave","FxInternal/Weave"],(function(e,t,n,r,o,i,a){function s(e){return!(e&&e.length)}function l(e){return!!e}Object.defineProperty(t,"__esModule",{value:!0}),t.hasValueAsync=t.isTruthy=t.isWeaveNodeWithParentRenderInfo=t.isNonEmptyArray=t.isNonEmptyString=t.isEmptyArray=t.arrayEvery=t.plus1=t.and=t.or=t.negation=t.notEquals=t.equals=t.mapValueOrComputation=t.emptyStringComputation=t.trueComputation=t.falseComputation=t.valueOrComputationToValueOrObservable=t.aggregateTabindex=t.aggregateDisabled=t.toValueOrComputation=t.toComputation=void 0,Object.defineProperty(t,"toComputation",{enumerable:!0,get:function(){return a.toComputation}}),Object.defineProperty(t,"toValueOrComputation",{enumerable:!0,get:function(){return a.toValueOrComputation}}),t.aggregateDisabled=function(e){return(0,r.makeLiftedArrayComputation)(e).cSome(o.identity)},t.aggregateTabindex=function(e,t){return(0,r.composeComputation)([t,(0,r.makeLiftedArrayComputation)(e)],(function(e,t){return e||t.some((function(e){return e<0}))?-1:0}))},t.valueOrComputationToValueOrObservable=function(e,t){var r=(0,n.resolveComputation)(t);return r?(0,i.toObservable)(e,r):t},t.falseComputation=(0,r.makeConstantComputation)(!1),t.trueComputation=(0,r.makeConstantComputation)(!0),t.emptyStringComputation=(0,r.makeConstantComputation)(""),t.mapValueOrComputation=function(e,t){return(0,r.isComputation)(e)?e.compose(t):t(e)},t.equals=function(e,t){return e===t},t.notEquals=function(e,t){return e!==t},t.negation=function(e){return!e},t.or=function(e,t){return!(!e&&!t)},t.and=function(e,t){return!(!e||!t)},t.plus1=function(e){return e+1},t.arrayEvery=function(e){return e.every(o.identity)},t.isEmptyArray=s,t.isNonEmptyString=function(e){return"string"==typeof e&&e.trim().length>0},t.isNonEmptyArray=function(e){return!s(e)},t.isWeaveNodeWithParentRenderInfo=function(e){return"object"==typeof e&&e&&!e.hasOwnProperty("type")&&e.hasOwnProperty("weaveNode")},t.isTruthy=l,t.hasValueAsync=function(e,t,n){return n=n||l,new Promise((function(o,i){var a=e.createChildLifetime();(0,r.subscribeAndRun)(a,[t],(function(e){n(e)&&(a.dispose(),o(e))}),(function(e){a.dispose(),i(e)}))}))}})),
define("FxInternal/Weave/Aggregators",["require","exports","Weave","FxInternal/Weave/Util","Weave/Core/InternalUtil","FxInternal"],(function(e,t,n,r,o,i){Object.defineProperty(t,"__esModule",{value:!0}),t.aggregators=void 0;var a=Promise.resolve(!0),s=new o.Aggregator((function(e){return e.length?(0,n.makeLiftedArrayComputation)(e).cSome(i.identity):r.falseComputation}),!1),l=new o.Aggregator((function(e){return e.length?(0,n.makeLiftedArrayComputation)(e).cEvery(i.identity):r.trueComputation}),!0);function u(){return a}t.aggregators={dirty:s,required:s,valid:l,validator:new o.Aggregator((function(e){return e.length?(0,n.composeComputation)(e,d):c}),u)};var c=(0,n.makeConstantComputation)(u);function d(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){return Promise.all(e.map(p)).then(r.arrayEvery)}}function p(e){return e()}})),
define("FxInternal/Weave/SandboxRender",["require","exports","FxInternal/Weave/Util","FxInternal/Weave/Aggregators","Weave/Core/Computation","FxInternal/Weave","Weave/Core/InternalUtil"],(function(e,t,n,r,o,i,a){Object.defineProperty(t,"__esModule",{value:!0}),t.createSandboxModeRenderAgent=t.WeaveChannelDefinition=t.isWeaveBladeEnabled=void 0,t.isWeaveBladeEnabled=MsPortalFx.isFeatureEnabled("weaveblade");var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.registerChannelFactory=function(e,t){e.registerObjectFactory(this.name,{allowRemoteChanges:!0,allowedOrigin:["fx","HubsExtension"],handler:t})},t.prototype.acquireChannel=function(e,t,n){return Q(e.acquireObject(this.name,t,n))},t}(FxImpl.Rpc.EndPointDefinition);t.WeaveChannelDefinition=s,t.createSandboxModeRenderAgent=function(e,t,n,i){var a=new Map,s=0,d=new e({aggregators:r.aggregators,customAttributeHandlers:[{name:"fxclick",handler:c},{name:"image",handler:function(e,t){MsPortalFx.isNullOrUndefined(t)||e.addBinding({handler:x,value:t})}},{name:"onResize",handler:l},{name:"pcControl",handler:f},{name:"domAgent",handler:h},{name:"onClick",handler:m},{name:"onKeyUp",handler:g},{name:"onKeyDown",handler:v},{name:"onKeyPress",handler:y}],customEventDataProvider:function(){return{requestConfirm:_}},customNotificationHandlers:[{name:"fxAnswerConfirm",handler:function(e){var t=e.value,n=a.get(t.replyId);if(!n)throw new Error("pending confirmation not found for replyId: ".concat(t.replyId));a.delete(t.replyId),n(t.reply)}}],hooks:{instruction:{createNewState:function(){return{proxiedObjectMetadataList:[],proxiedDataIndexesMap:new WeakMap}},postProcessNode:p,sendInstruction:b},registerOnReceive:function(e){return t.onMessage(e)}},weaveNode:n,weaveContext:i});return d.renderRoot(),d;function b(e,n){n&&n.proxiedObjectMetadataList.length>0?(t.transferObjects(e,n.proxiedObjectMetadataList.map(u)),function(e,t){for(var n=function(t){t.ltm.registerForDispose((function(){return e.releaseObject(t.object)}))},r=0,o=t;r<o.length;r++){n(o[r])}}(t,n.proxiedObjectMetadataList)):t.transferObjects(e,void 0)}function x(e,t,n){var r=(0,o.resolveComputation)(n);r?r.activate(e.getElementNodeLtm(t),0,(function(e){C(t,e)})):C(t,n)}function C(e,t){b({type:"fxSetImage",elementNodeId:e,value:t})}function _(e){var t=s++;return b({type:"fxRequestConfirm",elementNodeId:void 0,value:{content:e,replyId:t}}),new Promise((function(e){a.set(t,e)}))}};var l=(0,a.generateBindOnlyAttributeHandler)((function(e,t,n){e.addEventListener(t,{eventName:"fxResize",eventHandler:n})}));function u(e){return e.object}function c(e,t,r,o){if(!MsPortalFx.isNullOrUndefined(t)){d(e.node,o).push(o.proxiedObjectMetadataList.length);var a=e.ltm.innerLtmRoot;o.proxiedObjectMetadataList.push({ltm:a,object:{type:"fxclick",data:{data:(0,n.valueOrComputationToValueOrObservable)(a,t),disabled:(0,i.toObservable)(a,r.disabled),tabIndex:(0,i.toObservable)(a,r.tabIndex),partName:r.partName,extensionName:r.extensionName}}})}}function d(e,t){var n=t.proxiedDataIndexesMap.get(e);if(n)return n;var r=[];return t.proxiedDataIndexesMap.set(e,r),r}function p(e,t){return"element"===e.type?{type:"element",tagName:e.tagName,attributes:e.attributes,children:e.children.map((function(e){return p(e,t)})),proxiedDataIndexes:t.proxiedDataIndexesMap.get(e)}:"dynamic"===e.type?{type:"dynamic",nodeId:e.nodeId,dynamicNodeType:e.dynamicNodeType,children:e.children.map((function(e){return p(e,t)}))}:e}function f(e,t,n,r){if(!MsPortalFx.isNullOrUndefined(t)){d(e.node,r).push(r.proxiedObjectMetadataList.length);var o=e.ltm.innerLtmRoot;r.proxiedObjectMetadataList.push({ltm:o,object:{type:"pcControl",data:{vm:t,disabled:(0,i.toObservable)(o,n.disabled),tabIndex:(0,i.toObservable)(o,n.tabIndex),partName:n.partName,extensionName:n.extensionName}}})}}function h(e,t,n,r){t&&t.type&&(d(e.node,r).push(r.proxiedObjectMetadataList.length),r.proxiedObjectMetadataList.push({ltm:e.ltm.innerLtmRoot,object:{type:"domAgent",data:t}}))}var m=(0,a.generateBindOnlyAttributeHandler)((function(e,t,n){var r="function"==typeof n?{eventHandler:n,options:void 0}:{eventHandler:n.handler,options:{stopPropagation:n.stopPropagation,preventDefault:n.preventDefault}},o=r.eventHandler,i=r.options;e.addEventListener(t,{eventName:"fxCustomClick",eventHandler:o,options:i})}));var v=b("fxCustomKeyDown"),g=b("fxCustomKeyUp"),y=b("fxCustomKeyPress");function b(e){return(0,a.generateBindOnlyAttributeHandler)((function(t,n,r){var o="function"==typeof r?{eventHandler:r,options:void 0}:{eventHandler:r.handler,options:{stopPropagation:r.stopPropagation,preventDefault:r.preventDefault}},i=o.eventHandler,a=o.options;t.addEventListener(n,{eventName:e,eventHandler:i,options:a})}))}})),
define("FxInternal/Composition/ViewModelAdapters",["require","exports","Fx/Composition/Blade","Fx/Composition/ButtonPart","Fx/Composition/FrameBlade","Fx/Composition/FramePart","Fx/Composition/MenuBlade","Fx/Composition/TabMenuBlade","Fx/Composition/Part","Fx/Composition/TemplateBlade","FxInternal/Composition/TemplateBlade2","Fx/Composition/TemplatePart","FxInternal/Composition/ViewModel","Weave/Core/Computation","FxInternal/Weave/SandboxRender","Fx","FxInternal/Utils/Promise"],(function(e,t,n,r,o,i,a,s,l,u,c,d,p,f,h,m,v){Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModelAdapter=t.isWeaveEnabled=void 0;var g=MsPortalFx.ViewModels,y={title:!0,subtitle:!0},b={showLabels:!0,items:!0},x=new Map;x.set(0,y),x.set(1,y),x.set(2,y),x.set(14,y),x.set(3,y),x.set(12,y),x.set(6,{}),x.set(5,{}),x.set(4,{title:!0,shortTitle:!0,description:!0,icon:!0}),x.set(7,{});var C={icon:!0,actionBar:!0,parameterProvider:!0,commandBar:!0,statusBar:!0},_={onInitialize:!0,context:!0,onRebind:!0},w=["onPin","getFilterDefinitions","getDynamicFilterDefinitions","getLocalizedFilterValues","supplyCommands"],P=(0,m.memoizePromise)((function(){return Q(MsPortalFx.require("FxInternal/Composition/ViewModelAdapters.DoesProvisioning"))}));function E(e){if(e){var t=e._fx||{};return t&&t.isWeaveBlade?!t.isWeaveFlighted||h.isWeaveBladeEnabled:"function"==typeof e.prototype.weave&&h.isWeaveBladeEnabled}return!1}t.isWeaveEnabled=E;var F=function(){function t(e,t,f,h){var m=this;this._diContainer=e,this._viewModelClass=t,this._provisioningContextResults=f,this.policyScope=ko.observable(),this.menuContent={title:ko.observable(),subtitle:ko.observable()},this._msPortalFx_viewModelApiV2=!0,this._adapterState=0,this._partContext=e&&e.get(p.PartContext);var y=this._container=h||e.get(g.ContainerContract);this._ltm=this._container.createChildLifetime();var x=this._container.revealContent||MsPortalFx.noop;this._container.revealContent=function(){m._finalizeContent(),x.call(m._container),m._afterRevealContentCalled&&m._afterRevealContentCalled(m._viewModel)};var C=this._viewModelClass._fx,_=this._itemType=C.itemType,F=this._isPart=6===_||5===_||4===_||7===_;F||(this.subtitle=ko.observable(),this.icon=ko.observable(),this.statusBar=ko.observable()),F&&4!==_||(this.title=ko.observable()),4===_&&(this.shortTitle=ko.observable(),this.description=ko.observable(),this.size=ko.observable(),this.icon=ko.observable()),F||(y.statusBar=ko.observable(),Object.defineProperty(y,"statusBar",{enumerable:!1}),Object.defineProperty(y,"commandBar",{get:function(){return m._vmCommandBar},set:function(e){if(E(t)){if(1&m._adapterState)throw new Error("'container.commandBar' must be set in the blade constructor.")}else if(2&m._adapterState)throw new Error("'container.commandBar' must be set before the Blade's content is revealed (before 'container.revealContent(...)' is called and/or before the Promise returned from 'onInitialize(...)' is resolved).");e&&e!==m._vmCommandBar&&(m.commandBar||(m.commandBar=new MsPortalFx.ViewModels.Toolbars.Toolbar(m._container)),m._vmCommandBar=e,Object.keys(b).forEach((function(e){return I(m._ltm,m.commandBar,e,m._vmCommandBar,e)})))},enumerable:!1}),y.icon=ko.observable(),Object.defineProperty(y,"icon",{enumerable:!1}),y.icon.subscribe(y,this.icon));var M={container:y,parameters:null,dashboard:y.dashboard};if(this._isPart){var S=y.updatableHeader,k={enableForExtensionRenderedHeader:function(e,t){if(1&m._adapterState)throw new Error("'updatableHeader.enableForExtensionRenderedHeader' API must be called during constructor or 'onInitialize'");k.options(t||{}),k.updatedHeader.subscribe(y,e)},updatedHeader:S.updatedHeader,options:S.options};M.updatableHeader=k}var R=Reflect.getOwnMetadata("fx:composition:model",t);if(e&&R&&(M.model=e.get(R)),F||(M.form=y.form,y.menu&&(M.menu=y.menu)),C.configurableOptions){var A=M,T=this._container.activateConfiguration(),D=T.updateValues;T.updateValues=function(){return D.call(T,arguments[0],arguments.length>=2&&arguments[1])},A.configuration=T}!this._isPart&&t._fx.doesProvisioning&&(P(),M.provisioning={initialValues:void 0,marketplaceItem:void 0,telemetryId:void 0,deployTemplate:void 0,deployStack:void 0,deployCustom:void 0,validateTemplate:void 0,getAutomationBladeReference:void 0,getArmErrorsBladeReference:void 0,policyValidationFactory:void 0,referenceType:void 0,setMarketplaceId:void 0});var B=this._isPart&&t._fx.filterable;if(B){M.dashboard=MsPortalFx.extend2(y.dashboard,{filtering:{effectiveFilterModels:void 0,allFilterModels:void 0,updateFilters:function(e){return Q(m._msPortalFxV2ShellApi.updateFilters.fxAwaitAndRun(y)).then((function(t){return Q(t(e))}))}}})}e&&e.set(n.Container,y).set(r.Container,y).set(o.Container,y).set(i.Container,y).set(a.Container,y).set(s.Container,y).set(l.Container,y).set(u.Container,y).set(c.Container,y).set(d.Container,y),this._viewModel=e&&e.get(t)||new t,this._viewModel.context=M;var N,O,L=(N=this._viewModel,O=!0,w.reduce((function(e,t){var n=N[t];return n&&(e[t]=O?n.bind(N):n),e}),{}));if(this._msPortalFxV2ShellApi=MsPortalFx.extend(L,{updateFilters:B&&ko.observable()}),F){var j=this._viewModel.onClick;j&&"function"!=typeof j&&(this._container.clickableLink=j)}var V=this._contentRevealedDeferred=Q.defer();this._msPortalFx_contentRevealedPromise=(0,v.preventUnhandledRejection)(V.promise)}return t.prototype.isInitialized=function(){return!!(1&this._adapterState)},t.prototype.onInputsSet=function(e,t,n,r){var o=this;e=MsPortalFx.clone(e);var i=this._viewModel.context,a=Q();if(!this._isPart&&this._viewModelClass._fx.doesProvisioning){var s=i.provisioning,l=e._provisioningContext||this._provisioningContextResults.provisioningInputs._provisioningContext;a=P().then((function(e){return __awaiter(o,void 0,void 0,(function(){var t;return __generator(this,(function(n){switch(n.label){case 0:return[4,e.getControlPolicyApi()];case 1:return t=n.sent(),e.setProvisioning(this._diContainer,s,l,this._container,this._partContext,t,null,this.policyScope),[2]}}))}))})),delete e._provisioningContext}var u=function(e,t){if(void 0===t&&(t=!0),!(Q.isPromise(e)||e instanceof Promise))throw new Error("".concat(t?"'onInitialize'":"'onRebind'"," must return a Promise that covers the full initialization of the ").concat(o._isPart?"Part":"Blade",", including data-loading."))},c=this._isPart&&this._viewModelClass._fx.filterable;r=r||{dashboard:void 0,part:void 0};var d,p=MsPortalFx.extend2(r.dashboard||{},r.part),f=function(){i.parameters=e,o._viewModelClass._fx.configurableOptions&&(i.settings=t&&t.content||{}),c&&(i.dashboard.filtering.filterModels=p,i.dashboard.filtering.effectiveFilterModels=p,i.dashboard.filtering.allFilterModels=r)};if(1&this._adapterState){var h=this._viewModelClass._fx.rebindable;if(!n&&!h&&!c){var m="".concat(this._isPart?"Part":"Blade"," does not support rebinding. Use the '@Rebindable.Decorator()' decorator.");throw new Error(m)}var v=function(e,t){return MsPortalFx.union(Object.keys(e),Object.keys(t)).filter((function(n){return!MsPortalFx.deepEquals(e[n],t[n])}))},g=h&&{parameterKeys:v(i.parameters,e)},y=c&&{filterIds:v(i.dashboard.filtering.effectiveFilterModels||{},p)},b=MsPortalFx.extend2(g,y);if(f(),n)return Q();var x=this._viewModel.onRebind(b);return u(x,!1),Q(x)}return d=FxImpl.TelemetryContext.getState(),MsPortalFx.tryImmediateResolve(a,(function(){return FxImpl.TelemetryContext.usingState((function(){f();var e=o._viewModel.onInitialize();return u(e),o._adapterState|=1,o._adaptProxiableProperties(),e.then((function(){return o._finalizeContent()}),(function(e){return o._finalizeContent(e||new Error("'onInitialize' Promise rejected"))})),Q(e)}),d)}))},t.prototype.weave=function(){return this._viewModel.weave()},t.prototype._finalizeContent=function(e){if(!(2&this._adapterState)){if(this._adapterState|=2,e)return void this._contentRevealedDeferred.reject(e);if(this._contentRevealedDeferred.resolve(),this._adaptProxiableProperties(),this._isPart)4!==this._itemType&&I(this._ltm,this._container,"partTitle",this._viewModel,"title"),I(this._ltm,this._container,"assetName",this._viewModel,"subtitle");else{I(this._ltm,this,"statusBar",this._container,"statusBar");var t=this._viewModel.context;t.menu&&(I(this._ltm,this.menuContent,"title",t.menu,"titleSuffix"),I(this._ltm,this.menuContent,"subtitle",t.menu,"subtitleSuffix"))}}},t.prototype._adaptProxiableProperties=function(){var e=this,t=x.get(this._itemType),n=[];if((0,m.isFeatureEnabled)("es6support"))n=FxImpl.getAllKeys(this._viewModel);else for(var r in this._viewModel)n.push(r);for(var o=0,i=n;o<i.length;o++){r=i[o];if(_[r]);else if(t[r]||!this._isPart&&C[r]);else if(!r.startsWith("_")||r.startsWith("_msPortalFx")){var a=M(this._viewModel[r],this._viewModel);try{this[r]=a}catch(e){console.warn(e)}}}Object.keys(t).forEach((function(t){I(e._ltm,e,t,e._viewModel,t)}))},t.prototype.dispose=function(){this._ltm.dispose()},__decorate([__metadata("fx:diagnostics",[e,"ViewModelAdapter.prototype"]),MsPortalFx.Composition.NotProxied,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",Object)],t.prototype,"weave",null),t}();function I(e,t,n,r,o){if(o in r){var i=r[o],a=t[n],s=(0,f.resolveComputation)(i);s?s.activate(e,0,a):ko.isObservable(i)?(a(i()),i.subscribe(e,a)):a(M(i,r))}}function M(e,t){return"function"!=typeof e||ko.isObservable(e)?e:e.bind(t)}t.ViewModelAdapter=F})),
define("Weave/Core/ApplyBindings",["require","exports","Weave/Core/InternalUtil","Weave/Core/WeaveUtil"],(function(e,t,n,r){function o(e,t,n){var r=t.dynamicNodeId,o=n.content,i=n.concealmentBehavior,a=n.initRenderChangeIndex,s=n.internalContext,l=n.aggrRelay,u=n.initAggrResults;if("remove"===i){var c=!!u;o.activate(e.getDynamicNodeLtm(r),a,(function(n){n.condition?c||l.relay(e.replaceContent(t,n.weaveNode,s,l,!1)):(c&&e.clear(t),l.stop()),c=n.condition}))}else{var d=u,p=!!d;o.activate(e.getDynamicNodeLtm(r),a,(function(n){n.condition?p?(e.toggleDisplay(t,!0),l.relay(d)):(p=!0,d=e.replaceContent(t,n.weaveNode,s,l,!1),l.relay(d)):(e.toggleDisplay(t,!1),l.stop())}))}}function i(e,t,o){for(var i=t.dynamicNodeId,a=o.internalContext,s=o.contentList,l=o.initRenderChangeIndex,u=o.initRenderDomInfo,c=o.aggrRelay,d=new Map,p=u.length-1;p>=0;--p){var f=u[p];(0,r.addToMapOfArray)(d,f.tsxNode,{itemId:f.itemId,itemAggrResult:f.itemAggrResult})}s.activate(e.getDynamicNodeLtm(i),l,(function(o){for(var s=o.length,l=new Array(s),u=0;u<s;++u){var p=o[u],f=(0,r.tryPopFromMapOfArray)(d,p);l[u]=f?{type:"exist",metadata:f}:{type:"new",weaveNode:p}}var h=e.setItems(i,t,l,a,c);d.clear();for(u=s;u>=0;--u)(0,r.addToMapOfArray)(d,o[u],h[u]);c.relay((0,n.aggregateResults)(c.aggregators,(0,n.arrayToMap)(c.relayedKeys,(function(e){return h.map((function(t){return t.itemAggrResult[e]}))}))))}))}function a(e,t,n){var r=t.dynamicNodeId,o=n.aggrRelay;n.weaveNode.activate(e.getDynamicNodeLtm(r),n.initRenderChangeIndex,(function(r){o.relay(e.replaceContent(t,r,n.internalContext,o,!0))}))}function s(e,t,r){var o=t.dynamicNodeId,i=r.internalContext,a=r.aggrRelay,s=e.getDynamicNodeLtm(o).createChildLifetime();r.content.activate(s,r.initRenderChangeIndex,(function(r){r.condition&&(s.dispose(),(0,n.isNotNullNorUndefined)(r.weaveNode)?a.relay(e.replaceContent(t,r.weaveNode,i,a,!0)):(e.remove(t),a.stop()))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.applyBindings=void 0,t.applyBindings=function(e,t,r,l){var u=function(e,t){for(var n=[],r=0,o=t;r<o.length;r++){var i=o[r];if(i.binders)for(var a=0,s=i.binders;a<s.length;a++){var l=s[a];l.handler(e,i.elementId,l.value)}i.deferredBinders&&n.push(i)}return n}(e,t);!function(e,t){for(var r=0,l=t;r<l.length;r++){var u=l[r],c=u.metadata;switch(c.type){case"if":o(e,u,c);break;case"forEach":i(e,u,c);break;case"forEachItem":break;case"computation":a(e,u,c);break;case"once":s(e,u,c);break;case"external":c.weaveNode.applyBindingHandler(e,u,c.internalContext.context);break;default:(0,n.assertSwitchNever)(c)}}}(e,r),l&&l();for(var c=0,d=u;c<d.length;c++)for(var p=d[c],f=0,h=p.deferredBinders;f<h.length;f++){var m=h[f];m.handler(e,p.elementId,m.value)}}})),
define("Weave/Core/ClassNameProcessor",["require","exports","Weave","Weave/Core/Computation","Weave/Core/InternalUtil"],(function(e,t,n,r,o){function i(e,t,a,s,l){if("string"==typeof e)t.push(e);else if((0,n.isComputation)(e)){var u=(0,r.resolveComputation)(e),c=u.activate(l)||"";s.push({computation:u,initChangeIndex:u.changeIndex,initValue:c}),c&&t.push(c)}else if((0,o.isReadonlyArray)(e))for(var d=0,p=e;d<p.length;d++){var f=p[d];f&&i(f,t,a,s,l)}else for(var h in e)if(h){var m=(0,r.resolveComputation)(e[h]);if(m){var v=!!m.activate(l);v&&t.push(h),a.push({className:h,computation:m,initChangeIndex:m.changeIndex,initCondition:v})}else e[h]&&t.push(h)}}function a(e){for(var t=new Map,n=0,o=e.split(" ").filter(r._identity);n<o.length;n++){var i=o[n];t.set(i,(t.get(i)||0)+1)}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.applyClassBindingMetadata=t.processClassName=void 0,t.processClassName=function(e,t){var n,r,o="";if("string"==typeof e)o=e;else if(e){var a=[];i(e,a,n=[],r=[],t),o=a.join(" ")}return{conditionalClass:n,dynamicClass:r,initClass:o}},t.applyClassBindingMetadata=function(e,t,n){for(var o,i=e.initClass,s=function(e){var s=e.initCondition,l=e.className.split(" ").filter(r._identity);l.length>0&&e.computation.activate(t,e.initChangeIndex,(function(e){var t=!!e;if(t!==s){o||(o=a(i));for(var r=0,u=l;r<u.length;r++){var c=u[r],d=(o.get(c)||0)+(t?1:-1);o.set(c,d),t||0!==d?t&&1===d&&n(c,!0):n(c,!1)}s=t}}))},l=0,u=e.conditionalClass;l<u.length;l++){s(u[l])}for(var c=function(e){var s=e.initValue.split(" ").filter(r._identity);e.computation.activate(t,e.initChangeIndex,(function(e){var t=(e||"").split(" ").filter(r._identity);o||(o=a(i));for(var l=0,u=t;l<u.length;l++){var c=u[l],d=(o.get(c)||0)+1;o.set(c,d),1===d&&n(c,!0)}for(var p=0,f=s;p<f.length;p++){var h=f[p];d=o.get(h)-1;o.set(h,d),0===d&&n(h,!1)}s=t}))},d=0,p=e.dynamicClass;d<p.length;d++){c(p[d])}return function(){if(o){var e=[];return o.forEach((function(t,n){t>0&&e.push(n)})),e}return i.split(" ").filter(r._identity)}}})),
define("Weave/Core/AttributeHandler",["require","exports","Weave/Core/Computation","Weave/Core/InternalUtil","Weave/Core/ClassNameProcessor"],(function(e,t,n,r,o){function i(e,t,o,i,a){var s=(0,n.resolveComputation)(o),l=s?s.activate(e.ltm.innerLtmRoot):o,u=1===i;(u?p(l):(0,r.isNotNullNorUndefined)(l))&&e.addAttribute(t,d(l,u,a)),s&&e.addBinding({handler:f,value:{attributeName:t,initRenderChangeIndex:s.changeIndex,computation:s,attributeKind:i,arrayJoinChar:a}})}function a(e,t,n){var r=n.value,o=n.onValueChange;e.initInputBinding(t,"textInput",r,o)}function s(e,t,n){var r=n.checked,o=n.onCheckedChange;e.initInputBinding(t,"checkboxInput",r,o)}function l(e,t){return"input"===e&&("text"===t||"color"===t||"date"===t||"datetime-local"===t||"email"===t||"month"===t||"number"===t||"password"===t||"range"===t||"search"===t||"tel"===t||"time"===t||"url"===t||"week"===t)||"textarea"===e}function u(e,t){return"input"===e&&("checkbox"===t||"radio"===t)}function c(e){return!e}function d(e,t,n){return t?"":(0,r.isReadonlyArray)(e)?e.join("string"==typeof n?n:" "):""+e}function p(e){return(0,r.isNotNullNorUndefined)(e)&&!1!==e}function f(e,t,n){var o=n.attributeKind,i=n.attributeName,a=n.arrayJoinChar,s=1===o;n.computation.activate(e.getElementNodeLtm(t),n.initRenderChangeIndex,(function(n){(s?p(n):(0,r.isNotNullNorUndefined)(n))?e.setAttribute(t,i,d(n,s,a)):e.removeAttribute(t,i)}))}function h(e){return function(t,n){i(t,e,n,1)}}function m(e,t,n){n.visible.activate(e.getElementNodeLtm(t),n.initChangeIndex,(function(n){e.toggleClass(t,"weave-display-none1",!n)}))}function v(e,t,n){(0,o.applyClassBindingMetadata)(n,e.getElementNodeLtm(t),(function(n,r){return e.toggleClass(t,n,r)}))}function g(e,t,n){var r=function(r){var o=n[r];o.computation.activate(e.getElementNodeLtm(t),o.initRenderChangeIndex,(function(n){e.setStyle(t,r,n)}))};for(var o in n)r(o)}Object.defineProperty(t,"__esModule",{value:!0}),t.styleHandler=t.onCheckedChangeHandler=t.onValueChangeHandler=t.checkedHandler=t.valueHandler=t.coordsHandler=t.classNameHandler=t.visibleHandler=t.refHandler=t.multipleHandler=t.defaultHandler=t.reversedHandler=t.requiredHandler=t.ismapHandler=t.seamlessHandler=t.novalidateHandler=t.openHandler=t.hiddenHandler=t.formnovalidateHandler=t.autofocusHandler=t.mutedHandler=t.autoplayHandler=t.controlsHandler=t.loopHandler=t.readonlyHandler=t.disabledHandler=t.idHandler=t.onMouseLeaveHandler=t.onMouseEnterHandler=t.onFocusOutHandler=t.onFocusInHandler=t.onKeyUpHandler=t.onKeyPressHandler=t.onKeyDownHandler=t.onClickHandler=t.htmlAttributeHandler=void 0,t.htmlAttributeHandler=i,t.onClickHandler=(0,r.generateBindOnlyAttributeHandler)((0,r.makeEventHandler)("click")),t.onKeyDownHandler=(0,r.generateBindOnlyAttributeHandler)((0,r.makeEventHandler)("keydown")),t.onKeyPressHandler=(0,r.generateBindOnlyAttributeHandler)((0,r.makeEventHandler)("keypress")),t.onKeyUpHandler=(0,r.generateBindOnlyAttributeHandler)((0,r.makeEventHandler)("keyup")),t.onFocusInHandler=(0,r.generateBindOnlyAttributeHandler)((0,r.makeEventHandler)("focusin")),t.onFocusOutHandler=(0,r.generateBindOnlyAttributeHandler)((0,r.makeEventHandler)("focusout")),t.onMouseEnterHandler=(0,r.generateBindOnlyAttributeHandler)((0,r.makeEventHandler)("mouseenter")),t.onMouseLeaveHandler=(0,r.generateBindOnlyAttributeHandler)((0,r.makeEventHandler)("mouseleave")),t.idHandler=(0,r.generateBindOnlyAttributeHandler)((function(e,t,n){(0,r.activateAndRun)(e,t,n,(function(n){return function(e,t,n){if("string"==typeof n&&(n=n.trim()))return void e.setAttribute(t,"id",n);e.removeAttribute(t,"id")}(e,t,n)}))})),t.disabledHandler=h("disabled"),t.readonlyHandler=h("readonly"),t.loopHandler=h("loop"),t.controlsHandler=h("controls"),t.autoplayHandler=h("autoplay"),t.mutedHandler=h("muted"),t.autofocusHandler=h("autofocus"),t.formnovalidateHandler=h("formnovalidate"),t.hiddenHandler=h("hidden"),t.openHandler=h("open"),t.novalidateHandler=h("novalidate"),t.seamlessHandler=h("seamless"),t.ismapHandler=h("ismap"),t.requiredHandler=h("required"),t.reversedHandler=h("reversed"),t.defaultHandler=h("default"),t.multipleHandler=h("multiple"),t.refHandler=(0,r.generateBindOnlyAttributeHandler)((function(e,t,n){(0,r.assignRenderAgent)(n,e),e.setLocatorClass(t,n.locatorClass)})),t.visibleHandler=function(e,t,r,o,i){if(!("className"in i)&&t){var a=(0,n.resolveComputation)(t);a.activate(e.ltm.innerLtmRoot)||e.addAttribute("class","weave-display-none1"),e.addBinding({handler:m,value:{visible:a,initChangeIndex:a.changeIndex}})}},t.classNameHandler=function(e,t,n,r,i){var a;i.visible&&(t=[t,(a={},a["weave-display-none1"]=i.visible.compose(c),a)]);var s=(0,o.processClassName)(t,e.ltm.innerLtmRoot);(s.dynamicClass&&s.dynamicClass.length||s.conditionalClass&&s.conditionalClass.length)&&e.addBinding({handler:v,value:s}),s.initClass&&e.addAttribute("class",s.initClass)},t.coordsHandler=function(e,t){i(e,"coords",t,0,",")},t.valueHandler=function(e,t,n,r,o,s){if(!l(s,o.type))return i(e,"value",t,0);"onValueChange"in o||e.addBinding({handler:a,value:{value:t,onValueChange:null}})},t.checkedHandler=function(e,t,n,r,o,i){u(i,o.type)&&!("onCheckedChange"in o)&&e.addBinding({handler:s,value:{checked:t,onCheckedChange:null}})},t.onValueChangeHandler=function(e,t,n,r,o,i){l(i,o.type)&&e.addBinding({handler:a,value:{value:o.value,onValueChange:t}})},t.onCheckedChangeHandler=function(e,t,n,r,o,i){u(i,o.type)&&e.addBinding({handler:s,value:{checked:o.checked,onCheckedChange:t}})},t.styleHandler=function(e,t){if(t){var r=[],o={},i=!1;for(var a in t){var s=t[a],l=(0,n.resolveComputation)(s);if(l){var u=l.activate(e.ltm.innerLtmRoot);o[a]={computation:l,initRenderChangeIndex:l.changeIndex},u&&r.push("".concat(a,": ").concat(u)),i=!0}else s&&r.push("".concat(a,": ").concat(s))}r.length>0&&e.addAttribute("style",r.join("; ")+";"),i&&e.addBinding({handler:g,value:o})}}})),
define("Weave/Core/CollectRenderInfo",["require","exports","Weave","Weave/Core/Computation","Weave/Core/InternalUtil"],(function(e,t,n,r,o){Object.defineProperty(t,"__esModule",{value:!0}),t.collectForEachItemsRenderInfo=t.collectRenderInfo=t.createInternalWeaveContext=void 0;var i=0;function a(){return"_weave_css_"+i++}var s=0,l={match:!1,value:void 0};function u(e,t){return e.cache.get(t)||l}function c(e,t,n){e.cache.set(t,{match:!0,value:n})}function d(e){return{cache:new WeakMap,context:Object.freeze(e)}}function p(e,t,i,l,m){if((0,o.isNotNullNorUndefined)(i)){if("string"==typeof i||"number"==typeof i||"boolean"==typeof i)return t.createTextNode(""+i);if((0,n.isComputation)(i))return function(e,t,n,r,i){var a=e.aggregators,l=n.activate(t.ltm.innerLtmRoot),u=new o.AggregationRelay(a,i),c=t.createChildDynamicNode({type:"computation",weaveNode:n,logicalTreeNodeId:s++,aggrRelay:u,initRenderChangeIndex:n.changeIndex,internalContext:r}),d=(0,o.buildMapOfArray)(u.relayedKeys);p(e,c,l,r,d);var f=(0,o.aggregateResults)(a,d);u.relay(f),c.seal()}(e,t,(0,r.resolveComputation)(i),l,m);switch(i.type){case"aggr":return function(e,t,n,r,i){var a=e.aggregators,l=n.resultsReceivers||{},u=(0,o.buildMapOfArray)(Object.keys(l).filter((function(e){return a[e]&&l[e]}))),c=__assign(__assign({},i),u);f(e,t.createChildVirtualNode(n,s++),n.children,r,c);var d=(0,o.aggregateResults)(a,u);for(var p in u){var h=i[p];h&&h.push(d[p]),l[p].reseat(d[p])}}(e,t,i,l,m);case"aggrsrc":return function(e,t,n,r,i){for(var a=e.aggregators,l=n.sources||{},u=Object.keys(l).filter((function(e){return a[e]&&(0,o.isNotNullNorUndefined)(l[e])})),c=0,d=u;c<d.length;c++){var p=d[c],h=i[p];h&&h.push(l[p])}var m=__assign(__assign({},i),(0,o.arrayToMap)(u,(function(){})));f(e,t.createChildVirtualNode(n,s++),n.children,r,m)}(e,t,i,l,m);case"css":return function(e,t,n){var r=n.css;t.ltm.css.push(r);var o=e.cssMetadataMap,i=o.get(r);i||o.set(r,i={id:a(),isNew:!0,oldRefCount:0,newRefCount:0});i.newRefCount++}(e,t,i);case"external":return function(e,t,n){var r=e.createChildDynamicNode({type:"external",weaveNode:t,logicalTreeNodeId:s++,internalContext:n});r.seal()}(t,i,l);case"forEach":return function(e,t,n,r,i){for(var a=e.aggregators,l=n.contentList,u=l.activate(t.ltm.innerLtmRoot),c=u.length,d=new Array(c),f=new o.AggregationRelay(a,i),h=s++,m=t.createChildDynamicNode({type:"forEach",weaveNode:n,logicalTreeNodeId:h,aggrRelay:f,contentList:l,internalContext:r,initRenderChangeIndex:l.changeIndex,initRenderDomInfo:d}),v=0;v<c;++v){var g=u[v],y=m.createChildDynamicNode({type:"forEachItem",weaveNode:n,logicalTreeNodeId:h}),b=(0,o.buildMapOfArray)(f.relayedKeys);p(e,y,g,r,b),d[v]={itemAggrResult:(0,o.aggregateResults)(a,b),itemId:y.nodeId,tsxNode:g},y.seal()}var x=(0,o.aggregateResults)(a,(0,o.arrayToMap)(f.relayedKeys,(function(e){return d.map((function(t){return t.itemAggrResult[e]}))})));f.relay(x),m.seal()}(e,t,i,l,m);case"fragment":return function(e,t,n,r,o){return f(e,t.createChildVirtualNode(n,s++),n.children,r,o)}(e,t,i,l,m);case"getcontext":return function(e,t,n,r,o){var i,a=u(r,n);a.match?i=a.value:(i=n.props.fn(r.context),c(r,n,i));p(e,t.createChildVirtualNode(n,s++),i,r,o)}(e,t,i,l,m);case"html":return function(e,t){(0,o.isNotNullNorUndefined)(t.data)&&e.createHTMLNode(t.data)}(t,i);case"if":return function(e,t,n,r,o){var i=s++;h(e,t,n,i,r,o,n.trueCase),h(e,t,n,i,r,o,n.falseCase)}(e,t,i,l,m);case"once":return function(e,t,n,i,a){var l=e.aggregators,u=n.content,c=(0,r.pokeComputation)(u),d=u.changeIndex;if(c.condition)p(e,t.createChildVirtualNode(n,s++),c.weaveNode,i,a);else{var f=new o.AggregationRelay(l,a),h=t.createChildDynamicNode({type:"once",weaveNode:n,logicalTreeNodeId:s++,aggrRelay:f,content:u,internalContext:i,initRenderChangeIndex:d});if((0,o.isNotNullNorUndefined)(c.weaveNode)){var m=(0,o.buildMapOfArray)(f.relayedKeys);p(e,h,c.weaveNode,i,m);var v=(0,o.aggregateResults)(l,m);f.relay(v)}h.seal()}}(e,t,i,l,m);case"ltmscoped":return p(e,t,i.fn(t.ltm.innerLtmRoot),l,m);case"native":return function(e,t,n,r,o){var i=e.hooksState,a=e.attributesHandler,s=n.attributes,l=n.children,u=t.createChildElementNode(n.tag,n);if(s)for(var c in s)a(u,c,s[c],r.context,i,s,n.tag);for(var d=u.sealAttributes(),f=0,h=l;f<h.length;f++){p(e,d,h[f],r,o)}d.seal(),u.seal()}(e,t,i,l,m);case"setcontext":return function(e,t,n,r,o){var i,a=u(r,n);a.match?i=a.value:c(r,n,i=d(__assign(__assign({},r.context),n.props)));f(e,t.createChildVirtualNode(n,s++),n.children,i,o)}(e,t,i,l,m);case"value":return function(e,t,n,r,o){return p(e,t.createChildVirtualNode(n,s++),n.value,r,o)}(e,t,i,l,m);default:return(0,o.assertSwitchNever)(i,!0),t.createTextNode(""+i)}}}function f(e,t,n,r,o){for(var i=0,a=n;i<a.length;i++){p(e,t,a[i],r,o)}}function h(e,t,n,r,i,a,s){if(s){var l=e.aggregators,u=s.activate(t.ltm.innerLtmRoot),c=new o.AggregationRelay(l,a),d=u.condition?{}:null,f=t.createChildDynamicNode({type:"if",weaveNode:n,logicalTreeNodeId:r,aggrRelay:c,concealmentBehavior:n.concealmentBehavior,content:s,internalContext:i,initAggrResults:d,initRenderChangeIndex:s.changeIndex});if(u.condition){var h=(0,o.buildMapOfArray)(c.relayedKeys);p(e,f,u.weaveNode,i,h);var m=(0,o.aggregateResults)(l,h);for(var v in c.relay(m),m)d[v]=m[v]}f.seal()}}t.createInternalWeaveContext=d,t.collectRenderInfo=p,t.collectForEachItemsRenderInfo=function(e,t,n,r,i,a){for(var s=r.length,l=new Array(s),u=0;u<s;++u){var c=n.createChildDynamicNode({type:"forEachItem",weaveNode:void 0,logicalTreeNodeId:t.metadata.logicalTreeNodeId}),d=r[u],f=(0,o.buildMapOfArray)(a.relayedKeys);p(e,c,d,i,f),l[u]={itemId:c.nodeId,itemAggrResult:(0,o.aggregateResults)(a.aggregators,f)},c.seal()}return l}})),
define("Weave/Core/InputBindings",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.InputBindingsManager=void 0;var n=function(){function e(){}return e.prototype.resolveInputBinding=function(e,t,n){var o=e.inputBindings?r(e.inputBindings,t):-1;if(o<0)throw new Error('Input binding "'.concat(t,'" not initialized.'));var i=e.inputBindings[o];if(!n.includes(i.type))throw new Error('Input binding "'.concat(t,'" type not match, expected: "').concat(n.join("|"),'", actual: "').concat(i.type,'".'));return i},e.prototype.ensureNoInputBindingExists=function(e,t){if(e.inputBindings&&r(e.inputBindings,t)>=0)throw new Error('Input binding "'.concat(t,'" already initialized.'))},e.prototype.createInputBinding=function(e,t){e.inputBindings?e.inputBindings.push(t):e.inputBindings=[t]},e}();function r(e,t){for(var n=0;n<e.length;++n)if(e[n].name===t)return n;return-1}t.InputBindingsManager=n})),
define("Weave/Core/LifetimeManager",["require","exports","Weave/Core/WeaveUtil","Weave/Core/InternalUtil"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.preorderTraversal=t.createLifetimeManagerRoot=void 0;var o=0;function i(){return a(this.treeId,this)}function a(e,t){var n={children:[],css:[],dynamicNodes:[],elementNodes:[],indexInParentArray:t?t.children.length:-1,innerLtmRoot:new u,parent:t,treeId:e,createChildNode:i,detachNode:s};return t&&t.children.push(n),n}function s(){if(this.parent){var e=this.parent.children.pop();e!==this&&(this.parent.children[this.indexInParentArray]=e,e.indexInParentArray=this.indexInParentArray),this.parent=void 0}}function l(e,t){t(e);for(var n=e.children.slice(0),r=n.length-1;r>=0;r--)l(n[r],t)}t.createLifetimeManagerRoot=function(){return a(o++,void 0)},t.preorderTraversal=l;var u=function(){function e(e){this.children=[],this.detachNode=s,this._disposeFn=[],this._isDisposed=!1,this.parent=e,this.indexInParentArray=e?e.children.length:-1}return e.prototype.dispose=function(){this._isDisposed||l(this,(function(e){e.detachNode(),e._isDisposed=!0,e._disposeFn&&e._disposeFn.forEach(c),e._disposeFn.length=0}))},e.prototype.createChildLifetime=function(){if(this._isDisposed)return p;var t=new e(this);return this.children.push(t),t},e.prototype.registerForDispose=function(e){if((0,r.isReadonlyArray)(e))for(var t=0,n=e;t<n.length;t++){var o=n[t];this._registerSingleForDispose(o)}else this._registerSingleForDispose(e);return this},e.prototype.isDisposed=function(){return this._isDisposed},e.prototype._registerSingleForDispose=function(e){e&&(this._isDisposed?c(e):this._disposeFn.push(e))},e}();function c(e){"function"==typeof e.dispose?d((function(){return e.dispose()})):d(e)}function d(e){try{e()}catch(e){(0,n.raiseAsyncError)(e)}}var p=new u;p.dispose()})),
define("Weave/Core/MemoryManager",["require","exports","Weave/Core/LifetimeManager","Weave/Core/InternalUtil"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.MemoryManager=void 0;var o=function(){function e(){this.outerLtmRoot=(0,n.createLifetimeManagerRoot)(),this._elementNodeLookup=new Map,this._dynamicNodeLookup=new Map,this._treeId=this.outerLtmRoot.treeId,this._disposed=!1}return e.prototype.dispose=function(){this._disposed||(this._disposed=!0,this.release(this.outerLtmRoot,null),this._elementNodeLookup.clear(),this._dynamicNodeLookup.clear())},e.prototype.getAndEnsureElementNode=function(e){var t=this._elementNodeLookup.get(e);if(!t)throw new Error("Element node not found by id: ".concat(e));return t},e.prototype.tryGetElementNode=function(e){return this._elementNodeLookup.get(e)},e.prototype.getAndEnsureDynamicNode=function(e){var t=this._dynamicNodeLookup.get(e);if(!t)throw new Error("Dynamic node not found by id: ".concat(e));return t},e.prototype.getDynamicNodeLtm=function(e){return this.getAndEnsureDynamicNode(e).selfLtm.innerLtmRoot},e.prototype.getElementNodeLtm=function(e){return this.getAndEnsureElementNode(e).ltm.innerLtmRoot},e.prototype.setElementNode=function(e){var t=e.nodeId;this._elementNodeLookup.set(t,e),e.ltm.elementNodes.push(t)},e.prototype.setDynamicNode=function(e){var t=e.nodeId;this._dynamicNodeLookup.set(t,e),e.selfLtm.dynamicNodes.push(t)},e.prototype.ensureContentDisposed=function(e,t){(0,r.ensureDynamicNodeOperation)(e.type,1),e.contentLtm&&(this.release(e.contentLtm,t),e.contentLtm=null)},e.prototype.getDebugInfo=function(){return{elementNodeLookupSize:this._elementNodeLookup.size,dynamicNodeLookupSize:this._dynamicNodeLookup.size}},e.prototype.releaseDynamicNode=function(e,t){var n=this.getAndEnsureDynamicNode(e);return(0,r.ensureDynamicNodeOperation)(n.type,2),this.release(n.selfLtm,t),n},e.prototype.release=function(e,t){var r=this;e.detachNode(),(0,n.preorderTraversal)(e,(function(e){r._disposed||(t&&t(e),i(r._elementNodeLookup,e.elementNodes),i(r._dynamicNodeLookup,e.dynamicNodes)),e.innerLtmRoot.dispose()}))},e}();function i(e,t){for(var n=0,r=t;n<r.length;n++){var o=r[n];e.delete(o)}}t.MemoryManager=o})),
define("Weave/Core/RenderAgentBase",["require","exports","Weave/Core/MemoryManager","Weave","Weave/Core/InternalUtil","Weave/Core/CollectRenderInfo","Weave/Core/ApplyBindings","Weave/Core/WeaveUtil"],(function(e,t,n,r,o,i,a,s){Object.defineProperty(t,"__esModule",{value:!0}),t.RenderAgentBase=void 0;var l=function(){function e(e,t,r){var o=this;this._handleAttribute=e,this._createNewState=t,this._memoryManager=new n.MemoryManager,this._cssMetadataMap=new Map,this._ltmRemovalCallback=function(e){for(var t=0,n=e.css;t<n.length;t++){var r=n[t];if(--o._cssMetadataMap.get(r).newRefCount<0)throw new Error("Logic error: css refCount became negative")}},this._customEventDataProvider=r||function(){return u}}return e.prototype.clear=function(e){var t,n,r=this._memoryManager.getAndEnsureDynamicNode(e.dynamicNodeId);this.clearLogicalState(r,e,!0);var o=(null===(n=null===(t=e.metadata)||void 0===t?void 0:t.weaveNode)||void 0===n?void 0:n["data-odebug"])||"";this.clearVisualState(r,o),this.applyCssChanges()},e.prototype.remove=function(e){var t,n,r=(null===(n=null===(t=e.metadata)||void 0===t?void 0:t.weaveNode)||void 0===n?void 0:n["data-odebug"])||"";this.removeVisualState(this.removeLogicalState(e.dynamicNodeId,e),r),this.applyCssChanges()},e.prototype.replaceContent=function(e,t,n,r,i){var a,s,l=this,u=this._memoryManager.getAndEnsureDynamicNode(e.dynamicNodeId);if((0,o.ensureDynamicNodeOperation)(u.type,4),(0,o.ensureDynamicNodeOperation)(u.type,1),this.clearLogicalState(u,e,i),i){var c=(null===(s=null===(a=e.metadata)||void 0===a?void 0:a.weaveNode)||void 0===s?void 0:s["data-odebug"])||"";this.clearVisualState(u,c)}var d=u.selfLtm,p=u.contentLtm=d.createChildNode(),f=this.render(p,e,t,n,r,void 0,(function(e,t){l.applyCssChanges(),l.setContent(e,t,u)}));return(0,o.aggregateResults)(r.aggregators,f)},e.prototype.getElementMetadata=function(e){return this._memoryManager.getAndEnsureElementNode(e)},e.prototype.getDynamicNodeLtm=function(e){return this._memoryManager.getDynamicNodeLtm(e)},e.prototype.getElementNodeLtm=function(e){return this._memoryManager.getElementNodeLtm(e)},e.prototype.getMemoryDebugInfo=function(){return this._memoryManager.getDebugInfo()},e.prototype.dispose=function(){this._memoryManager.dispose()},e.prototype.render=function(e,t,n,r,s,l,u){var c=(0,o.buildMapOfArray)(s.relayedKeys),d=this._createNewState&&this._createNewState(),p=this.createCollector(e,t);(0,i.collectRenderInfo)({aggregators:s.aggregators,attributesHandler:this._handleAttribute,cssMetadataMap:this._cssMetadataMap,hooksState:d},p,n,r,c);var f=this.sealCollector(p,d);return this.buildNodeLookup(f),u(f,d),(0,a.applyBindings)(this.thisInstance,f.elementBindings,f.dynamicBindings,l),c},e.prototype.removeLogicalState=function(e,t){return this._memoryManager.releaseDynamicNode(e,this._ltmRemovalCallback)},e.prototype.initInputBinding=function(e,t,n,i){var a=(0,o.isNotNullNorUndefined)(n),l=(0,o.isNotNullNorUndefined)(i);if(a||l){var u=this.getElementMetadata(e),c=this;a&&l?(this.initTwoWayInputBinding(e,t,(function(e){try{i(e)}catch(e){(0,s.raiseAsyncError)(e)}return(0,r.evaluate)(u.ltm.innerLtmRoot,n)})),d()):l?this.initValueSubscribeInputBinding(e,t,i):(this.initValuePushInputBinding(e,t),d())}function d(){(0,o.activateAndRun)(c,e,n,(function(n){c.pushInputValue(e,t,n)}))}},e}();t.RenderAgentBase=l;var u={};Object.freeze(u)})),
define("Weave/SandboxRender/Common",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.createHTMLNode=t.createTextNode=void 0,t.createTextNode=function(e){this.node.children.push({type:"text",text:e})},t.createHTMLNode=function(e){this.node.children.push({type:"html",htmlData:e})}})),
define("Weave/SandboxRender/NodeEditors",["require","exports","Weave/SandboxRender/Common","Weave/SandboxRender/Common","Weave/Core/InternalUtil","Weave/Core/WeaveUtil"],(function(e,t,n,r,o,i){function a(e){var t=(0,o.getUniqueDynamicNodeId)(),l=(0,o.createDynamicNodeLtms)(e.type,this.ltm),u=l.selfLtm,c=l.contentLtm;this.collectors.dynamicBindingCollector.push({dynamicNodeId:t,initContentLtm:c,metadata:e,selfLtm:u});var d={type:"dynamic",nodeId:t,dynamicNodeType:e.type,children:[]};return this.node.children.push(d),{collectors:this.collectors,node:d,nodeId:t,ltm:c||u,createChildDynamicNode:a,createChildElementNode:s,createChildVirtualNode:i.returnThis,createHTMLNode:n.createHTMLNode,createTextNode:r.createTextNode,seal:i.noop}}function s(e){var t={type:"element",tagName:e,attributes:[],children:[]};return this.node.children.push(t),{collectors:this.collectors,elementBinders:[],elementId:"",node:t,ltm:this.ltm,addAttribute:u,addBinding:c,addDebugInfo:p,addDeferredBinding:d,seal:i.noop,sealAttributes:l}}function l(){if(this.elementBinders.length){var e=this.elementId;e||(this.elementId=e=(0,o.getUniqueElementId)(),this.node.attributes.push({name:"id",value:e})),this.collectors.elementBindingCollector.push({elementId:e,binders:this.elementBinders,deferredBinders:void 0,ltm:this.ltm})}return{collectors:this.collectors,node:this.node,ltm:this.ltm,createChildDynamicNode:a,createChildElementNode:s,createChildVirtualNode:i.returnThis,createHTMLNode:n.createHTMLNode,createTextNode:r.createTextNode,seal:i.noop}}function u(e,t){if(e!==e.toLowerCase())throw new Error("Only lowerd case attribute name is allowed: ".concat(e));if("id"===e)throw new Error("id attribute not supported by this api.");return this.node.attributes.push({name:e,value:t}),this}function c(e){return this.elementBinders.push(e),this}function d(){throw new Error("addDeferredBinding is not supported in Sandbox mode yet.")}Object.defineProperty(t,"__esModule",{value:!0}),t.createChildElementNode=t.createChildDynamicNode=void 0,t.createChildDynamicNode=a,t.createChildElementNode=s;var p=function(e){throw new Error("addDebugInfo not supported in prod mode.")}})),
define("Weave/SandboxRender/RenderAgent",["require","exports","Weave/SandboxRender/Common","Weave/Core/ApplyBindings","Weave/Core/CollectRenderInfo","Weave/Core/AttributeHandler","Weave/Core/InternalUtil","Weave/Core/WeaveUtil","Weave/Core/InternalUtil","Weave/SandboxRender/NodeEditors","Weave/Core/RenderAgentBase","Weave/Core/WeaveUtil","Weave/Core/InputBindings"],(function(e,t,n,r,o,i,a,s,l,u,c,d,p){Object.defineProperty(t,"__esModule",{value:!0}),t.SandboxModeRenderAgent=void 0;var f=function(e){function t(t){var n,r,o=e.call(this,(n=t,r=(0,l.makeMap)(y.concat(n.customAttributeHandlers||[]),(function(e){return e.name}),(function(e){return e.handler}),!1),function(e,t,n,o,a,s,l){var u=r.get(t);u?u(e,n,o,a,s,l):(0,i.htmlAttributeHandler)(e,t,n,0)}),t.hooks.instruction.createNewState,t.customEventDataProvider)||this;o._options=t,o._sendInstruction=o._options.hooks.instruction.sendInstruction,o._postProcessNode=o._options.hooks.instruction.postProcessNode,o._inputBindingsMgr=new p.InputBindingsManager,o.thisInstance=o;var a=[{name:"event",handler:function(e){return o._handleEventNotification(e)}},{name:"twoWayInputBinding",handler:function(e){return o._handleTwoWayInputBindingNotification(e)}},{name:"valueSubscribeInputBinding",handler:function(e){return o._handleValueSubscribeInputBindingNotification(e)}}],s=(0,l.makeMap)(a.concat(t.customNotificationHandlers||[]),(function(e){return e.name}),(function(e){return e.handler}));return t.hooks.registerOnReceive((function(e){var t=s.get(e.type);if(!t)throw new Error("Unknown notification from main thread, ".concat(JSON.stringify(e).slice(0,200)));t(e)})),o}return __extends(t,e),t.prototype.renderRoot=function(){var e=this;this.render(this._memoryManager.outerLtmRoot,void 0,this._options.weaveNode,(0,o.createInternalWeaveContext)(__assign({},this._options.weaveContext)),new a.AggregationRelay(this._options.aggregators,{}),void 0,(function(t,n){e._sendInstruction({type:"setRoot",css:e.consumePendingCssChanges(),rootNode:t.node},n)}))},t.prototype.applyCssChanges=function(){this._sendInstruction({type:"applyCss",css:this.consumePendingCssChanges()})},t.prototype.buildNodeLookup=function(e){for(var t=e.elementBindings,n=e.dynamicBindings,r=0,o=t;r<o.length;r++){var i=o[r];this._memoryManager.setElementNode({nodeId:i.elementId,ltm:i.ltm,eventListeners:void 0})}for(var a=0,s=n;a<s.length;a++){var l=s[a],u=l.metadata;this._memoryManager.setDynamicNode({nodeId:l.dynamicNodeId,type:u.type,contentLtm:l.initContentLtm,selfLtm:l.selfLtm,itemNodesId:"forEach"===u.type?u.initRenderDomInfo.map(h):void 0})}},t.prototype.clearVisualState=function(e){this._sendInstruction({type:"clear",dynamicNodeId:e.nodeId})},t.prototype.createCollector=function(e,t){return{collectors:{dynamicBindingCollector:[],elementBindingCollector:[]},createChildDynamicNode:u.createChildDynamicNode,createChildElementNode:u.createChildElementNode,createChildVirtualNode:d.returnThis,createHTMLNode:n.createHTMLNode,createTextNode:n.createTextNode,ltm:e,node:{children:[]},seal:s.noop}},t.prototype.clearLogicalState=function(e,t,n){this._memoryManager.ensureContentDisposed(e,this._ltmRemovalCallback)},t.prototype.removeVisualState=function(e){this._sendInstruction({type:"remove",dynamicNodeId:e.nodeId})},t.prototype.sealCollector=function(e,t){e.seal();var n=e.node;if(this._postProcessNode){for(var r=[],o=0,i=n.children;o<i.length;o++){var a=i[o];r.push(this._postProcessNode(a,t))}n={children:r}}return{dynamicBindings:e.collectors.dynamicBindingCollector,elementBindings:e.collectors.elementBindingCollector,ltm:e.ltm,node:n}},t.prototype.setContent=function(e,t,n){this._sendInstruction({type:"setContent",dynamicNodeId:n.nodeId,rootNode:e.node},t)},t.prototype.setAttribute=function(e,t,n){this._sendInstruction({type:"setAttribute",elementNodeId:e,attributeName:t,attributeValue:n})},t.prototype.removeAttribute=function(e,t){this._sendInstruction({type:"removeAttribute",elementNodeId:e,attributeName:t})},t.prototype.toggleClass=function(e,t,n){this._sendInstruction({type:"toggleClass",elementNodeId:e,value:{className:t,shouldAdd:n}})},t.prototype.setStyle=function(e,t,n){this._sendInstruction({type:"setStyle",elementNodeId:e,styleName:t,styleValue:n})},t.prototype.addEventListener=function(e,t){var n=t.eventName;if("input"===n)throw new Error("".concat(n," is not allowed through this API: addEventListener"));var r=this._memoryManager.getAndEnsureElementNode(e);r.eventListeners?r.eventListeners.push(t):r.eventListeners=[t],this._sendInstruction({type:"setEventListener",elementNodeId:e,eventName:t.eventName,options:t.options})},t.prototype.toggleDisplay=function(e,t){this._sendInstruction({type:"toggleDisplay",dynamicNodeId:e.dynamicNodeId,shouldShow:t})},t.prototype.setItems=function(e,t,n,i,s){var l=this,u=this._memoryManager.getAndEnsureDynamicNode(e);(0,a.ensureDynamicNodeOperation)(u.type,8);for(var c=function(e){for(var t=new Set,n=0,r=e;n<r.length;n++){var o=r[n];t.add(o)}return t}(u.itemNodesId),d=0,p=n;d<p.length;d++){if("exist"===(E=p[d]).type){var f=E.metadata.itemId;if(!c.delete(f))throw new Error("The ForEachItem node ".concat(f," doesn't exists, state tracking is lost."))}}c.forEach((function(e){l.removeLogicalState(e,t)}));for(var h=this._createNewState&&this._createNewState(),y=this.createCollector(u.selfLtm,t),b=(0,o.collectForEachItemsRenderInfo)({aggregators:s.aggregators,attributesHandler:this._handleAttribute,cssMetadataMap:this._cssMetadataMap,hooksState:h},t,y,n.filter(v).map(g),i,s),x=this.sealCollector(y,h),C=new Array(n.length),_=new Array(n.length),w=0,P=0;P<n.length;++P){var E;v(E=n[P])?(C[P]=b[w],_[P]=x.node.children[w],++w):(C[P]=E.metadata,_[P]=E.metadata.itemId)}return u.itemNodesId=C.map(m),this._sendInstruction({type:"setItems",css:this.consumePendingCssChanges(),dynamicNodeId:e,items:_},h),this.buildNodeLookup(x),(0,r.applyBindings)(this,x.elementBindings,x.dynamicBindings),C},t.prototype.focus=function(e,t){this._sendInstruction({type:"focus",elemIndex:t,locatorClass:e})},t.prototype.setLocatorClass=function(e,t){this._sendInstruction({type:"setLocatorClass",elementNodeId:e,locatorClass:t})},t.prototype._makeFullEventData=function(e,t,n){return __assign(__assign({ltm:e},n),this._customEventDataProvider(t))},t.prototype.initTwoWayInputBinding=function(e,t,n){var r=this,o=this._memoryManager.getAndEnsureElementNode(e);this._inputBindingsMgr.ensureNoInputBindingExists(o,t),this._inputBindingsMgr.createInputBinding(o,{type:"twoWay",name:t,onNotification:function(o){r._sendInstruction({type:"twoWayInputBindingCommit",elementNodeId:e,inputBindingName:t,value:n(o)})}}),this._sendInstruction({type:"initTwoWayInputBinding",elementNodeId:e,inputBindingName:t})},t.prototype.initValuePushInputBinding=function(e,t){var n=this._memoryManager.getAndEnsureElementNode(e);this._inputBindingsMgr.ensureNoInputBindingExists(n,t),this._inputBindingsMgr.createInputBinding(n,{type:"valuePush",name:t}),this._sendInstruction({type:"initValuePushInputBinding",elementNodeId:e,inputBindingName:t})},t.prototype.initValueSubscribeInputBinding=function(e,t,n){var r=this._memoryManager.getAndEnsureElementNode(e);this._inputBindingsMgr.ensureNoInputBindingExists(r,t),this._inputBindingsMgr.createInputBinding(r,{type:"valueSubscribe",name:t,onNotification:n}),this._sendInstruction({type:"initValueSubscribeInputBinding",elementNodeId:e,inputBindingName:t})},t.prototype.pushInputValue=function(e,t,n){this._sendInstruction({type:"pushInputValue",elementNodeId:e,inputBindingName:t,value:n})},t.prototype._handleEventNotification=function(e){var t=this._memoryManager.tryGetElementNode(e.elementNodeId),n=t&&t.eventListeners;if(n)for(var r=0,o=n;r<o.length;r++){var i=o[r];if(i.eventName===e.eventName)try{i.eventHandler(this._makeFullEventData(t.ltm.innerLtmRoot,e.eventName,e.eventData))}catch(e){(0,d.raiseAsyncError)(e)}}},t.prototype._handleTwoWayInputBindingNotification=function(e){var t=this._memoryManager.tryGetElementNode(e.elementNodeId);t&&this._inputBindingsMgr.resolveInputBinding(t,e.inputBindingName,["twoWay"]).onNotification(this._makeFullEventData(t.ltm.innerLtmRoot,e.inputBindingName,e.eventData))},t.prototype._handleValueSubscribeInputBindingNotification=function(e){var t=this._memoryManager.tryGetElementNode(e.elementNodeId);t&&this._inputBindingsMgr.resolveInputBinding(t,e.inputBindingName,["valueSubscribe"]).onNotification(this._makeFullEventData(t.ltm.innerLtmRoot,e.inputBindingName,e.eventData))},t.prototype.consumePendingCssChanges=function(){var e={},t=[],n=[];return this._cssMetadataMap.forEach((function(r,o){r.isNew&&(r.isNew=!1,e[r.id]=o),0===r.oldRefCount&&r.newRefCount>0?t.push(r.id):r.oldRefCount>0&&0===r.newRefCount&&n.push(r.id),r.oldRefCount=r.newRefCount})),{newCssDefinition:e,addedCss:t,removedCss:n}},t}(c.RenderAgentBase);function h(e){return e.itemId}function m(e){return e.itemId}function v(e){return"new"===e.type}function g(e){return e.weaveNode}t.SandboxModeRenderAgent=f;var y=[{name:"onClick",handler:i.onClickHandler},{name:"onFocusIn",handler:i.onFocusInHandler},{name:"onFocusOut",handler:i.onFocusOutHandler},{name:"onKeyDown",handler:i.onKeyDownHandler},{name:"onKeyUp",handler:i.onKeyUpHandler},{name:"onKeyPress",handler:i.onKeyPressHandler},{name:"onMouseEnter",handler:i.onMouseEnterHandler},{name:"onMouseLeave",handler:i.onMouseLeaveHandler},{name:"id",handler:i.idHandler},{name:"disabled",handler:i.disabledHandler},{name:"readonly",handler:i.readonlyHandler},{name:"ref",handler:i.refHandler},{name:"className",handler:i.classNameHandler},{name:"style",handler:i.styleHandler},{name:"visible",handler:i.visibleHandler},{name:"coords",handler:i.coordsHandler},{name:"autoplay",handler:i.autoplayHandler},{name:"controls",handler:i.controlsHandler},{name:"loop",handler:i.loopHandler},{name:"muted",handler:i.mutedHandler},{name:"autofocus",handler:i.autofocusHandler},{name:"formnovalidate",handler:i.formnovalidateHandler},{name:"hidden",handler:i.hiddenHandler},{name:"open",handler:i.openHandler},{name:"novalidate",handler:i.novalidateHandler},{name:"ismap",handler:i.ismapHandler},{name:"required",handler:i.requiredHandler},{name:"value",handler:i.valueHandler},{name:"reversed",handler:i.reversedHandler},{name:"default",handler:i.defaultHandler},{name:"checked",handler:i.checkedHandler},{name:"onValueChange",handler:i.onValueChangeHandler},{name:"onCheckedChange",handler:i.onCheckedChangeHandler},{name:"multiple",handler:i.multipleHandler}]})),
define("FxInternal/Composition/ViewModelComposer",["require","exports","Fx/Composition/Pdl/Blade","FxInternal/Composition/ViewModelAdapters","FxInternal/Composition/MenuBlade","FxHubs/ProvisioningRpc","FxInternal/Weave/SandboxRender","FxInternal/Composition/ViewModel","Weave","FxInternal/Composition/BladeContainer","FxInternal/Composition/Part","FxInternal/Composition/ContainerViewModel","FxInternal/Composition/CompositionViewModel","Weave/SandboxRender/RenderAgent","Fx/Composition/Selectable","Fx"],(function(e,t,n,r,o,i,a,s,l,u,c,d,p,f,h,m){Object.defineProperty(t,"__esModule",{value:!0}),t.getEarlyViewModelTelemetryContext=t.canGetViewModelEarly=t.ViewModelProvider=t.composeViewModelWithDi=t.composeViewModel=t.getViewModelClass=t.tryInitializeAsV2ViewModel=t.tryApplyEarlyOnInputsSet=t.getLocatorFriendlyName=t.getViewModelType=t.tryEarlyGetViewModelEndPoint=t.getPartViewModelEndPoint=t.getViewModelEndPoint=t.getViewModelsDefinition=void 0;var v=MsPortalFx.Base,g=MsPortalFx.ViewModels,y=FxImpl.TelemetryContext,b=FxImpl.Constants.RpcMethods;t.getViewModelsDefinition=new a.WeaveChannelDefinition(b.viewModels),t.getViewModelEndPoint=t.getViewModelsDefinition,t.getPartViewModelEndPoint=t.getViewModelsDefinition,t.tryEarlyGetViewModelEndPoint=new a.WeaveChannelDefinition(b.tryEarlyGetViewModel);var x=v.Diagnostics.createLog(e);function C(e,t){var n,r,o=129;return t?(o|=64,t.templateBlade&&!t.templateBlade.isV2&&(o=453),t.menuBlade&&(o=t.menuBlade.isV2?204:454),t.tabMenuBlade&&(o=205),o|=((null===(n=t.templateBlade)||void 0===n?void 0:n.isV2)||(null===(r=t.menuBlade)||void 0===r?void 0:r.isV2))&&4096,o|=16&t.attributes&&1536,o|=4&t.attributes&&2048):("object"==typeof e&&(e=e.name),o|=(null==e?void 0:e.toLowerCase().endsWith(".reacttile"))&&1024),o}function _(e,t){return void 0===t&&(t=!0),"Extension/".concat(MsPortalFx.getEnvironmentValue("extensionName"),"/").concat(t?"Blade":"Part","/").concat(e)}function w(e,t){if(P(e,t))return e.onInputsSetPromise=E(e,t),!0}function P(e,t){return!(!t.onInputsSetParameters||!e.updatePartInputValues)}function E(e,t){var n=t.onInputsSetParameters,r={part:n.partFilters,dashboard:n.dashboardFilters};return y.usingState((function(){return e.updatePartInputValues(n.inputs,n.settings,n.traceOptions,n.viewModelName,n.inputsMetadata,n.dontCallViewModelOnInputsSet,r)}),t.telemetryContext)}t.getViewModelType=C,t.getLocatorFriendlyName=_,t.tryApplyEarlyOnInputsSet=w;var F=["title","subtitle","icon","statusBar","menuContent","_msPortalFxV2ShellApi"];function I(e,t,n,r){var o=e.content();if(!o||!o._msPortalFx_viewModelApiV2)return!1;var i=function(){return n&&n(e),!0};if(!w(e,t))return i();e.chrome=F.reduce((function(e,t){return e[t]=ko.observable(),e}),{});var a={},s=e.container,l=t.locator&&t.locator.name;function u(){F.forEach((function(t){if(t in o){var n=o[t];if(t in a)n!==a[t]&&x.error("Property changed non-observably, use an observable instead and update its value: '".concat(t,"' in '").concat(l,"' in '").concat(MsPortalFx.getEnvironmentValue("extensionName"),"'"));else{var r=e.chrome[t];ko.isObservable(n)?(r(n()),n.subscribe(s,r)):r(n),a[t]=n}}}))}var d=o._viewModel;if(d){var f=Reflect.getOwnMetadata("fx:weavebladeexports",d.constructor.prototype),h=f&&f.commandBar;h&&(o.commandBar=d[h]())}if(u(),r){var m={_msPortalFx_contentRevealedPromise:Q(),_msPortalFx_viewModelApiV2:!0,_msPortalFxV2ShellApi:o._msPortalFxV2ShellApi,onInputsSet:function(){o.onInputsSet.apply(o,arguments)}};o.hasOwnProperty("commandBar")&&(m.commandBar=o.commandBar),e.content(m)}else e.content(null),function(e,t){var n,r=e.container;if(e instanceof c.Part)n=r.operations.blockingUi;else{if(!(e instanceof p.CompositionViewModel))throw new Error("Unexpected view model");n=ko.pureComputed((function(){return 2===e.state()}))}n.fxOnceAndRun(r,(function(e){t()}),(function(e){return!e}))}(e,(function(){u(),e.content(o)}));return i()}function M(t){return t?Q(MsPortalFx.tryImmediateResolve(MsPortalFx.require(t.module,e),(function(e){return e[t.export]}))):Q()}function S(e,t,n,o,a){return Q(MsPortalFx.tryImmediateResolve(M(t),(function(t){if(o&&t){var l=r.isWeaveEnabled(t);return y.usingState((function(){return o.set(s.PartContext,v.Diagnostics.Telemetry.Context.getPartContext()),function(e){return!!e&&!(!e._fx||void 0===e._fx.itemType)}(t)?function(e){return!!e&&!(!e._fx||void 0===e._fx.doesProvisioning)}(t)?i.provisioningContextEndpoint.invoke(e,"fx",{}).then((function(e){return{viewModel:new r.ViewModelAdapter(o,t,e),enableWeave:l}})):Q({viewModel:new r.ViewModelAdapter(o,t),enableWeave:l}):Q({viewModel:Reflect.getOwnMetadata("fx:class",t)?o.get(t):new t(o),enableWeave:l})}),n)}return Q({viewModel:a(),enableWeave:!1})})))}function k(e,t,n,r){var o=t?g.Part.createSelectableViewModel():void 0,i=t?new d.SelectableContainerViewModel({selectable:o}):new d.ContainerViewModel,a=e(i),s=function(e){var t=new p.CompositionViewModel(i,e,r);return n&&n(e),t};return Q.isPromiseAlike(a)?Q(a.then(s)):s(a)}function R(e,t,n,r,o,i,a){return Q(k((function(o){return e.set(g.PartContainerContract,o).set(g.ContainerContract,o).set(g.CommandContainerContract,o),o.registerForDispose((function(){return e.disposeAsync()})),S(e.get(FxImpl.Rpc.Client),t,n,e,(function(){return r(o)})).then((function(e){return e.viewModel}))}),o,i,a))}t.tryInitializeAsV2ViewModel=I,t.getViewModelClass=M,t.composeViewModel=k,t.composeViewModelWithDi=R;var A=function(){function e(e,t,n,r){this._sdkEnv=e,this._entryPoint=t,this._rpcClient=n,this._waitForExtensionIdle=r}return e.prototype._v1EarlyOnInputsSet=function(e,t,n){var r;P(e,t)&&(r=Q.defer(),e.onInputsSetPromise=r.promise),n&&n(e);var o=e.content(),i=t.partSize;"number"==typeof i&&o&&ko.isObservable(o.size)&&o.size(i),r&&r.resolve(E(e,t))},e.prototype.getObservable=function(e,t,n,r){var o=this,i=n.telemetryContext,a=y.usingState((function(){return 128&n.type?o._getPartViewModel(e,t,n,r):o._getViewModel(e,n,r)}),i);if(!a)throw new Error("Cannot provide the required object.");return a},e.prototype.tryEarlyGetViewModel=function(e,t,n,r,o,i){return T(o,n)?this.getObservable(e,i,{locator:o.viewModelLocator,type:C(t,o),contentSize:null,flags:2|(r.partialFlags||0),menuId:r&&r.menuId,onInputsSetParameters:{inputs:n,traceOptions:null,viewModelName:B(o,r.sequenceNumber),settings:void 0,inputsMetadata:void 0,dontCallViewModelOnInputsSet:void 0,dashboardFilters:void 0,partFilters:void 0},telemetryContext:D(t,r.sequenceNumber)}):Q(null)},e.prototype.getGalleryServiceViewModel=function(e){var t=this,n=this._sdkEnv.marketplaceViewModelLocator;if(!n)return Q();var r=R(e,n,null,(function(e){return t._entryPoint.getViewModel(n.name,e)}),!1);return Q(r).then((function(e){return e.content=ko.unwrap(e.content),e}))},e.prototype._getViewModel=function(e,t,n){var r=this,o=t.earlyExecTask&&function(e){!function(e,t){var n,r=t.method,o=e[r];"function"==typeof o?n=function(e,t){var n=t.resourceMenuArgs,r=t.method,o=n&&(("getMenuConfig"===r||"getResourceMenuConfig"===r)&&MsPortalFx.identity||"getResourceAndMenuConfig"===r&&function(e){return e&&e.menuConfig});return o?e.then((function(e){var t=o(e);return t?function(e,t){var n,r,o,i,a=t[0],s=(t[1],function(e){return e.supplyBladeReference?Q(e.supplyBladeReference()):Q(e.supplyBladeReferenceAsync())}),l=void 0!==a&&(a||e.defaultItemId||e.overview&&e.overview.id),u=l&&(MsPortalFx.find(MsPortalFx.mapMany(e.groups||[],(function(e){return e.items||[]})),(function(e){return e&&(e.id===l||!!MsPortalFx.find(e.tabItems,(function(e){return e.id===l})))}))||((null===(n=e.overview)||void 0===n?void 0:n.id)===l||!!MsPortalFx.find(null===(r=e.overview)||void 0===r?void 0:r.tabItems,(function(e){return e.id===l})))&&e.overview);if(u)if(u.tabItems){var c=u.id===l?MsPortalFx.first(u.tabItems):MsPortalFx.find(u.tabItems,(function(e){return e.id===l})),d=new h.MenuBladeReference("HostedTabMenuBlade",u.id,"HubsExtension",{parameters:{menuId:c.id,menuItems:u.tabItems.map((function(e){return{id:e.id,displayText:e.displayText}}))}});c&&(c.supplyBladeReference||c.supplyBladeReferenceAsync)&&(i=Promise.resolve(d),o=s(c))}else(u.supplyBladeReference||u.supplyBladeReferenceAsync)&&(o=s(u));var p=function(t){e._msPortalFx_bladeReferencePrefetch=t};return o||i?MsPortalFx.tryImmediateFinally(o,(function(){p({tabBladeReferencePromise:i,contentBladeReferencePromise:o,menuItemId:l})})):(p(void 0),Q())}(t,n).then((function(){return e}),(function(){return e})):e})):e}(n=Q.fcall((function(){return o.apply(e,t.args)})),t):t.ignoreMissingMethod||(n=Q.reject(new Error("EarlyExecTask failed. Missing function ".concat(t.method,"."))));t.keepReturnsIn&&(e["_msPortalFx_earlyExec"+t.keepReturnsIn]=n)}(e,t.earlyExecTask)};return R(e,t.locator,t.telemetryContext,(function(e){return r._entryPoint.getViewModel(t.locator.name,e)}),t.createSelectable,o).then((function(e){return r._v1EarlyOnInputsSet(e,t,n),e}))},e.prototype._downloadBladeBundles=function(e,t){if(e){var n=e,r=n.extensionName,o=n.bladeName;t.findIndex((function(e){return r===e}))>=0&&!o.toLowerCase().endsWith(".ReactView".toLowerCase())&&FxImpl.Extension.downloadBladeBundlesEndPoint.invoke(this._rpcClient,r,o)}},e.prototype._getPartViewModel=function(e,t,r,i){var s=this,d=r.locator.name,h=(0,p.createFrameworkPartViewModel)();h.getViewModelStart=Date.now();var v,b,x,C,w,P=function(e,t,r){var o=256&r.viewModelType,i=o?new u.BladeContainer(t,r):new c.PartContainer(t,r);return i._internal_noLazyRender=(0,l.makeWritableComputation)(!1),o&&e.set(n.Container,i),e.set(g.ContainerContract,i).set(g.PartContainerContract,i),i}(e,h,{selectable:r.createSelectable?g.Part.createSelectableViewModel():void 0,location:r.partLocation,flags:r.flags,viewModelType:r.type});if(r.contentSize&&(P.height(r.contentSize.height),P.width(r.contentSize.width)),(454&r.type||204&r.type)&&8&~r.flags){var E=Q.defer(),F=Q.defer();(0,o.setInitialMenuItem)(P,{id:r.menuId,setBladeReferencePromise:function(e,t,n){var r=Promise.all([e,t]).then((function(e){var t=e[0],r=e[1];(t||r)&&n&&(s._downloadBladeBundles(t,[n,"HubsExtension"]),s._downloadBladeBundles(r,[n])),E.resolve(t),F.resolve(r)}),(function(e){E.reject(e),F.reject(e)}));return v=r,r.then((function(){return m.delay(0)}))}}),h.initialMenuHeaderBlade=E.promise,h.initialMenuContentBlade=F.promise}if(64&r.type){var M,k=function(){h.onInitializeAsyncTime(fx.getTimestamp()-M)};if(C=function(){M=h.onInitializeStart=fx.getTimestamp()},w=function(e){e.onInputsSetPromise&&e.onInputsSetPromise.then(k)},FxImpl.features.isNativePerf){var R=y.getCurrentValue(y.ContextType.Blade),A=_(R&&R.id||"<unknown>").toLowerCase(),T=function(e){return"".concat(e,": ").concat(A)},D=T("ExtInstantiateBladeClass"),B=T("ExtBladeOnInitializeSync"),O=T("ExtBladeOnInitializeAsync");b=function(){performance.mark(D)},x=function(){performance.measure(D,D)},C=N(C,(function(){performance.mark(B),h.onInitializeStartMark=B})),w=N(w,(function(){performance.measure(B,B)})),k=N(k,(function(){performance.measure(O,B)}))}}return b&&b(),S(this._rpcClient,r.locator,r.telemetryContext,e,(function(){return s._entryPoint.getPartViewModel(d,P)})).then((function(n){var o=n.viewModel,l=n.enableWeave;x&&x();var d=r.collapsed;MsPortalFx.isNullOrUndefined(d)||o.collapsed(d),256&r.type&&(0,u.bindActionBar)(P,o);var p="Extension/".concat(FxImpl.postBootEnv.extensionName,"/PartType/").concat(r.locator.name),m=new c.Part(h,P,o,null,p,r.type,s._waitForExtensionIdle);if(m.container.registerForDispose((function(){e.disposeAsync()})),C&&C(),I(m,r,i,!!l)||s._v1EarlyOnInputsSet(m,r,i),w&&w(m),t&&l){if(!["HubsExtension"].includes(t.destWindowId))throw new Error("TemplateBlade2 is not supported for your extension: "+t.destWindowId);var v=(0,a.createSandboxModeRenderAgent)(f.SandboxModeRenderAgent,t.port,o.weave(),{diContainer:e,extensionName:t.destWindowId,noLazyRender:e.get(g.ContainerContract)._internal_noLazyRender,partName:r.locator.name,hostedInExtension:!0});t.ltm.registerForDispose(v)}return m})).then((function(e){return v?v.then((function(){return e})):e}))},e}();function T(e,t){var n=!e.editScopeType&&(e.templateBlade&&!e.templateBlade.partState&&!e.templateBlade.parameterProvider||e.menuBlade||e.tabMenuBlade||e.frameBlade&&!e.frameBlade.partState),r=(e.inputs||[]).some((function(e){return!t.hasOwnProperty(e)}));return n&&!r}function D(e,t){var n,r=_(e),o=MsPortalFx.sessionId,i="Blade_".concat(o,"_").concat(t,"_0"),a="Part_".concat(o,"_").concat(t,"_0"),s={id:"".concat(r,"/Lens/TemplateBladeVirtualLens/PartInstance/").concat(e),instanceId:a,bladeId:r,bladeInstanceId:i,onBlade:!0,onStartBoard:!1,bladeCustomized:!1},l={id:r,instanceId:i};return FxImpl.TelemetryContext.provideContext((function(){FxImpl.TelemetryContext.provideContext((function(){n=FxImpl.TelemetryContext.getState()}),FxImpl.TelemetryContext.ContextType.Part,s)}),FxImpl.TelemetryContext.ContextType.Blade,l),n}function B(e,t){var n=e.name,r=e.viewModelName;return"{ Name: Part, Type: [0]".concat(MsPortalFx.getEnvironmentValue("extensionName"),"-[1]").concat(n,"-[2]TemplateBladeVirtualLens-[5]").concat(n,", Id: Part-").concat(n,"-").concat(t," } (ViewModel: ").concat(r||"N/A",")")}function N(e,t){return function(){e.apply(null,arguments),t.apply(null,arguments)}}t.ViewModelProvider=A,t.canGetViewModelEarly=T,t.getEarlyViewModelTelemetryContext=D})),
define("FxInternal/Controls/Essentials",["require","exports","Fx/ResourceManagement","FxHubs/ArmClient","FxInternal/Controls/Base/Base","FxInternal"],(function(e,t,n,r,o,i){Object.defineProperty(t,"__esModule",{value:!0}),t.EditTagsBladeReference=t.TagResourcesBladeReference=t.ViewModel=t.getEssentialsResourceInfo=t.convertStringMapToTagInfoArray=void 0;var a=MsPortalFx.Assets,s=MsPortalFx.Base,l=FxImpl.Composition.Selectable.PdlBladeReference,u=MsPortalFx.Azure.ResourceManager.getMoveResourceBlade,c=MsPortalFx.Azure.getSubscriptionInfo;function d(e){return e?Object.keys(e).map((function(t){return{key:t,value:e[t]}})):null}function p(e){return!!e.menu}function f(e,t,o){var i=n.ArmId.parse(t,!0);if(6===i.kind||3===i.kind||8===i.kind){var a={resourceGroupName:i.resourceGroup,resourceGroupId:null,subscriptionName:null,subscriptionId:i.subscription,location:null,tags:null,moveOptions:{resourceGroup:!1,subscription:!1,location:!1}};return Q(s.Promises.cancelOnDispose(e,Q((0,r.getResource)(t,"EssentialsControl-".concat(i.resourceType)).then((function(e){return MsPortalFx.extend(a,{location:e.locationString,resourceGroupId:e.resourceGroup,tags:o&&d(e.tags),zones:e.zones}),c(a.subscriptionId)})).then((function(e){return MsPortalFx.extend(a,{subscriptionName:e.displayName,moveOptions:{resourceGroup:!0,subscription:!0,location:!0}})})))))}if(4===i.kind){var l={resourceGroupName:i.resourceGroup,resourceGroupId:null,subscriptionName:null,subscriptionId:i.subscription,location:null,tags:null,moveOptions:{resourceGroup:!1,subscription:!1,location:!1}};return Q(s.Promises.cancelOnDispose(e,Q((0,r.getResourceGroup)(t,"EssentialsControl-group").then((function(e){return MsPortalFx.extend(l,{location:e.locationString,resourceGroupId:e.id,tags:o&&d(e.tags)}),c(l.subscriptionId)})).then((function(e){return MsPortalFx.extend(l,{subscriptionName:e.displayName,moveOptions:{resourceGroup:!1,subscription:!0,location:!1}})})))))}}t.convertStringMapToTagInfoArray=d,t.getEssentialsResourceInfo=f;var h=function(e){function t(t,n){var r=e.call(this,t)||this;r._container=t,r.controlType=120;var o=n.resourceId;return o?n.additionalRight?r.optionType=1:r.optionType=2:r.optionType=3,r.options=n,r.disabled=ko.observable(!1),r.resource=MsPortalFx.initObservable(n.resource,null),r.expanded=ko.isObservable(n.expanded)?n.expanded:ko.observable(!0),r.status=ko.observable(null),r.dynamicLeftArray=ko.observableArray([]),r.dynamicRightArray=ko.observableArray([]),r.newTags=ko.observableArray(null),r.containerHasMenu=p(t),!o||n.resource||n.skipResourceFetching||(r._resourceInfo=f(t,o,!0)),r}return __extends(t,e),t.prototype.addDynamicProperties=function(e,t){var n=this.dynamicLeftArray,r=this.dynamicRightArray;n(n().concat(e)),r(r().concat(t))},t.prototype.modifyStatus=function(e){this.status(e)},t.prototype.openBlade=function(e,t){return Q(function(e){var t=e.container,n=e.options,r=e.bladeOpenType,o=e.bladeOpenOptions,i=e.newTags,s=e.tagsPromise,c=function(e){n.onBladeClose&&n.onBladeClose(e)};n.onBladeOpen&&n.onBladeOpen(r);var p=Object.getOwnPropertyNames(o);return~p.indexOf("key")&&~p.indexOf("value")?t.openBladeAsync(Q(new m({tagName:o.key,tagValue:o.value},(function(e,t){c(r)})))):~p.indexOf("tag")?t.openContextPaneAsync(Q(new v({resource:o.resourceId,tagName:o.tag},(function(e,t){if(c(r),2===e&&t.update){var n=new MsPortalFx.Map;n.set(o.resourceId,JSON.parse(t.newTagsSerialized)),MsPortalFx.require("FxHubs/ArmHelpers/ArmTags").then((function(e){return e.handleTagsContextPaneResults(n).then((function(e){if(e&&!e.armErrorsMap.get(o.resourceId)){var t=d(e.newTagsMap.get(o.resourceId));s&&s.resolve(t),i&&i(t)}else s&&s.resolve()}))}))}else s&&s.resolve()})))):~p.indexOf("moveType")?t.openBladeAsync(Q(a.mapDynamicBladeSelectionToBladeReference(u(o.resourceId,o.moveType).bladeSelection,(function(e,t){c(r)})))):~p.indexOf("subscriptionId")&&~p.indexOf("sourceRegion")?t.openBlade(new l("RmAddResourceWizardBlade","Microsoft_Azure_ResourceMove",{parameters:{subscriptionId:o.subscriptionId,resourceIds:[o.resourceId],sourceRegion:o.sourceRegion},onClosed:function(e,t){c(r)}})):t.openBladeAsync(a.mapResourceIdToBladeReference(o.resourceId,(function(e,t){c(r)})))}({container:this._container,options:this.options,bladeOpenType:e,bladeOpenOptions:t,newTags:this.newTags}))},t.prototype.getResourceInfo=function(e){return this._resourceInfo?this._resourceInfo.then((function(t){return e?t:(0,i.extend2)(t,{tags:null})})):f(this._container,this.options.resourceId,e)},t.prototype.openBladeInMenuContext=function(e){p(this._container)&&this._container.menu.openBlade(e)},t}(o.ViewModel);t.ViewModel=h;var m=function(e){function t(t,n){return e.call(this,MsPortalFx.isFeatureEnabled("artbrowse")?"BrowseResourcesWithTag":"ResourcesWithTag.ReactView","HubsExtension",{onClosed:n,parameters:t})||this}return __extends(t,e),t}(l);t.TagResourcesBladeReference=m;var v=function(e){function t(t,n){return e.call(this,"EditTagsBlade","HubsExtension",{onClosed:n,parameters:t})||this}return __extends(t,e),t}(l);t.EditTagsBladeReference=v})),
define("FxInternal/Copilot/ShellAPIs",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.copilotShellApisCollectFXContextsEndpoint=t.copilotShellApisGetBladeViewModelsHandlerEndpoint=t.copilotInvokeReactViewHandlerEndpoint=t.getActiveReactViewsForCopilotManagerEndpoint=t.getReactViewPortForCopilotManagerEndpoint=t.pushReactViewPortToCopilotManagerEndpoint=t.copilotBladeWasClosedEndpoint=t.copilotShellApisExecuteBladeHandlerEndpoint=t.copilotShellApisExecuteShellHandlerEndpoint=t.copilotShellApisGetShellHandlerDefinitionsEndpoint=t.copilotShellApisSetBladeDetailsEndpoint=t.copilotShellApisLogErrorToExtensionEndpoint=t.copilotShellApisOpenBladeEndpoint=t.copilotShellApisGetBladeDeepLinkEndpoint=t.copilotShellApisGetRecentBladeEndpoint=t.copilotShellApisGetCurrentBladeInfoEndpoint=t.copilotShellApisGetExtensionVersionEndpoint=t.copilotShellApisGetManifestCacheUriEndpoint=t.copilotShellApisGetManifestCacheEndpoint=t.copilotShellApisGetDirectLineTokenEndpoint=void 0,t.copilotShellApisGetDirectLineTokenEndpoint=new n.FuncEndPointDefinition("copilotShellApisGetDirectLineToken"),t.copilotShellApisGetManifestCacheEndpoint=new n.FuncEndPointDefinition("copilotShellApisGetManifestCache"),t.copilotShellApisGetManifestCacheUriEndpoint=new n.FuncEndPointDefinition("copilotShellApisGetManifestCacheUri"),t.copilotShellApisGetExtensionVersionEndpoint=new n.FuncEndPointDefinition("copilotShellApisGetExtensionVersion"),t.copilotShellApisGetCurrentBladeInfoEndpoint=new n.FuncEndPointDefinition("copilotShellApisGetCurrentBladeInfo"),t.copilotShellApisGetRecentBladeEndpoint=new n.FuncEndPointDefinition("copilotShellApisGetRecentBlade"),t.copilotShellApisGetBladeDeepLinkEndpoint=new n.FuncEndPointDefinition("copilotShellApisGetBladeDeepLink"),t.copilotShellApisOpenBladeEndpoint=new n.FuncEndPointDefinition("copilotShellApisOpenBlade"),t.copilotShellApisLogErrorToExtensionEndpoint=new n.ActionEndPointDefinition("copilotShellApisLogErrorToExtension"),t.copilotShellApisSetBladeDetailsEndpoint=new n.ActionEndPointDefinition("copilotShellApisSetBladeDetails"),t.copilotShellApisGetShellHandlerDefinitionsEndpoint=new n.FuncEndPointDefinition("copilotShellApisGetShellHandlerDefinitions"),t.copilotShellApisExecuteShellHandlerEndpoint=new n.FuncEndPointDefinition("copilotShellApisExecuteShellHandler"),t.copilotShellApisExecuteBladeHandlerEndpoint=new n.FuncEndPointDefinition("copilotShellApisExecuteBladeHandler"),t.copilotBladeWasClosedEndpoint=new n.ActionEndPointDefinition("copilotBladeWasClosed"),t.pushReactViewPortToCopilotManagerEndpoint=new n.ActionEndPointDefinition("pushReactViewPortToCopilotManager"),t.getReactViewPortForCopilotManagerEndpoint=new n.FuncEndPointDefinition("getReactViewPortForCopilotManager"),t.getActiveReactViewsForCopilotManagerEndpoint=new n.FuncEndPointDefinition("getActiveReactViewsForCopilotManager"),t.copilotInvokeReactViewHandlerEndpoint=new n.FuncEndPointDefinition("copilotInvokeReactViewHandler"),t.copilotShellApisGetBladeViewModelsHandlerEndpoint=new FxImpl.Rpc.ProxiedObjectTypeDefinition("copilotShellApisGetBladeViewModelsHandler"),t.copilotShellApisCollectFXContextsEndpoint=new n.FuncEndPointDefinition("copilotShellApisCollectFXContexts")})),
define("FxInternal/Css",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.unInjectCss=t.injectCss=t.cssFilesOrder=void 0;function n(e,t,n){var r=document.createElement(n||"style");return r.className=e,t.appendChild(r)}function r(e){return/Less\/(.*\.css)|$/.exec(e)[1]||e}var o=n("fx-ordered-styles",document.head,"div");["Viva.Controls/Controls/Viva.Balloon.css","Viva.Controls/Controls/Viva.DockedBalloon.css","Viva.Controls/Controls/Viva.SingleSetting.css","Viva.Controls/Controls/Viva.TextStream.css","Viva.Controls/Controls/Base/Viva.Base.css","Viva.Controls/Controls/Base/Viva.ValidationPlacements.css","Viva.Controls/Controls/Forms/Viva.Button.css","Viva.Controls/Controls/Forms/Viva.CheckBox.css","Viva.Controls/Controls/Forms/Viva.DatePanel.css","Viva.Controls/Controls/Forms/Viva.DatePicker.css","Viva.Controls/Controls/Forms/Viva.DateTimePicker.css","Viva.Controls/Controls/Forms/Viva.DateTimeRangePicker.css","Viva.Controls/Controls/Forms/Viva.DropDown.css","Viva.Controls/Controls/Forms/Viva.EditableCombo.css","Viva.Controls/Controls/Forms/Viva.FilterCombo.css","Viva.Controls/Controls/Forms/Viva.MultiLineTextBox.css","Viva.Controls/Controls/Forms/Viva.MultiSelectDropDown.css","Viva.Controls/Controls/Forms/Viva.NumericTextBox.css","Viva.Controls/Controls/Forms/Viva.OptionPicker.css","Viva.Controls/Controls/Forms/Viva.Password.css","Viva.Controls/Controls/Forms/Viva.SearchBox.css","Viva.Controls/Controls/Forms/Viva.Slider.css","Viva.Controls/Controls/Forms/Viva.TextBox.css","Viva.Controls/Controls/Forms/Viva.TextInput.css","Viva.Controls/Controls/Forms/Viva.TimePicker.css","Viva.Controls/Controls/Lists/Viva.Grid1.ContextMenuShortcut.css","Viva.Controls/Controls/Lists/Viva.Grid1.EditableRow.css","Viva.Controls/Controls/Lists/Viva.Grid1.Filterable.css","Viva.Controls/Controls/Lists/Viva.Grid1.FocusableRow.css","Viva.Controls/Controls/Lists/Viva.Grid1.Formatters.css","Viva.Controls/Controls/Lists/Viva.Grid1.Groupable.css","Viva.Controls/Controls/Lists/Viva.Grid1.Hierarchical.css","Viva.Controls/Controls/Lists/Viva.Grid1.css","Viva.Controls/Controls/Lists/Viva.Grid1.Pageable.css","Viva.Controls/Controls/Lists/Viva.Grid1.PercentFormatter.css","Viva.Controls/Controls/Lists/Viva.Grid1.ReorderRow.css","Viva.Controls/Controls/Lists/Viva.Grid1.ResizableColumn.css","Viva.Controls/Controls/Lists/Viva.Grid1.Scrollable.css","Viva.Controls/Controls/Lists/Viva.Grid1.SelectableRowActivate.css","Viva.Controls/Controls/Lists/Viva.Grid1.SelectableRow.css","Viva.Controls/Controls/Lists/Viva.Grid1.SortableColumn.css","Viva.Controls/Controls/Lists/Viva.ListView1.css","Viva.Controls/Controls/Lists/Viva.ListView1.FocusableExtension.css","Viva.Controls/Controls/Lists/Viva.ListView1.GroupableExtension.css","Viva.Controls/Controls/Lists/Viva.ListView1.css","Viva.Controls/Controls/Lists/Viva.ListView1.SelectableExtension.css","Viva.Controls/Controls/Lists/Viva.TreeView.FocusableExtension.css","Viva.Controls/Controls/Lists/Viva.TreeView.css","Viva.Controls/Controls/Lists/Viva.TreeView.OnDemandLoadableExtension.css","Viva.Controls/Controls/Lists/Viva.TreeView.LoadByContinuationToken.css","Viva.Controls/Controls/Visualization/Viva.Chart.css","Viva.Controls/Controls/Visualization/Viva.ChartBase.css","Viva.Controls/Controls/Visualization/Viva.Donut.css","Viva.Controls/Controls/Visualization/Viva.Gauge.css","Viva.Controls/Controls/Visualization/Graph.css","Viva.Controls/Controls/Visualization/Graph.Skins.css","Viva.Controls/Controls/Visualization/Viva.Legend.css","Viva.Controls/Controls/Visualization/Viva.Metrics.css","Viva.Controls/Controls/Visualization/Viva.QuotaGauge.css","Viva.Controls/Controls/Visualization/Viva.SvgBase.css","Viva.Controls/Controls/Visualization/Viva.UsageGauge.css","MsPortalImpl/Parts/Parts.Chart.css","MsPortalImpl/Parts/Parts.Collection.css","MsPortalImpl/Parts/Parts.CollectionSummary.css","MsPortalImpl/Parts/Parts.Donut.css","MsPortalImpl/Parts/Parts.fileSummary.css","MsPortalImpl/Parts/Parts.InfoList.css","MsPortalImpl/Parts/Parts.ButtonPart.css","MsPortalImpl/Parts/Parts.Asset.css","MsPortalImpl/Parts/Parts.QuickStart.css","MsPortalImpl/Parts/Parts.QuotaGauge.css","MsPortalImpl/Parts/Parts.ResourceSummary.css","MsPortalImpl/Parts/Parts.SingleValueGauge.css","MsPortalImpl/Parts/Parts.Properties.css","MsPortalImpl/Parts/Parts.SpecPicker.css","MsPortalImpl/Parts/Parts.PricingTier.css","MsPortalImpl/Controls/ActionBars/Controls.ActionBarBase.css","MsPortalImpl/Controls/ActionBars/Controls.CreateActionBar.css","MsPortalImpl/Controls/ActionBars/Controls.GenericActionBar.css","MsPortalImpl/Controls/ActionBars/Controls.PickerActionBar.css","MsPortalImpl/Controls/Controls.Notice.css","MsPortalImpl/Controls/Controls.HeroBanner.css","MsPortalImpl/Controls/Controls.HotSpot.css","MsPortalImpl/Controls/Controls.FileDownloadButton.css","MsPortalImpl/Controls/Controls.PickerV3.css","MsPortalImpl/Controls/Controls.InfoBox.css","MsPortalImpl/Controls/Forms/AsyncFileUpload.css","MsPortalImpl.Controls/Controls/Base.css","MsPortalImpl.Controls/Controls/Console.css","MsPortalImpl.Controls/Controls/IFrame.css","MsPortalImpl.Controls/Controls/DockedBalloon.css","MsPortalImpl.Controls/Controls/LogStream.css","MsPortalImpl.Controls/Controls/Documents/Editor.css","MsPortalImpl.Controls/Controls/Forms/Attachment.css","MsPortalImpl.Controls/Controls/Forms/CopyableLabel.css","MsPortalImpl.Controls/Controls/Forms/History.css","MsPortalImpl.Controls/Controls/Lists/Grid1.Formatters.css","MsPortalImpl.Controls/Controls/Lists/Grid1.SelectableRow.css","MsPortalImpl.Controls/Controls/Lists/ListView.css","MsPortalImpl.Controls/Controls/Lists/ListView1.css","MsPortalImpl.Controls/Controls/Lists/Menu.css","MsPortalImpl.Controls/Controls/Markdown.css","MsPortalImpl.Controls/Controls/PartPinner.css","MsPortalImpl.Controls/Controls/SearchBox.css","MsPortalImpl.Controls/Controls/SimpleButton.css","MsPortalImpl.Controls/Controls/SpecComparisonTable.css","MsPortalImpl.Controls/Controls/TextBlock.css","MsPortalImpl.Controls/Controls/Toolbars/Toolbar.css","MsPortalImpl.Controls/Controls/Visualization/Chart.css","MsPortalImpl.Controls/Controls/Visualization/ChartColor.css","MsPortalImpl.Controls/Controls/Visualization/PairedTimeline.css","MsPortalImpl.Controls/Controls/Visualization/PairedTimelineBadges.css","MsPortalImpl.Controls/Controls/Visualization/ProgressBar.css","MsPortalImpl.Controls/Controls/Visualization/RangeSelection.css","MsPortalImpl.Controls/Definitions/Common.css","MsPortalImpl.Controls/Fields/DayPicker.css","MsPortalImpl.Controls/Fields/DurationPicker.css","MsPortalImpl.Controls/Fields/Fields.css","FxInternal/WeaveControls/Section.Component.css","MsPortalImpl.Controls/Fields/Selector.css","MsPortalImpl.Controls/Fields/CreatorAndSelector.css","MsPortalImpl/Widgets/Widgets.Blade.css","MsPortalImpl/Themes/Themes.Reset.css","MsPortalImpl/Themes/Theme2.Colors.Blue.css","MsPortalImpl/Themes/Theme2.Colors.Azure.css","MsPortalImpl/Themes/Theme2.Colors.Light.css","MsPortalImpl/Themes/Theme2.Colors.Dark.css","MsPortalImpl/Themes/Theme2.css","MsPortalImpl/Themes/Theme2.Colors.HighContrastMode.LightMode.css","MsPortalImpl/Themes/Theme2.Colors.HighContrastMode.DarkMode.css","MsPortalImpl/Themes/Theme2.HighContrastMode.css"].forEach((function(e){n(e,o)}));var i=Object.create(null);t.injectCss=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var a=0;a<arguments.length;a++){var s=arguments[a],l=s.moduleId,u=s.css;if(!i[l]){i[l]=!0;var c=r(l),d=o.getElementsByClassName(c)[0]||n(c,o),p=d.styleSheet;p?p.cssText=u:d.appendChild(document.createTextNode(u))}}},t.unInjectCss=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<arguments.length;n++){var a=arguments[n].moduleId;if(i[a]){i[a]=!1;var s=r(a),l=o.getElementsByClassName(s)[0],u=l.styleSheet;u?u.cssText="":l.appendChild(document.createTextNode(""))}}}})),
define("FxInternal/Dashboard/DashboardEndpoints",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.PortalDashboard=void 0;var n,r=FxImpl.Rpc.FuncEndPointDefinition;!function(e){e.createDashboard=new r("Shell.createDashboard"),e.deleteDashboards=new r("Shell.deleteDashboards"),e.getArmDashboardJson=new r("Shell.getArmDashboardJson"),e.getPrivateDashboards=new r("Shell.getPrivateDashboards"),e.getRecentDashboards=new r("Shell.getRecentDashboards")}(n||(t.PortalDashboard=n={}))})),
define("FxInternal/DirectoryManagement",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.saveUserDirectorySettingsEndPoint=t.getUserDirectorySettingsEndPoint=void 0;var n=FxImpl.Rpc.FuncEndPointDefinition;t.getUserDirectorySettingsEndPoint=new n("getUserDirectorySettings"),t.saveUserDirectorySettingsEndPoint=new n("saveUserDirectorySettings")})),
define("FxInternal/Environment",["require","exports","Fx/DependencyInjection"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Environment=void 0;var r=function(){function t(){}return t=__decorate([__metadata("fx:diagnostics",[e,"Environment"]),n.Value()],t)}();t.Environment=r})),
define("FxInternal/ErrorHandling",["require","exports","Fx/Errors","FxInternal","Fx/DependencyInjectionCore","Fx/Diagnostics"],(function(e,t,n,r,o,i){var a;Object.defineProperty(t,"__esModule",{value:!0}),t.preinitialize=t.getStatusCode=t.handleError=t.initialize=void 0;var s,l=window,u=function(){return s||(s=o.container.get(i.Logging).createLog("MsPortalFx.Base.Diagnostics.ErrorReporter")),s},c="onunhandledrejection"in window,d=0,p={};var f=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];d++;var o=u();if(d<200)o.error.apply(o,arguments);else{var i=((e&&e.message||e)+"").slice(0,50);if(0===(p[i]=p[i]||0)%1e3){var a=[].slice.call(arguments);a[1]=4,a.push("NoisyCount:"+p[i]),o.error.apply(o,a)}p[i]++}};function h(e,t){var n=2,o=e&&e.errorLevel;if((0,r.isNullOrUndefined)(o)){if(t){var i=t(e);(0,r.isNullOrUndefined)(i)||(n=i)}}else n=o;var a=e&&e._sourceErrorLevel;return(0,r.isNullOrUndefined)(a)||(n=a),n}var m,v,g=f;function y(e){try{return"function"==typeof e&&e()}catch(e){}}function b(e,t){var r=e.error,o={message:e.message,fileName:e.filename,lineNumber:e.lineno,columnNumber:e.colno,additionalInfo:y(v)};if(r){var i=void 0;if((0,n.isInstanceOfErrorType)(r,n.FxError)){var a=h(r);if(2===a)i=!0;else if(1===a){u().warning(r,2,o)}}else r.stack&&/http/.test(r.stack)&&(i=!0);i&&g(r,2,o)}else t&&g(t,3,o);t=null,y(m)}t.initialize=function(e,t,n){g=f,v=n,m=e},t.handleError=b;var x=l.fx;(null===(a=null==x?void 0:x.internalEnv)||void 0===a?void 0:a.isShell)&&x.handleError&&l.removeEventListener("error",x.handleError),l.addEventListener("error",b),c&&l.addEventListener("unhandledrejection",(function(e){var t,n;t=e.reason,n=h(t,(function(e){if(!e||!e.stack)return 0})),2===n?g(t,1):1===n&&u().warning(t,1),e.preventDefault()})),t.getStatusCode=function(e,t){try{var n=new XMLHttpRequest;n.onerror=function(){t(n.status,n.responseText,n.statusText)},n.onload=function(){t(n.status,200===n.status?"":n.responseText,n.statusText)},n.open("GET",e,!0),n.send()}catch(e){t(void 0,void 0)}},t.preinitialize=function(e,t){Error.stackTraceLimit&&(Error.stackTraceLimit=r.isDiagnosticsEnabled?100:25),t&&(g=t)}})),
define("FxInternal/ErrorSerialization",["require","exports","Fx/Errors"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isExtractableError=t.extractErrorDetails=void 0;var r=1;function o(e,t){var n=function(e){var t;try{switch(i(e)){case"GenericError":return function(e){return{schemaVersion:r,extractionType:"GenericError",message:e.message,name:e.name}}(e);case"GenericErrorWithStack":return function(e){var t;return{schemaVersion:r,extractionType:"GenericErrorWithStack",message:e.message,name:e.name,stack:null===(t=e.stack)||void 0===t?void 0:t.slice(0,6e3)}}(e);case"FailedModuleError":return function(e){var t;return{schemaVersion:r,extractionType:"FailedModuleError",message:e.message,name:e.name,stack:null===(t=e.stack)||void 0===t?void 0:t.slice(0,6e3),data:e.data}}(e);case"FxError":return a(e);case"FxErrorWithInnerErrors":return function(e){var t=a(e);t.extractionType="FxErrorWithInnerErrors";var n=o(e.innerErrors[0]);return t.innerError=n.innerError,n.innerError=t,n}(e);case"FxErrorWithJqXhr":return function(e){var t=a(e),n=s(e.jqXHR);return n.innerError=t,__assign(__assign({},n),{extractionType:"FxErrorWithJqXhr"})}(e);case"FxErrorWithErrorThrown":return function(e){var t=a(e);t.extractionType="FxErrorWithErrorThrown";var n=o(e.errorThrown.error);return t.innerError=n.innerError,n.innerError=t,n}(e);case"XMLHttpRequestLike":return s(e);case"ArmErrorResponse":return l(e);case"BatchResponseItem":return function(e){var t={schemaVersion:r,httpStatusCode:e.httpStatusCode,extractionType:"BatchResponseItem"};return"string"==typeof e.content?__assign(__assign({},t),{message:e.content}):__assign(__assign(__assign({},t),o(e.content)),{extractionType:"BatchResponseItem"})}(e);default:return{schemaVersion:r,extractionType:"Unhandled"}}}catch(e){return{schemaVersion:r,extractionType:"ExtractionException",name:null==e?void 0:e.name,message:null==e?void 0:e.message,stack:null===(t=null==e?void 0:e.stack)||void 0===t?void 0:t.slice(0,6e3)}}}(e);return t&&(n.blade=t),n.online=navigator.onLine,n.documentVisibilityState=document.visibilityState,n}function i(e){var t,n,r="Unhandled";return c(e)?(r="FxError",(null===(n=null==(t=e)?void 0:t.innerErrors)||void 0===n?void 0:n.constructor)===Array&&0!==t.innerErrors.length?r="FxErrorWithInnerErrors":!function(e){return c(e)&&d(e.jqXHR)}(e)?function(e){var t,n;return c(e)&&"object"==typeof(null==e?void 0:e.errorThrown)&&0!==Object.keys(e.errorThrown).length&&"object"==typeof(null===(t=null==e?void 0:e.errorThrown)||void 0===t?void 0:t.error)&&"string"==typeof(null===(n=null==e?void 0:e.errorThrown)||void 0===n?void 0:n.responseText)}(e)&&(r="FxErrorWithErrorThrown"):r="FxErrorWithJqXhr"):u(e)?(r="GenericError",f(e)&&(r="GenericErrorWithStack",function(e){return u(e)&&f(e)&&function(e){return"object"==typeof(null==e?void 0:e.data)}(e)}(e)&&(r="FailedModuleError"))):d(e)?r="XMLHttpRequestLike":p(e)?r="ArmErrorResponse":function(e){return void 0!==(null==e?void 0:e.content)&&"object"==typeof(null==e?void 0:e.headers)&&"number"==typeof(null==e?void 0:e.httpStatusCode)&&200!==(null==e?void 0:e.httpStatusCode)}(e)&&(r="BatchResponseItem"),r}function a(e){var t,n={schemaVersion:r,extractionType:"FxError",message:e.message,name:e.name?"".concat(e.type,"/").concat(e.name):e.type,stack:null===(t=e.stack)||void 0===t?void 0:t.slice(0,6e3),data:e.data};e.errorData&&("Unhandled"!==(i=o(e.errorData)).extractionType&&(i.innerError=n,(n=i).extractionType="FxErrorWithErrorData"));if(p(e.message)){var i=l(e.message);n=__assign(__assign(__assign({},n),i),{extractionType:"FxErrorWithArmErrorResponse"})}return n}function s(e){return{schemaVersion:r,extractionType:"XMLHttpRequestLike",message:e.responseText||e.statusText,name:e.statusText,httpStatusCode:e.status,data:e.uri?{uri:e.uri}:void 0}}function l(e){return e.error?l(e.error):e.innererror?l(e.innererror):{schemaVersion:r,extractionType:"ArmErrorResponse",message:e.message,name:e.code}}function u(e){return e instanceof Error||"string"==typeof(null==e?void 0:e.name)&&"string"==typeof(null==e?void 0:e.message)}function c(e){return(0,n.isInstanceOfErrorType)(e,n.FxError)}function d(e){return"object"==typeof e&&"number"==typeof(null==e?void 0:e.status)&&"string"==typeof(null==e?void 0:e.statusText)}function p(e){return(null==e?void 0:e.error)?p(e.error):"string"==typeof(null==e?void 0:e.code)&&"string"==typeof(null==e?void 0:e.message)}function f(e){return"string"==typeof(null==e?void 0:e.stack)}t.extractErrorDetails=o,t.isExtractableError=function(e){switch(i(e)){case"Unhandled":case"ExtractionException":return!1;default:return!0}}})),
define("FxInternal/Events",["require","exports","Fx","Fx/DependencyInjection","FxInternal/Environment"],(function(e,t,n,r,o){Object.defineProperty(t,"__esModule",{value:!0}),t.EventHandler=t.getRegistry=t.EventHandlerRegistry=t.registerEventHandler=void 0;var i=Object.create(null);function a(e){return i[e]||(i[e]=Q.defer())}function s(e,t){a(e).resolve(t)}t.registerEventHandler=s;var l,u=function(){function t(e,t){var r=this;this._diContainer=e,this._eventToHandlerMap=Object.create(null),n.forEachKey(t.sdkEnv.eventHandlers||{},(function(t,o){o.forEach((function(o){r._getRecord(o).handler=function(){return Q(n.require(t)).then((function(){return e.getAsync(a(o).promise)}))},r.onEventHandlerRegistered(o,null)}))}))}return t.prototype.registerEventHandler=function(e,t){var n=this._getRecord(e);if(n.handler){if(n.handlerObj!==t)throw new Error("Cannot register event handler '".concat(e,"' because it's already registered."))}else n.handlerObj=t,n.handler=function(){return Q(t)};this.onEventHandlerRegistered(e,null)},t.prototype.onEventHandlerRegistered=function(e,t){var n=this,r=this._getRecord(e);return t&&(r.onRegisteredCallback=t),r.onRegisteredCallback&&r.handler&&r.onRegisteredCallback().then((function(e){e(r.handler,n._diContainer)})),this},t.prototype._getRecord=function(e){return this._eventToHandlerMap[e]||(this._eventToHandlerMap[e]={})},t=__decorate([__metadata("fx:diagnostics",[e,"EventHandlerRegistry"]),r.Class(),__metadata("design:paramtypes",[r.Container,o.Environment])],t)}();t.EventHandlerRegistry=u,t.getRegistry=function(){return r.container.get(u)},function(e){e.Decorator=function(e){return function(t){s(e,t)}}}(l||(t.EventHandler=l={}))})),
define("FxInternal/RpcEndPointsCore",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isCopilotEnabledEndpoint=t.getCopilotFxRequireConfigEndPoint=t.getPostBootEndPoint=t.getAllKeysEndPoint=t.clearEndPoint=t.removeSettingsEndPoint=t.readSettingsEndPoint=t.writeSettingEndPoint=t.getUserInfoEndPoint=t.setExtensionFlightsEndPoint=void 0,t.setExtensionFlightsEndPoint=new n.FuncEndPointDefinition("setExtensionFlights"),t.getUserInfoEndPoint=new n.FuncEndPointDefinition("getUserInfo"),t.writeSettingEndPoint=new n.FuncEndPointDefinition("writePersistentSetting"),t.readSettingsEndPoint=new n.FuncEndPointDefinition("readPersistentSettings"),t.removeSettingsEndPoint=new n.FuncEndPointDefinition("removePersistentSettings"),t.clearEndPoint=new n.FuncEndPointDefinition("clearPersistentStorage"),t.getAllKeysEndPoint=new n.FuncEndPointDefinition("getAllPersistentSettingsKeys"),t.getPostBootEndPoint=new n.FuncEndPointDefinition("getPostBoot"),t.getCopilotFxRequireConfigEndPoint=new n.FuncEndPointDefinition("getCopilotFxRequireConfig"),t.isCopilotEnabledEndpoint=new n.FuncEndPointDefinition("isCopilotEnabled")})),
define("FxInternal/RpcEndPoints",["require","exports","FxInternal/AsyncLoader","FxInternal/Events","FxInternal/Rpc","FxInternal/Copilot/ShellAPIs","FxInternal/RpcEndPointsCore"],(function(e,t,n,r,o,i,a){function s(e){e().then((function(e){return e.handleLoadEvent()}))}function l(e){e().then((function(e){return e.registerEndPoints()}))}Object.defineProperty(t,"__esModule",{value:!0}),t.copilotShellApisCollectFXContextsEndpoint=t.copilotBladeWasClosedEndpoint=t.copilotShellApisExecuteBladeHandlerEndpoint=t.copilotShellApisExecuteShellHandlerEndpoint=t.copilotShellApisGetShellHandlerDefinitionsEndpoint=t.copilotShellApisSetBladeDetailsEndpoint=t.copilotShellApisLogErrorToExtensionEndpoint=t.copilotShellApisOpenBladeEndpoint=t.copilotShellApisGetBladeDeepLinkEndpoint=t.copilotShellApisGetRecentBladeEndpoint=t.copilotShellApisGetCurrentBladeInfoEndpoint=t.copilotShellApisGetExtensionVersionEndpoint=t.copilotShellApisGetManifestCacheUriEndpoint=t.copilotShellApisGetDirectLineTokenEndpoint=t.copilotShellApisGetManifestCacheEndpoint=t.copilotGetDiagnosticsDataEndpoint=t.copilotResetConversationEndpoint=t.addCopilotViewContextAdditionalDetailsEndpoint=t.isCopilotEnabledEndpoint=t.fetchFeedbackPolicySettingsEndpoint=t.copilotRunSampleTestEndpoint=t.copilotNudgeEndpoint=t.copilotInteractionsEndpoint=t.addFxNotificationEndpoint=t.registerRpcEndPoints=void 0,t.registerRpcEndPoints=function(e){e.get(r.EventHandlerRegistry).onEventHandlerRegistered("extension",(function(){return Q(s)})).onEventHandlerRegistered("rpc",(function(){return Q(l)})).onEventHandlerRegistered("fileUploadSasUri",n.getFactory("FxInternal/Controls/FileUpload","setupRenewSasUri")).onEventHandlerRegistered("fileUploadAuthorization",n.getFactory("FxInternal/Controls/FileUpload","setupRenewAuthorization")).onEventHandlerRegistered("intuneAppFileUpload",n.getFactory("Extensions/IntuneApps/IntuneAppFileUpload","internal_RegisterCallbacks")).onEventHandlerRegistered("executeCopilotClientHandler",n.getFactory("FxInternal/Copilot/Handler","registerCopilotHandler"))},t.addFxNotificationEndpoint=new o.FuncEndPointDefinition("Fx.RpcEndpoints.addFxNotification"),t.copilotInteractionsEndpoint=new o.FuncEndPointDefinition("copilotInteractions"),t.copilotNudgeEndpoint=new o.FuncEndPointDefinition("copilotNudge"),t.copilotRunSampleTestEndpoint=new o.FuncEndPointDefinition("copilotRunSampleTest"),t.fetchFeedbackPolicySettingsEndpoint=new o.FuncEndPointDefinition("fetchFeedbackPolicySettings"),t.isCopilotEnabledEndpoint=a.isCopilotEnabledEndpoint,t.addCopilotViewContextAdditionalDetailsEndpoint=new o.FuncEndPointDefinition("addCopilotViewContextAdditionalDetails"),t.copilotResetConversationEndpoint=new o.ActionEndPointDefinition("copilotResetConversation"),t.copilotGetDiagnosticsDataEndpoint=new o.ActionEndPointDefinition("copilotGetDiagnosticsData"),t.copilotShellApisGetManifestCacheEndpoint=i.copilotShellApisGetManifestCacheEndpoint,t.copilotShellApisGetDirectLineTokenEndpoint=i.copilotShellApisGetDirectLineTokenEndpoint,t.copilotShellApisGetManifestCacheUriEndpoint=i.copilotShellApisGetManifestCacheUriEndpoint,t.copilotShellApisGetExtensionVersionEndpoint=i.copilotShellApisGetExtensionVersionEndpoint,t.copilotShellApisGetCurrentBladeInfoEndpoint=i.copilotShellApisGetCurrentBladeInfoEndpoint,t.copilotShellApisGetRecentBladeEndpoint=i.copilotShellApisGetRecentBladeEndpoint,t.copilotShellApisGetBladeDeepLinkEndpoint=i.copilotShellApisGetBladeDeepLinkEndpoint,t.copilotShellApisOpenBladeEndpoint=i.copilotShellApisOpenBladeEndpoint,t.copilotShellApisLogErrorToExtensionEndpoint=i.copilotShellApisLogErrorToExtensionEndpoint,t.copilotShellApisSetBladeDetailsEndpoint=i.copilotShellApisSetBladeDetailsEndpoint,t.copilotShellApisGetShellHandlerDefinitionsEndpoint=i.copilotShellApisGetShellHandlerDefinitionsEndpoint,t.copilotShellApisExecuteShellHandlerEndpoint=i.copilotShellApisExecuteShellHandlerEndpoint,t.copilotShellApisExecuteBladeHandlerEndpoint=i.copilotShellApisExecuteBladeHandlerEndpoint,t.copilotBladeWasClosedEndpoint=i.copilotBladeWasClosedEndpoint,t.copilotShellApisCollectFXContextsEndpoint=i.copilotShellApisCollectFXContextsEndpoint})),
define("FxInternal/Notifications",["require","exports","FxInternal/Authentication/TokensCommon","FxInternal/Rpc","FxInternal/RpcEndPoints","Fx/DependencyInjectionCore","Fx/Diagnostics"],(function(e,t,n,r,o,i,a){var s,l,u;Object.defineProperty(t,"__esModule",{value:!0}),t.DEV=t.validatePollingDetails=t.isShellOrHubs=t.isArmUriMatch=t.getAuthDetails=t.fetchNotificationPollingResponseDetailsByStatusCode=t.fetchNotificationPollingResponseDetailsByContentStatus=t.createResponseNotification=t.checkForContinuedPollingContent=t.checkForRequiredContent=t.publishPollingNotification=t.publishPendingNotification=t.publishNotification=t.executeAzureAsyncOperation=t.titleAndDescriptionRegex=void 0;var c=MsPortalFx.Base,d="Fx/Notifications",p=(0,a.createLog)(e),f=864e5,h=__assign(((s={})[0]=0,s[1]=1,s[2]=2,s[4]=4,s),((l={})[0]=0,l[1]=1,l[2]=2,l[4]=4,l)),m=["Succeeded","Canceled","Failed"],v=[200,201,202],g=__spreadArray(__spreadArray([],v,!0),[204],!1),y=((u={})[c.Constants.Shell.toLowerCase()]=!0,u["HubsExtension".toLowerCase()]=!0,u),b=["actions","description","linkTo","status","title"];t.titleAndDescriptionRegex=/(\{\{\$[\w.\-"']*\}\})/g;t.executeAzureAsyncOperation=function(e,n,r,o,i){var a,s;void 0===o&&(o=!0),void 0===i&&(i="Knockout");var l=o&&n.id?n.id:"".concat(o?"InternalAzureAsyncOperation":"AzureAsyncOperation").concat(M()),u=__assign(__assign(__assign(__assign({title:n.title,description:n.description},"actions"in n&&{actions:n.actions}),"linkTo"in n&&{linkTo:n.linkTo}),null!==(s=null===(a=null==n?void 0:n.pollingDetails)||void 0===a?void 0:a.defaultFailureNotification)&&void 0!==s?s:Object.create(null)),{status:2,id:l});if(!T(__assign({actions:n.actions,description:n.description,id:l,linkTo:n.linkTo,status:3,timestamp:new Date,title:n.title},o&&"toastDuration"in n&&{toastDuration:n.toastDuration})))return r?(0,t.publishNotification)(u,o,i):null;if(!n.pollingDetails)return p.error("[".concat(d,']: Missing pollingDetails in the "polling" notification.')),r?(0,t.publishNotification)(u,o,i):null;if(!F(n.pollingDetails,p))return r?(0,t.publishNotification)(u,o,i):null;var c=__assign(__assign({},n),{id:l}),f=(0,t.publishPendingNotification)(c,o,i);return e.then((function(e){var r,a,s,u,c,d=e.content,p=e.headers,h=e.httpStatusCode,y=!!d,b=new Headers(p),x=b.get("Location"),C=b.get("Azure-AsyncOperation"),_=C||x,w=null===(r=null==d?void 0:d.properties)||void 0===r?void 0:r.provisioningState,P=null==d?void 0:d.status,E=__assign({},n.pollingDetails),F=(s=+b.get("Retry-After"),(u=null!==(a=E.customDelayInMs)&&void 0!==a?a:0)<(c=1e3*(s||0)||15e3)?c:u),I=__assign(__assign({},E),{customDelayInMs:F,uri:_}),M=__assign(__assign({},n),{id:l,pollingDetails:I});if(function(e,t,n){if(!e)return!1;if((200===t||201===t||202===t)&&!m.includes(n))return!0;return!1}(_,h,w))return!C&&x&&((E=__assign(__assign({},n.pollingDetails),{keepPollingStatuses:__spreadArray(__spreadArray([],E.keepPollingStatuses,!0),["201","202","404"],!1)})).responseNotificationByStatus[200]="Succeeded",E.responseNotificationByStatus[204]="Succeeded"),(0,t.publishPollingNotification)(M,o,i);if(m.includes(w))return f.complete(k(w,M,E,d));if(w||_)return f.complete(S(E));if(!(y&&P||200!==h&&204!==h))return f.complete(k("Succeeded",M,E,d));if(P&&v.includes(h))return f.complete(k(P,M,E,d));if(!g.includes(h))return f.complete(k(h.toString(),M,E,d));throw Error("Failed to find any async operation scenario. Fall back to defaultFailureNotification.")})).catch((function(e){f.complete(S(n.pollingDetails))})),{id:f.id}};t.publishNotification=function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n="Knockout");var a=__assign({actions:e.actions||[],description:e.description,id:t&&e.id?e.id:"".concat(t?"Internal":"").concat(M()),linkTo:e.linkTo,status:h[e.status],timestamp:new Date,title:e.title},t&&"toastDuration"in e&&{toastDuration:e.toastDuration});return T(a)?(o.addFxNotificationEndpoint.invoke(i.container.get(r.Client),"fx",[a,n]),{id:a.id}):null};t.publishPendingNotification=function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n="Knockout");var a=!1,s=__assign({actions:e.actions||[],description:e.description,id:t&&e.id?e.id:"".concat(t?"Internal":"","Pending").concat(M()),linkTo:e.linkTo,percentComplete:e.percentComplete,status:3,timestamp:new Date,title:e.title},t&&"toastDuration"in e&&{toastDuration:e.toastDuration}),l=function(){if(!T(s))return!1;if(void 0===s.percentComplete)return!0;var e=Number(s.percentComplete);return!(isNaN(e)||e<0||e>100)||(p.error("[".concat(d,"]: When percentComplete is defined, it must be a valid number between 0 and 100.")),!1)},u=function(){o.addFxNotificationEndpoint.invoke(i.container.get(r.Client),"fx",[s,n])};return l()?(u(),{id:s.id,complete:function(e){return a?(p.error("[".concat(d,"]: PendingNotification.complete can't be called on notifications that have already had PendingNotification.complete called.")),null):e.status&&3===Number(e.status)?(p.error("[".concat(d,"]: PendingNotification.complete can't be called on notifications with a completed status of InProgress.")),null):(s=__assign(__assign(__assign(__assign(__assign(__assign(__assign({},s),e.title&&{title:e.title}),e.description&&{description:e.description}),"actions"in e&&{actions:e.actions}),"linkTo"in e&&{linkTo:e.linkTo}),t&&"toastDuration"in e&&{toastDuration:e.toastDuration}),{timestamp:new Date,percentComplete:void 0,status:h[e.status]}),a=!0,l()?(u(),s.timestamp):null)},update:function(e){return a?(p.error("[".concat(d,"]: PendingNotification.update can't be called on notifications that have already had PendingNotification.complete called.")),null):(s=__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign({},s),e.title&&{title:e.title}),e.description&&{description:e.description}),"actions"in e&&{actions:e.actions}),"linkTo"in e&&{linkTo:e.linkTo}),"percentComplete"in e&&{percentComplete:e.percentComplete}),t&&"toastDuration"in e&&{toastDuration:e.toastDuration}),{timestamp:new Date}),l()?(u(),s.timestamp):null)}}):null};function x(e,t){try{var n=t;return e.location.forEach((function(e){return n=n[e]})),n===e.value}catch(e){return!1}}function C(e,t,n,r){var o,i,a={};b.forEach((function(n){var r,o;n in t?a=__assign(__assign({},a),((r={})[n]=t[n],r)):"status"!==n&&(a=__assign(__assign({},a),((o={})[n]=e[n],o)))})),a=__assign(__assign({},a),{id:e.id}),e.isInternal&&(a=__assign(__assign({},a),{toastDuration:null!==(i=null!==(o=t.toastDuration)&&void 0!==o?o:e.toastDuration)&&void 0!==i?i:0}));var s=a.title;if(s.includes("{{$")&&s.includes("}}"))try{var l=I(n,s);a=__assign(__assign({},a),{title:l})}catch(e){return R(r,!0,e),null}var u="object"==typeof a.description?a.description.htmlTemplate:a.description;if(u.indexOf("{{$")>-1&&-1<u.indexOf("}}"))try{var c=I(n,u);a=a="string"==typeof a.description?__assign(__assign({},a),{description:c}):__assign(__assign({},a),{description:{htmlTemplate:c}})}catch(e){return R(r,!1,e),null}return a}function _(e,t){return t&&"string"==typeof t&&t.trim().length&&e[t]?"object"!=typeof e[t]?e[e[t]]:e[t]:null}function w(e,t){if(isNaN(Number(t))&&7!==(t+"").length)return null;if(e[t])return"object"!=typeof e[t]?e[e[t]]:e[t];var n=Object.keys(e).filter((function(e){return 4===e.indexOf("-")&&7===e.length})),r=n.find((function(e){var n=Number(e.slice(0,3)),r=Number(e.slice(4,8)),o=Number(t);return!isNaN(n)&&!isNaN(r)&&(n<=o&&o<=r||void 0)}));return r&&e[r]?"string"!=typeof e[r]?e[r]:e[e[r]]:null}function P(e){return!MsPortalFx.isUriAbsolute(e)||new MsPortalFx.Base.UriBuilder(e).getAuthority().toLowerCase().includes(FxImpl.baseArmAuthorityLowerCase)}function E(e){return y[(e||"").toLowerCase()]}function F(e,t){if(!function(e,t){if(!e)return t.error("[".concat(d,']: Missing pollingDetails in the "polling" notification.')),!1;var n=e;if(n.responseNotificationByStatusCode&&!(n.uri||"").trim())return t.error("[".concat(d,"]: Missing uri in pollingDetails.")),!1;if(!e.defaultFailureNotification)return t.error("[".concat(d,"]: Missing defaultFailureNotification.")),!1;var r=e.pollingTimeout;if(r){var o=Number(r.timeoutInMs);if(!o||isNaN(o)||o<1)return t.error("[".concat(d,']: Invalid pollingTimeout details. The "timeoutInMs" must be a valid, positive number less than 24 hours worth of milliseconds if a value is supplied to "pollingTimeout".')),!1;if(o>f&&(e.pollingTimeout.timeoutInMs=f,t.warning("[".concat(d,']: Invalid pollingTimeout details. The "timeoutInMs" can\'t be more than 24 hours worth of milliseconds. It will be ignored.'))),!r.failureNotification)return t.error("[".concat(d,']: Invalid pollingTimeout details. The "failureNotification" must be defined if a value is supplied to "pollingTimeout".')),!1}var i=Number(e.customDelayInMs);if("customDelayInMs"in e&&(isNaN(i)||i<0||i>f))return t.error("[".concat(d,"]: Invalid customDelayInMs details.")),!1;return!0}(e,t))return!1;var n=e;return n.responseNotificationByStatus||n.keepPollingStatuses?function(e,t){var n=e.responseNotificationByStatus;if(!n||!Object.keys(n).length)return t.error("[".concat(d,"]: Missing responseNotificationByStatus or the responseNotificationByStatus contains no records within pollingDetails.")),!1;var r=e.keepPollingStatuses;if(!r||!Array.isArray(r))return t.error("[".concat(d,"]: Missing keepPollingStatuses.")),!1;if(r.some((function(e){return"string"!=typeof e||!e.trim().length})))return t.error("[".concat(d,"]: keepPollingStatuses values must be non-empty strings.")),!1;var o=Object.keys(n).map((function(e){var t="[status: ".concat(e,"]");if("string"!=typeof e||!e.trim().length)return"".concat(t," status keys within responseNotificationByStatus must be non-empty strings.");var r=_(n,e);if(!r)return"".concat(t," When a status key points to another status key, that pointed to status key must be valid (ie. non-empty string value) and must contain a valid PollingResponseDetails object.");var o=D(r.notification,r.requiredResponseValue,t);return o||""}));if(o.some((function(e){return!!e})))return t.error("One or more records contained within responseNotificationByStatus was/were invalid. See extra information in error for more details.",null,o.filter((function(e){return!!e})).join(" ")),!1;if(m.some((function(e){return!n[e]})))return t.error("[".concat(d,"]: responsenotificationbystatus must contain the three minimum records: succeeded, failed, and canceled.")),!1;return!0}(e,t):function(e,t){var n=e.responseNotificationByStatusCode;if(!n||!Object.keys(n).length)return t.error("[".concat(d,"]: Missing responseNotificationByStatusCode or the responseNotificationByStatusCode contains no records within pollingDetails.")),!1;var r=e.keepPollingCodes;if(!r||!Array.isArray(r)||!(null==r?void 0:r.length))return t.error("[".concat(d,"]: Missing keepPollingCodes or it contains an empty list.")),!1;if(r.some((function(e){var t=Number(e);return isNaN(t)||100>t||t>599})))return t.error("[".concat(d,"]: keepPollingCodes must contain only numbers inclusively between 100 and 599.")),!1;var o=Object.keys(n).map((function(e){var t="[code: ".concat(e,"]"),r=Number(e);if(3===e.length&&(isNaN(r)||100>r||r>599))return"".concat(t," 3 character responseNotificationByStatusCode keys must be valid numbers between 100 and 599.");var o=e.split("-");if(7===e.length){if(2!==o.length)return"".concat(t,' 7 character responseNotificationByStatusCode keys must be 2 numbers separated by a "-" character.');var i=Number(o[0]),a=Number(o[1]);if(isNaN(i)||!(100<=i&&i<599))return"".concat(t," 7 character responseNotificationByStatusCode keys must start with a 3 digit number from one of the following 100-599.");if(isNaN(a)||!(100<a&&a<=599))return"".concat(t," 7 character responseNotificationByStatusCode keys must end with a 3 digit number from one of the following 100-599.");if(a<i)return"".concat(t," 7 character responseNotificationByStatusCode range keys on left side must be less than the right side (ie. invalid: 500-400).")}if(3!==e.length&&7!==e.length)return"".concat(t," responseNotificationByStatusCode keys can either be 3 characters (response codes) or 7 characters long (ranged). No other values will work.");var s=w(n,e);if(!s)return"".concat(t," At least one invalid responseNotificationByStatusCode key. (ie. '200' or '400-499') and must point to a PollingResponseDetails object or a string value that represents a key that will point to a valid PollingResponseDetails object.");var l=D(s.notification,s.requiredResponseValue,t);return l||""}));if(o.some((function(e){return!!e})))return t.error("One or more records contained within responseNotificationByStatusCode was/were invalid. See extra information in error for more details.",null,o.filter((function(e){return!!e})).join(" ")),!1;return!0}(e,t)}function I(e,n){var r,o=n.split("{{$").length-1,i=n.split("}}").length-1;if(!e)throw new Error("The was no response.content to use for formatting. stringToBeFormatted: "+n);if(o>i)throw new Error("Not enough closing }} format bounds to match the number of {{$ bounds present in string. stringToBeFormatted: "+n);var a=null!==(r=n.match(t.titleAndDescriptionRegex))&&void 0!==r?r:[];if(o!==a.length)throw new Error("Found ".concat(o<a.length?"more ":"less "," matches than there should have been."));var s=a.map((function(e){return e.replace("{{","").replace("}}","").trim()})).map((function(t){if("$"===t.trim())return JSON.stringify(e);var n=t.split(".");if(n.length<=1)throw new Error("Invalid format of the dot delimited search string. "+t);n.shift();for(var r=e,o=function(e){if("object"!=typeof r)throw new Error("There was neither an object, nor an array after applying ".concat(n[e-1]," to use the following key value on ").concat(n[e],". Instead, ").concat(r," was found."));var t=n[e];if(Array.isArray(r)&&isNaN(Number(t)))throw new Error("Searching the response content using inline format keys found an array type [".concat(r.join(", "),'], but the following key "').concat(t,'" was not a numeric index.'));if(!Array.isArray(r)&&!Object.keys(r).some((function(e){return e===t})))throw new Error("Searching the response content using inline format keys found an object {} type ".concat(JSON.stringify(r),', but the following key "').concat(t,'" was not found'));try{r=r[t]}catch(e){throw new Error("Unexpected error encountered while drilling into response content to retrieve desired format value."+MsPortalFx.getLogFriendlyMessage(e))}},i=0;i<n.length;i++)o(i);return r})),l=n;return a.forEach((function(e,t){l=l.replace(e,s[t])})),l}function M(){return"Notification-"+MsPortalFx.getUniqueId()}function S(e){return __assign(__assign({},e.defaultFailureNotification),{status:2})}function k(e,t,n,r){var o=_(n.responseNotificationByStatus,e);return o?function(e,t,n,r){var o=null==t?void 0:t.notification,i=null==t?void 0:t.requiredResponseValue,a=!0;if(i){a=x(i,n);var s=i.failureNotification||r,l=__assign(__assign({},s),{status:2});return a?o:l}var u=C(e,o,n);return u||(u=__assign(__assign(__assign(__assign(__assign(__assign(__assign({title:e.title,description:e.description},"linkTo"in e&&{linkTo:e.linkTo}),"actions"in e&&{actions:e.actions}),{status:2}),"title"in r&&{title:r.title}),"description"in r&&{description:r.description}),"linkTo"in r&&{linkTo:r.linkTo}),"actions"in r&&{actions:r.actions})),u}(t,o,r,n.defaultFailureNotification):S(n)}function R(e,t,n){p.error(n.message,null,JSON.stringify({createdTime:new Date(e.createdTime),descriptionFormatFailure:!t,errorReason:null==n?void 0:n.message,extensionName:e.extensionName,failedAt:new Date,notificationId:e.originalNotification.id,titleFormatFailure:t,uri:e.uri}))}function A(e){if(!e)return"";if(!Array.isArray(e)||"object"!=typeof e)return'When "actions" are included, it must be an array.';if(e.length>3)return'When "actions" are included, it must be an array with no more than 3 buttons.';var t=e.map((function(e){return function(e){if(!e||Array.isArray(e)||"object"!=typeof e)return"[".concat(d,']: Every button in the "actions" list must be an {} object type.');if(!e.label||"string"!=typeof e.label||!e.label.trim())return"[".concat(d,']: Every button in the "actions" list must have a valid string with more than white space characters as a "label".');if(!e.action)return"[".concat(d,']: Every button in the "actions" list must have an "action" value.');var t=e.action;if("string"!=typeof t){var n=t;if(n.extension&&n.partName&&n.parameters)return"";var r=t;return r.parameters&&r.parameters.blade&&r.parameters.extension?"":"[".concat(d,']: Every button in the "actions" list must have an "action" value. If not a string, it must be a valid BladeReference or set of PinToDashboard arguments.')}return""}(e)})).filter((function(e){return!!e}));return t.length?'When "actions" are included, all buttons must be valid: '.concat(t.join(" ")):""}function T(e){var t;if(!(e.title||"").trim()||!function(e){if(!e)return!1;if("object"==typeof e)return!!((null==e?void 0:e.htmlTemplate)||"").trim();return!!(e||"").trim()}(e.description))return p.error("[".concat(d,"]: Missing or invalid title/description.")),!1;var n=function(e){var t;if(!e)return"";if(!("string"==typeof e||(null===(t=null==e?void 0:e.parameters)||void 0===t?void 0:t.blade)&&e.parameters.extension))return"[".concat(d,']: When "linkTo" is provided as an object BladeReference type, it must contain at least the "blade" and "extension" parameters.');return""}(e.linkTo);if(n)return p.error(n),!1;var r=A(null===(t=e.actions)||void 0===t?void 0:t.slice());return!r||(p.error(r),!1)}function D(e,n,r){if(!e||Array.isArray(e)||"object"!=typeof e)return"".concat(r,' Every entry must refer to a valid record containing a "notification" object.');if(void 0===e.status||3===Number(e.status))return"".concat(r,' Every entry must refer to a valid record containing a "notification" object with a valid Status other than InProgress.');var o=function(e,t){if(e){if(Array.isArray(e)||"object"!=typeof e)return"".concat(t," Every entry that includes a requiredResponseValue value must be an object.");if(void 0===e.value)return"".concat(t,' Every entry that includes a requiredResponseValue must include a "value" with a value other than "undefined".');if(!Array.isArray(e.location)||!e.location.length)return"".concat(t,' Every entry that includes a requiredResponseValue must include a "location" with an array value with at least 1 value.');var n=e.failureNotification;if(n&&(Array.isArray(n)||"object"!=typeof n))return"".concat(t," Every entry that includes a requiredResponseValue.failureNotification value must be an object.")}}(n,r);if(o)return o;var i=function(e,n,r){var o="object"==typeof n?n.htmlTemplate:n,i=null==o?void 0:o.match(t.titleAndDescriptionRegex),a=(null==o?void 0:o.split("{{$").length)-1;if((null==i?void 0:i.length)&&i.length!==a)return"".concat(r," Invalid use of formatting indicators {{$.keyName1.keyName2.keyNameN}} in the ").concat("object"==typeof n?"description.htmlTemplate":"description"," string.");var s=null==e?void 0:e.match(t.titleAndDescriptionRegex),l=(null==e?void 0:e.split("{{$").length)-1;if((null==s?void 0:s.length)&&s.length!==l)return"".concat(r," Invalid use of formatting indicators {{$.keyName1.keyName2.keyNameN}} in the title string.")}(e.title,e.description,r);if(i)return i;var a=null==n?void 0:n.pollingValues;return!a||Array.isArray(a)&&!a.some((function(e){return"object"==typeof e&&null!==e||"function"==typeof e}))?void 0:"".concat(r," If pollingValues is defined, it must be an array and values contained must be of string, number, or boolean type.")}t.publishPollingNotification=function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n="Knockout");var a=__assign({actions:e.actions||[],description:e.description,id:t&&e.id?e.id:"".concat(t?"Internal":"","Polling").concat(M()),linkTo:e.linkTo,pollingDetails:e.pollingDetails,status:3,timestamp:new Date,title:e.title},t&&"toastDuration"in e&&{toastDuration:e.toastDuration});return T(a)&&F(a.pollingDetails,p)?(o.addFxNotificationEndpoint.invoke(i.container.get(r.Client),"fx",[a,n]),{id:a.id}):null},t.checkForRequiredContent=x,t.checkForContinuedPollingContent=function(e,t){var n;try{var r=t;return e.location.forEach((function(e){return r=r[e]})),void 0!==r&&(null===(n=e.pollingValues)||void 0===n?void 0:n.some((function(e){return e===r})))}catch(e){return!1}},t.createResponseNotification=C,t.fetchNotificationPollingResponseDetailsByContentStatus=_,t.fetchNotificationPollingResponseDetailsByStatusCode=w,t.getAuthDetails=function(e){var t,r,o,i;if(!e)return null;if(P(e))return null;var a=(null!==(t=MsPortalFx.getEnvironmentValue("extensionName"))&&void 0!==t?t:"").toLowerCase(),s=MsPortalFx.getEnvironmentValue("authorization"),l=!E(a),u="",c="";return l&&(null==s?void 0:s.resourceAccess)&&(u=null!==(i=null===(o=null===(r=MsPortalFx.find(s.resourceAccess,(function(t){var r=t.resource,o=(0,n.isCommonEndPointMatch)(r);if(o&&o.length&&(r=(0,n.translateCommonEndpoint)(r)),e.includes(r))return c=r,!0})))||void 0===r?void 0:r.name)||void 0===o?void 0:o.toLowerCase())&&void 0!==i?i:u),{extensionName:a,resourceName:u,audience:c}},t.isArmUriMatch=P,t.isShellOrHubs=E,t.validatePollingDetails=F})),
define("FxInternal/ProxiedObservables",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setPoUndefined=void 0;t.setPoUndefined=function(e){Object.defineProperty(e,"###isPoUndefined###",{configurable:!0,value:!0})}})),
define("FxInternal/ReactView/DataCacheEndpoints",["require","exports","Fx/DependencyInjection"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.setRpcClient=t.getRpcClient=t.dataCacheClearAllEndPoint=t.dataCacheClearEndPoint=t.dataCacheGetEndPoint=t.dataCacheAddEndPoint=t.entryPrefix=void 0,t.entryPrefix="reactview-datacache-",t.dataCacheAddEndPoint=new FxImpl.Rpc.ActionEndPointDefinition("reactViewDataCacheAdd"),t.dataCacheGetEndPoint=new FxImpl.Rpc.FuncEndPointDefinition("reactViewDataCacheGet"),t.dataCacheClearEndPoint=new FxImpl.Rpc.ActionEndPointDefinition("reactViewDataCacheClear"),t.dataCacheClearAllEndPoint=new FxImpl.Rpc.ActionEndPointDefinition("reactViewDataCacheClearAll"),t.getRpcClient=function(){return r||n.container.get(FxImpl.Rpc.Client)};var r=null})),
define("FxInternal/Redirect",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.forceSignInEndPoint=void 0,t.forceSignInEndPoint=new FxImpl.Rpc.FuncEndPointDefinition("FxInternal.RpcMethods.forceSignIn")})),
define("FxInternal/ResourceManagement/LocationsCore",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getLocationDisplayNamesEndPoint=void 0,t.getLocationDisplayNamesEndPoint=new n.FuncEndPointDefinition("getLocationDisplayNames")})),
define("FxInternal/ResourceManagement/Permissions",["require","exports","Fx/DependencyInjection","Fx/Errors"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.PermissionChecker=void 0;var o=FxImpl.Extension,i=MsPortalFx.Base.Diagnostics.createLog(e),a=function(){function t(e){this._rpcClient=e,this._permissionsCache=Object.create(null)}return t.prototype.hasPermission=function(e,t){var n=this,a=(e||"")+":"+(t||[]).sort().join();return this._permissionsCache[a]||(this._permissionsCache[a]=Q(o.hasPermissionsToShell.invoke(this._rpcClient,"fx",{entityId:e,requestedActions:t})).then((function(e){if("string"==typeof e){var t=new r.FxError(e);return i.warning(t),delete n._permissionsCache[a],!0}return e}),(function(e){return i.error(e),delete n._permissionsCache[a],!0})))},t=__decorate([__metadata("fx:diagnostics",[e,"PermissionChecker"]),n.Class(),__metadata("design:paramtypes",[FxImpl.Rpc.Client])],t)}();t.PermissionChecker=a})),
define("FxInternal/TelemetryContext",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),
define("FxInternal/Utils/LinkSanitizer",["require","exports","Fx/DependencyInjection","FxInternal/Environment","Fx/Diagnostics","Fx/Errors","FxInternal/UriScrubber"],(function(e,t,n,r,o,i,a){Object.defineProperty(t,"__esModule",{value:!0}),t.LinkSanitizer=void 0;var s=(0,o.createLog)(e),l=/^https?:\/\/(www\.)?(docs|learn)\.microsoft\.com(\/en-us)?\/([^#]*)/i,u=function(){function t(e,t){this._externalValidators=new Map,this._verifyEnabled=t.isEnabled("verifyexternallinks"),this._verifyLinkUri=FxImpl.ensureAbsoluteUri("verifyLink"),this._shellDomains=MsPortalFx.union([FxImpl.origin],e.shellTrustedLinkedDomains);var n=e.linkedDomainMap||{};this._rewriteRules=Object.keys(n).map((function(e){return[new RegExp("^(\\w+:|)//(".concat(MsPortalFx.regexEscape(e),")\\b"),"i"),"$1//".concat(n[e])]})),this._validate=FxImpl.getDomainValidator(this._shellDomains).validateDomain,this._verifyTopLevelDomains=t.isEnabled("verifytopleveldomains")&&MsPortalFx.unique(Object.keys(n).map((function(e){return n[e]})).map((function(e){return e.substring(e.indexOf(".")+1)}))).concat(FxImpl.origin),this._externalValidators=new Map,this.processTrustedLinkedDomains(e.extensionName,e.trustedLinkedDomains)}return t.prototype.isTrustedDomainLink=function(e,t){if(this._validate(e))return!0;var n=t&&"fx"!==t&&this._externalValidators.get(t);return!!n&&n(e)},t.prototype.processTrustedLinkedDomains=function(e,t){var n=this;if(e&&"fx"!==e){var r=this._externalValidators.get(e);void 0===r&&(Array.isArray(t)&&t.length&&(t=t.filter((function(e){return!n._shellDomains.includes(e)}))).length&&(r=FxImpl.getDomainValidator(t).validateDomain),this._externalValidators.set(e,r||null))}},t.prototype.getSafeLink=function(e,t,n){if(e&&MsPortalFx.isUriAbsolute(e)){if(n||(e=e.replace(l,(function(e,n,r,o,i){var a="https://learn.microsoft.com/"+i;return-1===i.toLowerCase().indexOf("wt.mc_id=")&&(a+=(i.includes("?")?"&":"?")+"WT.mc_id=Portal-"+encodeURIComponent(t||"fx")),a})),this._rewriteRules.forEach((function(t){e=e.replace(t[0],t[1])}))),this._verifyTopLevelDomains&&!this._verifyTopLevelDomains.some((function(t){return e.includes(t)}))){var r=(0,a.scrubUri)(e);s.error(new i.FxError({message:'"'.concat(r,'" does not pass top level domain validation.'),data:{uri:r,extension:t}}))}if(this._verifyEnabled&&!this.isTrustedDomainLink(e,t))return"".concat(this._verifyLinkUri,"?href=").concat(encodeURIComponent(e),"&id=").concat(null!=t?t:"null")}return e},t=__decorate([__metadata("fx:diagnostics",[e,"LinkSanitizer"]),n.Class(),__metadata("design:paramtypes",[r.Environment,FxImpl.Features])],t)}();t.LinkSanitizer=u})),
define("FxInternal/Weave/Blade",["require","exports","Fx/DependencyInjection"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.UntypedWeaveBladeParameters=t.WeaveBladeExportDecorator=t.Rebindable=t.WeaveBladeDecorator=void 0,t.WeaveBladeDecorator=function(e){return function(e){var t=e._fx||(e._fx={});t.isWeaveBlade=!0,t.isWeaveFlighted=!0}},t.Rebindable=function(){return function(e){(e._fx||(e._fx={})).rebindable=!0}},t.WeaveBladeExportDecorator=function(e){return function(t,n,r){var o=Reflect.getOwnMetadata("fx:weavebladeexports",t);o||Reflect.defineMetadata("fx:weavebladeexports",o={},t),o[e]=n}};var r=function(){function t(){}return t=__decorate([__metadata("fx:diagnostics",[e,"UntypedWeaveBladeParameters"]),n.Value("viewModel")],t)}();t.UntypedWeaveBladeParameters=r})),
define("FxInternal/_generated/Less/WeaveControls/Button.Component.css",["module"],(function(e){return{css:".fxc-simplebutton{display:inline-flex;-webkit-user-select:none;text-align:center;position:relative;max-width:100%}.fxs-button-icon{display:inline-block;height:12px;width:12px}.fxs-button-icon-left{margin-right:5px}.fxs-button-icon-right{margin-left:5px}.fxs-button-spinner{height:10px;width:10px;display:inline-block;position:absolute;right:20px}.fxs-button-text-hide{display:none}.fxs-button-validating{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-right:18px}",moduleId:e.id}})),
define("Weave/SandboxMode",["require","exports","Weave/Core/InternalUtil"],(function(e,t,n){return n.WeaveTsx})),
define("FxInternal/WeaveControls/Button.Component.Internal",["require","exports","Weave/SandboxMode","Weave","FxInternal/Weave/Util","FxInternal/WeaveControls/ButtonComponent","FxInternal/_generated/Less/WeaveControls/Button.Component.css","FxInternal/Weave"],(function(e,t,n,r,o,i,a,s){Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonInner=void 0,t.ButtonInner=function(e){var t=e.disabled,l=e.text,u=e.loadingText,c=e.onClick,d=(0,r.ensureComputation)(e.icon),p=d.compose((function(e){return e&&e.position})),f=d.compose((function(e){return null==e?void 0:e.image})),h=(0,r.composeComputation)([e.ariaLabel,e.text],(function(e,t){return e||t})),m=(0,o.mapValueOrComputation)(e.ariaLabel,(function(e){return e||null})),v=(0,r.ensureComputation)(e.style),g=(0,r.ensureComputation)(e.loading);return n(r.GetContext,{fn:function(e){var d=ko.observable(!1),y=(0,o.aggregateDisabled)([e.disabled,t,(0,s.toComputation)(d)]),b=(0,o.aggregateTabindex)([e.tabIndex],y);return n(r.LifetimeManagerScoped,{fn:function(e){return n("div",{role:"button",domAgent:{type:"button",options:{aggregatedDisabled:(0,s.toObservable)(e,y),selfDisabled:d,onClick:c}},className:["fxs-button fxt-button fxs-inner-solid-border",{"fxs-button-disabled":y,"fxs-portal-button-primary":(0,o.mapValueOrComputation)(v,(function(e){return 0===e})),"fxs-button-default":(0,o.mapValueOrComputation)(v,(function(e){return 1===e})),"fxs-portal-button-danger":(0,o.mapValueOrComputation)(v,(function(e){return 2===e}))}],tabindex:b,"aria-disabled":y,"aria-label":m,title:h},n(r.Css,{css:a}),n(r.If,{condition:p.compose((function(e){return 0===e})),concealmentBehavior:"remove",trueFn:function(){return n("div",{className:"fxs-button-icon fxs-button-icon-left",image:f})}}),n("span",{visible:g.compose(o.negation),className:"fxs-button-text"},l),n(r.If,{condition:p.compose((function(e){return 1===e})),concealmentBehavior:"remove",trueFn:function(){return n("div",{className:"fxs-button-icon fxs-button-icon-right",image:f})}}),n(r.If,{condition:g,concealmentBehavior:"remove",trueFn:function(){return n("div",{className:"fxs-button-validating"},n("span",null,(0,o.mapValueOrComputation)(u,(function(e){return void 0===e?i.validating:e}))),n("div",{className:"fxs-button-spinner",image:MsPortalFx.Base.Images.CustomImageWithOptions(MsPortalFx.Base.Images.Loading.Spinner(),{customClass:"msportalfx-svg-fabric-rotate360"})}))}}))}})}})}})),
define("FxInternal/Weave/Components/Button",["require","exports","Weave/SandboxMode","FxInternal/WeaveControls/Button.Component.Internal"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0,t.Button=function(e){return n("div",{visible:e.visible,className:["fxc-simplebutton",e.className]},n(r.ButtonInner,__assign({},e)))}})),
define("FxInternal/Weave/Components/LoadingIndicator",["require","exports","Weave/SandboxMode"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.LoadingIndicator=void 0,t.LoadingIndicator=function(e){return n("div",{className:[(e=e||r).className,1===e.size&&"fxs-progress-small","fxs-progress"]},n("div",{className:"fxs-progress-dots"},n("div",{className:"fxs-progress-dots-dot"}),n("div",{className:"fxs-progress-dots-dot"}),n("div",{className:"fxs-progress-dots-dot"}),n("div",{className:"fxs-progress-dots-dot-shadow"}),n("div",{className:"fxs-progress-dots-dot-shadow"}),n("div",{className:"fxs-progress-dots-dot-shadow"})))};var r={}})),
define("FxInternal/WeaveControls/ComponentHandleCore",["require","exports","Weave/SandboxMode","Weave","FxInternal/Weave/Util","FxInternal/Weave/Aggregators"],(function(e,t,n,r,o,i){function a(e){return{dirty:(0,r.makeIndirectComputation)(i.aggregators.dirty.identityElementComp),required:(0,r.makeIndirectComputation)(i.aggregators.required.identityElementComp),valid:(0,r.makeIndirectComputation)(i.aggregators.valid.identityElementComp),validator:e}}function s(e,t){return e||!t}function l(e,t){return t?e:i.aggregators.validator.identityElement}Object.defineProperty(t,"__esModule",{value:!0}),t.handleMap=t.wrapInsideAggregationNode=t.makeInternalHandle=t.makeSimpleComponentHandle=void 0,t.makeSimpleComponentHandle=function(){var e=a();return t.handleMap.set(e,e),e},t.makeInternalHandle=a,t.wrapInsideAggregationNode=function(e,i,a){var u=t.handleMap.get(i),c=n(r.Aggregated,__assign({},u),e);return a&&a!==o.trueComputation?n(r.Aggregatable,{dirty:(0,r.composeComputation)([u.dirty,a],o.and),required:(0,r.composeComputation)([u.required,a],o.and),valid:(0,r.composeComputation)([u.valid,a],s),validator:u.validator&&(0,r.composeComputation)([u.validator,a],l)},c):c},t.handleMap=new WeakMap})),
define("FxInternal/_generated/Less/WeaveControls/Section.Component.css",["module"],(function(e){return{css:'.fxc-section-wrapper{width:100%;display:block}.fxc-section-wrapper>.fxc-section-legend{padding-top:0}.fxc-section.fxc-section-row{width:100%;display:table;table-layout:fixed}.fxc-section.fxc-section-row .azc-form-labelcontainer{padding-bottom:3px}.fxc-section.fxc-section-row>.fxc-section:last-child{padding-right:0}.fxc-section.fxc-section-row>.fxc-section-column{display:table-cell;width:1%;vertical-align:top;padding-right:7px}.fxc-section.fxc-section-row>.fxc-section-legend{display:table-caption;caption-side:top;padding-top:7px}.fxc-section:not(.fxc-left-label-fixed) .fxc-left-label:not(.fxc-right-sublabel){display:table-row;padding-bottom:0}.fxc-section:not(.fxc-left-label-fixed) .fxc-left-label:not(.fxc-right-sublabel) .azc-formElementContainer,.fxc-section:not(.fxc-left-label-fixed) .fxc-left-label:not(.fxc-right-sublabel) .azc-form-labelcontainer{vertical-align:middle}.fxc-section:not(.fxc-left-label-fixed) .fxc-left-label:not(.fxc-right-sublabel)>.azc-formElementSubLabelContainer{display:table-cell;width:100%;padding-bottom:15px}.fxc-section:not(.fxc-left-label-fixed) .fxc-left-label:not(.fxc-right-sublabel)>.azc-form-labelcontainer{display:table-cell;padding-right:14px;white-space:nowrap;padding-bottom:15px}.fxc-section>.fxc-section-legend{display:block;font-size:14px;margin-bottom:5px}.fxc-section .azc-dropdown .azc-dropdown-wrapper .azc-dropdown-current{display:inline;position:absolute;margin:3px 0 0;padding-right:20px}.fxc-section .fxc-section-control .azc-form-labelcontainer label,.fxc-section>.fxc-weave-pccontrol .azc-form-labelcontainer label{max-width:100%}.fxc-section.fxc-section-wrapper.fxc-section-singlecontrol .msportalfx-form-formelement.fxc-section-control{padding-bottom:5px}.fxc-section.fxc-section-wrapper.fxc-section-singlecontrol .msportalfx-form-formelement.fxc-section-control:last-child{padding-bottom:15px}.msportalfx-form-regular .fxc-section-column{display:block!important}.msportalfx-form-regular .fxc-left-label{display:block!important}.msportalfx-form-regular .fxc-left-label>.azc-formElementSubLabelContainer{display:inline-block!important;margin:0!important;padding-bottom:0!important;width:68%!important}.msportalfx-form-regular .fxc-left-label>.azc-form-labelcontainer{display:inline-block!important;margin:0!important;padding-bottom:0!important;width:32%!important;white-space:inherit!important}.fxc-section-tabs{display:block;margin-bottom:10px}.fxc-section-tabs div[role="tabpanel"]{padding-left:8px;box-sizing:border-box}.fxc-section-tabs>.fxc-section{width:100%;display:block}.fxc-section-tabs>.fxc-section>.fxc-section-legend{display:none!important}.fxc-section-tabs>.fxc-section-column{padding-right:0}.fxc-weave-tabpanel{height:100%;min-height:0;padding-left:8px;box-sizing:border-box}.fxc-tabs-container{display:flex;height:36px;box-sizing:border-box;margin-bottom:12px;position:relative}.fxc-tabs-itemslist{display:flex;margin:0 0 1px;padding:0;list-style-type:none;align-items:center;flex:1 1 auto;border-color:inherit;font-size:14px;overflow:hidden;min-height:36px}.fxc-section-tab-item{display:flex;flex:0 0 auto;align-items:center;top:50%;transform:translateY(-50%);padding:0 8px;margin-right:8px;cursor:pointer;min-height:36px;white-space:nowrap;box-sizing:border-box;position:relative;outline-offset:-1px;outline-width:1px;transition:background-color .09s ease}.fxc-section-tab-item.azc-br-active{font-weight:600;margin-bottom:0}.fxc-section-tab-item.azc-br-active::before{background-color:#0078d4;bottom:0;content:"";height:2px;left:8px;position:absolute;right:8px;transition:left .267s cubic-bezier(.1,.25,.75,.9) 0s,right .267s cubic-bezier(.1,.25,.75,.9) 0s}.fxc-section-tab-item.azc-br-active:hover::before{left:0;right:0}.fxc-section-tab-item.fxc-tab-disabled{opacity:.7;color:#808080;filter:grayscale(100%);cursor:default}.fxc-section-tab-item-hidden{display:none}.fxc-section-tab-placeholder.fxc-tabs-menu-content{font-weight:600;position:static;display:flex;visibility:hidden}.fxc-tabs-menu-content{display:flex;flex:0 0 auto;align-items:center;overflow:hidden;text-overflow:ellipsis;position:absolute;text-align:center;top:50%;transform:translateY(-50%)}.fxs-mode-dark .fxc-tabs-menu .fxc-tabs-itemslist{border:1px solid #7f8286}.fxs-mode-dark .fxc-tabs-menu .fxc-section-tab-item.azc-br-active{background-color:#292827}.fxs-mode-dark .fxc-tabs-menu:hover,.fxs-mode-dark .fxc-section-tab-item:not(.fxc-tab-disabled):hover{background-color:#252423}.fxs-mode-dark .fxc-tabs-menu:hover:active,.fxs-mode-dark .fxc-section-tab-item:not(.fxc-tab-disabled):hover:active{background-color:#292827}.fxs-mode-light .fxc-tabs-menu:hover,.fxs-mode-light .fxc-section-tab-item:not(.fxc-tab-disabled):hover{background-color:#f3f2f1}.fxs-mode-light .fxc-tabs-menu:hover:active,.fxs-mode-light .fxc-section-tab-item:not(.fxc-tab-disabled):hover:active{background-color:var(--colorControlBackgroundSelected)}.fxs-mode-light .fxc-section-tab-item:focus,.fxs-mode-light .fxc-tabs-menu .fxs-portal-svg-secondary:focus{outline-style:solid;outline-color:#605e5c}.fxc-tabs-menu .fxs-portal-svg-secondary{display:none;height:19px;padding:9px 0 8px;width:36px;cursor:pointer}.fxc-tabs-menu .fxc-tabs-itemslist{position:absolute;top:35px;right:0;padding:0;display:none;min-width:120px;z-index:1;border-radius:0 0 2px 2px!important}.fxc-tabs-menu .fxc-section-tab-item{margin-right:0;padding:2px 8px;height:auto;min-height:32px;width:100%;top:0%;transform:translateY(0%)}.fxc-tabs-menu .fxc-section-tab-item.azc-br-active{font-family:az_ea_font,"Segoe UI",az_font,system-ui,-apple-system,BlinkMacSystemFont,Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;font-weight:400;background-color:var(--colorControlBackgroundSelected)}.fxc-tabs-menu .fxc-section-tab-item.azc-br-active::before,.fxc-tabs-menu .fxc-section-tab-item:hover::before{height:0}.fxc-tabs-menu-active .fxs-portal-svg-secondary{display:block}.fxc-tabs-menu-active.fxc-tabs-menu-open .fxc-tabs-itemslist{display:flex;flex-direction:column;align-items:flex-start;flex-grow:1 1 auto}.msportalfx-vertical-compact .fxc-left-label>.azc-form-labelcontainer,.msportalfx-vertical-compact .fxc-left-label>.azc-formElementSubLabelContainer{padding-bottom:5px}div:not(.fxc-section)>.fxc-section-legend{display:inline-block!important}.msportalfx-form.fxc-section-column,.msportalfx-form:not(.fxc-section-row)>.fxc-section-column{display:block;width:100%}.msportalfx-form.fxc-section-row,.msportalfx-form:not(.fxc-section-wrapper)>.fxc-section-row{width:calc(100% - 7px)}.fxc-section.fxc-section-dependent{width:100%;padding-left:10px;padding-bottom:7px;border-left-width:1px;border-left-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box;margin-bottom:15px}.fxc-right-sublabel>.azc-formElementSubLabelContainer{display:flex}.fxc-right-sublabel>.azc-formElementSubLabelContainer .azc-text-sublabel{margin-left:7px;flex:0 1 auto}.fxc-right-sublabel:not(.fxc-left-label)>.azc-formElementSubLabelContainer .azc-formElementContainer{width:calc(100% - 7px)}.fxc-right-sublabel:not(.fxc-left-label)>.azc-formElementSubLabelContainer .azc-text-sublabel{margin-left:7px}.fxc-left-label.fxc-right-sublabel{display:flex}.fxc-left-label.fxc-right-sublabel>.azc-form-labelcontainer{margin-right:7px}.fxc-left-label.fxc-right-sublabel>.azc-formElementSubLabelContainer{flex-grow:1}.fxc-left-label.fxc-right-sublabel>.azc-formElementSubLabelContainer>.azc-formElementContainer{flex-grow:1}.fxc-section.fxc-left-label-fixed .fxc-section-control:not(.fxc-summary),.fxc-section.fxc-left-label-fixed>.fxc-weave-pccontrol:not(.fxc-summary){width:auto;display:flex}.fxc-section.fxc-left-label-fixed .fxc-section-control:not(.fxc-summary) .azc-text-label:not(.azc-checkBoxField-inlineLabelContainer),.fxc-section.fxc-left-label-fixed>.fxc-weave-pccontrol:not(.fxc-summary) .azc-text-label:not(.azc-checkBoxField-inlineLabelContainer){padding-right:8px;margin-top:3px}.fxc-tab-required .fxc-tab-required-item::after{content:"*";color:#a4262c;position:absolute;top:8px;left:0}.fxc-tab-invalid .fxc-tab-invalid-item::after{content:"";height:6px;width:6px;background-color:#a4262c;border-radius:50%;position:absolute;top:5px;right:0;left:inherit}.fxc-tab-invalid .fxc-tab-invalid-item-flight::after{content:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%209%209%22%3E%0D%0A%20%20%20%20%3Ccircle%20cx%3D%224.5%22%20cy%3D%224.5%22%20r%3D%224.5%22%20fill%3D%22%23e81123%22%2F%3E%0D%0A%20%20%20%20%3Cpath%20fill%3D%22%23FFF%22%20d%3D%22M7%202.8L6.2%202%204.5%203.7%202.8%202l-.8.8%201.7%201.7L2%206.2l.8.8%201.7-1.7L6.2%207l.8-.8-1.7-1.7z%22%2F%3E%0D%0A%3C%2Fsvg%3E%0D%0A");height:16px;width:16px;left:0;position:absolute;top:10px}.fxc-tab-invalid .fxc-tab-invalid-item-flight{padding-left:20px}.fxc-tab-invalid-icon{height:16px;width:16px;position:unset;padding-right:4px}.fxc-section.fxc-left-label-fixed.fxc-smart-labels .fxc-section-control.fxc-has-label>.azc-formElementSubLabelContainer,.fxc-section.fxc-left-label-fixed.fxc-smart-labels>.fxc-weave-pccontrol.fxc-has-label>.azc-formElementSubLabelContainer,.fxc-section.fxc-left-label-fixed.fxc-smart-labels .fxc-section-control.fxc-has-label>.azc-formElementContainer,.fxc-section.fxc-left-label-fixed.fxc-smart-labels>.fxc-weave-pccontrol.fxc-has-label>.azc-formElementContainer{width:inherit!important;max-width:calc(100% - 250px);flex:auto}.fxc-section.fxc-left-label-fixed.fxc-smart-labels .fxc-section-control.fxc-has-label.msportalfx-nested-control>.azc-formElementSubLabelContainer,.fxc-section.fxc-left-label-fixed.fxc-smart-labels>.fxc-weave-pccontrol.fxc-has-label.msportalfx-nested-control>.azc-formElementSubLabelContainer,.fxc-section.fxc-left-label-fixed.fxc-smart-labels .fxc-section-control.fxc-has-label.msportalfx-nested-control>.azc-formElementContainer,.fxc-section.fxc-left-label-fixed.fxc-smart-labels>.fxc-weave-pccontrol.fxc-has-label.msportalfx-nested-control>.azc-formElementContainer{max-width:calc(100% - 205px)}.fxc-section.fxc-left-label-fixed.fxc-smart-labels .fxc-section-control.fxc-has-label .azc-form-labelcontainer,.fxc-section.fxc-left-label-fixed.fxc-smart-labels>.fxc-weave-pccontrol.fxc-has-label .azc-form-labelcontainer{padding-right:12px;max-width:250px;flex:none;flex:initial}.fxc-section.fxc-smart-labels .fxc-section-control>.azc-form-labelcontainer,.fxc-section.fxc-smart-labels>.fxc-weave-pccontrol>.azc-form-labelcontainer,.fxc-section.fxc-smart-labels .fxc-section-control>.azc-formElementSubLabelContainer,.fxc-section.fxc-smart-labels>.fxc-weave-pccontrol>.azc-formElementSubLabelContainer{width:100%!important}.fxc-section-tab-item-icon{display:flex;flex:0 0 auto;height:10px;width:10px;margin-left:4px;opacity:.4}.fxc-section-tab-item-icon:hover{opacity:1;cursor:pointer}.fxs-portal .fxc-section-tab-item:not(.azc-br-active) .fxs-svg-number{filter:grayscale(0%)}.fxs-portal .fxc-section-tab-item:not(.azc-br-active) .fxs-svg-number .fxs-svg-circle{fill:#fff;stroke-width:1px;stroke:#949494}.fxs-portal .fxc-section-tab-item:not(.azc-br-active) .fxs-svg-number .fxs-svg-text{fill:#949494}.fxs-theme-dark .fxs-portal .fxc-section-tab-item:not(.azc-br-active) .fxs-svg-number .fxs-svg-circle{fill:#0f0f0f;stroke-width:1px;stroke:#949494}.fxs-theme-dark .fxs-portal .fxc-section-tab-item:not(.azc-br-active) .fxs-svg-number .fxs-svg-text{fill:#949494}.fxs-mode-dark .fxc-section-tab-item .fxs-svg-number-success circle{fill:#1a3300;stroke:#559e00}.fxs-mode-dark .fxc-section-tab-item .fxs-svg-number-success text{fill:#57a300}.fxs-mode-dark .fxc-section-tab-item .fxs-svg-number-error circle{fill:#61050c;stroke:#6d2929}.fxs-mode-dark .fxc-section-tab-item .fxs-svg-number-error text{fill:#ff5f7a}.fxs-portal .fxc-section-tab-item:not(.azc-br-active) .fxs-svg-number-error circle,.fxs-portal .fxc-section-tab-item:not(.azc-br-active) .fxs-svg-number-success circle{fill:none}',moduleId:e.id}})),
define("FxInternal/WeaveControls/Section.Component.Internal",["require","exports","Weave/SandboxMode","Weave","FxInternal/Weave/Util","FxInternal/_generated/Less/WeaveControls/Section.Component.css"],(function(e,t,n,r,o,i){Object.defineProperty(t,"__esModule",{value:!0}),t.SectionInner=void 0;var a=MsPortalFx.ViewModels.Forms.LabelPosition;function s(e){return MsPortalFx.isNullOrUndefined(e)?null:n("div",{className:"fxc-section-legend azc-br-muted fxc-section-name"},e)}t.SectionInner=function(e,t){var l=e.disabled;return t=e.children||t,n(r.Fragment,null,n(r.Css,{css:i}),(0,o.mapValueOrComputation)(e.name,s),n(r.GetContext,{fn:function(i){return n(r.SetContext,{labelPosition:!e.leftLabelPosition||e.leftLabelWidth||e.smartAlignLabel?a.Top:a.Left,leftLabelWidth:e.leftLabelWidth,disabled:(0,o.aggregateDisabled)([i.disabled,l]),tabIndex:(0,o.aggregateTabindex)([i.tabIndex],l)},(0,r.isComputation)(t)?n(r.ForEach,{collection:t,fn:function(e){return e.item}}):t)}}))}})),
define("FxInternal/Weave/Components/Section",["require","exports","Weave/SandboxMode","Weave","FxInternal/Weave/Util","FxInternal/WeaveControls/Section.Component.Internal","FxInternal/WeaveControls/ComponentHandleCore"],(function(e,t,n,r,o,i,a){Object.defineProperty(t,"__esModule",{value:!0}),t.Section=void 0;t.Section=function(e,t){e||(e={children:t});var s=e.handle||(0,a.makeSimpleComponentHandle)(),l=["fxc-section","fxc-section-wrapper"];(e.leftLabelWidth||e.smartAlignLabel)&&l.push("msportalfx-form"),e.smartAlignLabel&&l.push("fxc-smart-labels");var u=(0,r.makeWritableComputation)(0),c=e.smartAlignLabel?u.compose((function(e){return e>480})):e.leftLabelWidth?o.trueComputation:o.falseComputation,d=n("div",{visible:e.visible,className:[l,{"msportalfx-form-regular":c,"fxc-left-label-fixed":c},e.className],style:{"min-height":e.minHeight?e.minHeight+"px":void 0},onResize:function(e){var t=e.width;u(t)}},(0,i.SectionInner)(e,t));return(0,a.wrapInsideAggregationNode)(d,s,e.visible)}})),
define("FxInternal/WeaveControls/Common",["require","exports","Weave/SandboxMode","FxInternal/Weave","FxInternal/Weave/Util","Weave"],(function(e,t,n,r,o,i){function a(e){return"function"==typeof e.triggerValidation}function s(e,t,n){return(e||t)&&n}function l(e,t){return e||!t}Object.defineProperty(t,"__esModule",{value:!0}),t.ensureInputBindingPair=t.isControlValidatable=t.tryWrapAggregationSourceForFieldControlVM=t.patchFieldControlVM=t.isControlVM=void 0,t.isControlVM=function(e){return e&&"object"==typeof e&&"number"==typeof e.controlType},t.patchFieldControlVM=function(e,t){t&&e&&(MsPortalFx.isNullOrUndefined(e.labelPosition)||ko.isWritableObservable(t.labelPosition)&&t.labelPosition(e.labelPosition),MsPortalFx.isNullOrUndefined(e.leftLabelWidth)||ko.isWritableObservable(t._msPortalFxLeftLabelWidth)&&t._msPortalFxLeftLabelWidth(e.leftLabelWidth))},t.tryWrapAggregationSourceForFieldControlVM=function(e,t){var u=e,c=u.dirty,d=u.valid,p=u._msPortalFxRequired,f=u.required,h=u.visible,m=ko.isObservable(h)?(0,r.toComputation)(h):o.trueComputation,v=ko.isObservable(c)?(0,i.composeComputation)([(0,r.toComputation)(c),m],o.and):null,g=ko.isObservable(d)?(0,i.composeComputation)([(0,r.toComputation)(d),m],l):null,y=ko.isObservable(p)||ko.isObservable(f)?(0,i.composeComputation)([ko.isObservable(p)?(0,r.toComputation)(p):o.falseComputation,ko.isObservable(f)?(0,r.toComputation)(f):o.falseComputation,m],s):null,b=a(e)?function(){return Promise.resolve(e.triggerValidation())}:null;return v||g||y||b?n(i.Aggregatable,{dirty:v,valid:g,required:y,validator:b},t):t},t.isControlValidatable=a,t.ensureInputBindingPair=function(e,t,n,r){var o,a;if(MsPortalFx.isNullOrUndefined(e)){var s=o=(0,i.makeWritableComputation)(t);a=function(e){s(r(e)),n&&n(e)}}else o=(0,i.ensureComputation)(e),a=n||MsPortalFx.noop;return{field:o,onFieldChange:a}}})),
define("ShellWorker/AssetTypeRequirements",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.assetTypeMeetsRequirements=void 0,t.assetTypeMeetsRequirements=function(e,t){if(t){const n=!!e?.resourceType,r=e=>(t&e)===e;if(r(1)){const t=e.browseType;if(void 0===t)return!1;if(r(5)&&(1!==t||!n))return!1;if(r(9)&&(3!==t||!e.browseLinkUri||r(25)&&3!==t))return!1}if(r(2)&&!n)return!1}return!0}})),
define("ShellWorker/AssetTypes",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.pushAssetTypesEndPoint=void 0,t.pushAssetTypesEndPoint=new n.ActionEndPointDefinition("pushAssetTypes")})),
define("ShellWorker/AuthorizationState",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getAuthorizationTokenForShellWorkerEndPoint=t.pushShellAuthTokensEndPoint=void 0,t.pushShellAuthTokensEndPoint=new n.ActionEndPointDefinition("pushShellAuthTokens"),t.getAuthorizationTokenForShellWorkerEndPoint=new n.FuncEndPointDefinition("getAuthorizationTokenForShellWorker")})),
define("ShellWorker/Browse",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.pushBrowseMetadataEndPoint=void 0,t.pushBrowseMetadataEndPoint=new n.ActionEndPointDefinition("pushBrowseMetadata")})),
define("ShellWorker/DiagnosticsUpload",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),
define("ShellWorker/ExtensionManager",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.setRequestedBladeEndPoint=t.onExtensionStateChangeEndPoint=void 0,t.onExtensionStateChangeEndPoint=new n.ActionEndPointDefinition("onExtensionStateChange"),t.setRequestedBladeEndPoint=new n.ActionEndPointDefinition("setRequestedBlade")})),
define("ShellWorker/ExtensionWorkerPrewarmer",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.onGetWorkerCalledEndPoint=t.terminateWorkerEndPoint=t.onWorkerBootCompleteEndPoint=t.pushNewWorkerEndPoint=void 0,t.pushNewWorkerEndPoint=new n.ActionEndPointDefinition("pushWorker"),t.onWorkerBootCompleteEndPoint=new n.ActionEndPointDefinition("onWorkerError"),t.terminateWorkerEndPoint=new n.ActionEndPointDefinition("terminateWorker"),t.onGetWorkerCalledEndPoint=new n.ActionEndPointDefinition("onGetWorkerCalled")})),
define("ShellWorker/FeatureCards",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.pushFeatureCardsEndPoint=void 0,t.pushFeatureCardsEndPoint=new n.ActionEndPointDefinition("pushFeatureCards")})),
define("ShellWorker/GlobalResourceFilters",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.pushActiveGlobalResourceFilterEndPoint=void 0,t.pushActiveGlobalResourceFilterEndPoint=new n.ActionEndPointDefinition("pushActiveGlobalResourceFilter")})),
define("ShellWorker/IFrameExtensionLoader",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.disposeExtensionIFrameEndPoint=t.loadExtensionInIFrameEndPoint=void 0,t.loadExtensionInIFrameEndPoint=new n.FuncEndPointDefinition("loadExtensionInIFrame"),t.disposeExtensionIFrameEndPoint=new n.ActionEndPointDefinition("disposeExtensionIFrame")})),
define("ShellWorker/Locations",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.pushLocationsEndPoint=void 0,t.pushLocationsEndPoint=new n.ActionEndPointDefinition("pushLocations")})),
define("ShellWorker/PreloadData",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.pushPreloadDataEndPoint=void 0,t.pushPreloadDataEndPoint=new n.ActionEndPointDefinition("pushPreloadData")})),
define("ShellWorker/Subscriptions",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.pushGlobalFilterSubscriptionsEndpoint=t.pushSubscriptionsCountEndpoint=t.pushStartupSubscriptionsEndpoint=t.pushSelectedSubscriptionsEndpoint=void 0,t.pushSelectedSubscriptionsEndpoint=new n.ActionEndPointDefinition("pushSelectedSubscriptions"),t.pushStartupSubscriptionsEndpoint=new n.ActionEndPointDefinition("pushStartupSubscriptions"),t.pushSubscriptionsCountEndpoint=new n.ActionEndPointDefinition("pushSubscriptionsCount"),t.pushGlobalFilterSubscriptionsEndpoint=new n.ActionEndPointDefinition("pushGlobalFilterSubscriptions")})),
define("ShellWorker/UserInfo",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.pushUserInfoEndpoint=void 0,t.pushUserInfoEndpoint=new n.ActionEndPointDefinition("pushUserInfo")})),
define("ShellWorkerImpl/AssetTypes",["require","exports","Fx/DependencyInjectionCore","ShellWorker/AssetTypes","FxHubs/RpcEndPointsCore","FxInternal/AsyncLoaderCore"],(function(e,t,n,r,o,i){Object.defineProperty(t,"__esModule",{value:!0}),t.getSingleAssetTypeInformationEndPointHandler=t.getAssetTypesInformationEndPointHandler=t.pushAssetTypesEndPointHandler=t.AssetTypes=void 0;const{getAssetTypesInformationEndPoint:a,getSingleAssetTypeInformationEndPoint:s}=o.AssetTypes;let l=class{constructor(){const e=new Promise((e=>{this.resolveAssetTypes=e}));this.getAssetTypesInformation=()=>e;const t=e.then((e=>e.reduce(((e,t)=>(e[n(t)]=e[r(t)]=t,e)),{})));function n(e){return"resourceType:"+e.lowerCaseResourceType}function r(e){return"assetType:"+e.lowerCaseExtension+e.lowerCaseAssetType}this.getSingleAssetTypeInformation=e=>t.then((t=>t[e.lowerCaseResourceType?n(e):r(e)]))}};t.AssetTypes=l,t.AssetTypes=l=__decorate([__metadata("fx:diagnostics",[e,"AssetTypes"]),n.Class(),__metadata("design:paramtypes",[])],l),t.pushAssetTypesEndPointHandler=(0,i.defineHandler)(r.pushAssetTypesEndPoint,(({diContainer:e,messageArg:t})=>{e.get(l).resolveAssetTypes(t)})),t.getAssetTypesInformationEndPointHandler=(0,i.defineHandler)(a,(({diContainer:e})=>e.get(l).getAssetTypesInformation().then((e=>e?.slice())))),t.getSingleAssetTypeInformationEndPointHandler=(0,i.defineHandler)(s,(({diContainer:e,messageArg:t})=>e.get(l).getSingleAssetTypeInformation(t)))})),
define("ShellWorkerImpl/BrowseMetadataProvider",["require","exports","Fx/DependencyInjectionCore","ShellWorker/Browse","FxInternal/AsyncLoaderCore"],(function(e,t,n,r,o){Object.defineProperty(t,"__esModule",{value:!0}),t.pushBrowseMetadataEndPointHandler=t.BrowseMetadataProvider=void 0;let i=class{constructor(){const e=new Promise((e=>{this.resolveBrowseMetadata=e}));this.getBrowseMetadata=()=>e}};t.BrowseMetadataProvider=i,t.BrowseMetadataProvider=i=__decorate([__metadata("fx:diagnostics",[e,"BrowseMetadataProvider"]),n.Class(),__metadata("design:paramtypes",[])],i),t.pushBrowseMetadataEndPointHandler=(0,o.defineHandler)(r.pushBrowseMetadataEndPoint,(({diContainer:e,messageArg:t})=>{e.get(i).resolveBrowseMetadata(t)}))})),
define("ShellWorkerImpl/BrowseColumnsProvider",["require","exports","Fx/DependencyInjectionCore","FxHubs/RpcEndPointsCore","ShellWorkerImpl/BrowseMetadataProvider","FxInternal/AsyncLoaderCore"],(function(e,t,n,r,o,i){Object.defineProperty(t,"__esModule",{value:!0}),t.onBrowseColumnsUpdatedEndPointHandler=t.BrowseColumnsProvider=void 0;let a=class{constructor(e){let t,n=e.getBrowseMetadata().then((({columns:e})=>{t=e}));this.onBrowseColumnsUpdated=({store:e,columns:r})=>{const o=e;n=n.then((()=>{t[o]=r}))},this.getBrowseColumns=()=>n.then((()=>t))}};t.BrowseColumnsProvider=a,t.BrowseColumnsProvider=a=__decorate([__metadata("fx:diagnostics",[e,"BrowseColumnsProvider"]),n.Class(),__metadata("design:paramtypes",[o.BrowseMetadataProvider])],a),t.onBrowseColumnsUpdatedEndPointHandler=(0,i.defineHandler)(r.Browse.onBrowseColumnsUpdatedEndPoint,(({diContainer:e,messageArg:t})=>{e.get(a).onBrowseColumnsUpdated(t)}))})),
define("ShellWorkerImpl/BrowseFavoriteViewIdProvider",["require","exports","Fx/DependencyInjectionCore","FxHubs/RpcEndPointsCore","ShellWorkerImpl/BrowseMetadataProvider","FxInternal/AsyncLoaderCore"],(function(e,t,n,r,o,i){Object.defineProperty(t,"__esModule",{value:!0}),t.onBrowseFavoriteViewIdUpdatedEndPointHandler=t.BrowseFavoriteViewIdProvider=void 0;let a=class{constructor(e){let t,n=e.getBrowseMetadata().then((({favoriteViewIds:e})=>{t=e}));this.onBrowseFavoriteViewIdUpdated=({resourceTypeKey:e,favoriteViewId:r})=>{n=n.then((()=>{t=t||Object.create(null),t[e]=r}))},this.getBrowseFavoriteViewId=e=>n.then((()=>t&&t[e]))}};t.BrowseFavoriteViewIdProvider=a,t.BrowseFavoriteViewIdProvider=a=__decorate([__metadata("fx:diagnostics",[e,"BrowseFavoriteViewIdProvider"]),n.Class(),__metadata("design:paramtypes",[o.BrowseMetadataProvider])],a),t.onBrowseFavoriteViewIdUpdatedEndPointHandler=(0,i.defineHandler)(r.Browse.onBrowseFavoriteViewIdUpdatedEndPoint,(({diContainer:e,messageArg:t})=>{e.get(a).onBrowseFavoriteViewIdUpdated(t)}))})),
define("ShellWorkerImpl/Core/ExtensionManagerOptions",["require","exports","Fx/DependencyInjectionCore"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionManagerOptions=void 0;let r=class{constructor(e,t,n,r,o){this.extensions=e,this.manifests=t,this.loadTypes=n,this.extensionRedirectMap=r,this.blockedHosts=o}};t.ExtensionManagerOptions=r,t.ExtensionManagerOptions=r=__decorate([__metadata("fx:diagnostics",[e,"ExtensionManagerOptions"]),n.Value(),__metadata("design:paramtypes",[Object,Object,Object,Object,Array])],r)})),
define("ShellWorkerImpl/BrowseManifestsProvider",["require","exports","Fx/DependencyInjectionCore","FxInternal/Rpc","FxHubs/RpcEndPointsCore","Fx/Diagnostics","ShellWorkerImpl/Core/ExtensionManagerOptions","ShellWorkerImpl/BrowseMetadataProvider"],(function(e,t,n,r,o,i,a,s){Object.defineProperty(t,"__esModule",{value:!0}),t.BrowseManifestsProvider=void 0;const l=window;let u=class{constructor(t,n,r,i){const a=n.createLog(e),s=i.getBrowseMetadata(),u=(async()=>{const{browseManifestsUri:e}=await s;try{const t=await l.fetch(e);if(!t.ok){const e=new Error(t.statusText);throw e.response=t,e}const n=await t.json();return n?.manifest||{}}catch(e){throw a.error("Fetch of browse manifests failed",0,e),e}})();this.getBrowseManifests=async e=>{if(r.extensions[e].isSideloaded)return o.Browse.getBrowseManifestsEndpoint.invoke(t,"fx",{extension:e});{const t=await u;return t?.[e]?.assetTypesBrowse?.slice(0)}}}};t.BrowseManifestsProvider=u,t.BrowseManifestsProvider=u=__decorate([__metadata("fx:diagnostics",[e,"BrowseManifestsProvider"]),n.Class(),__metadata("design:paramtypes",[r.Client,i.Logging,a.ExtensionManagerOptions,s.BrowseMetadataProvider])],u)})),
define("ShellWorkerImpl/FeatureCards",["require","exports","Fx/DependencyInjectionCore","ShellWorker/FeatureCards","FxInternal/AsyncLoaderCore"],(function(e,t,n,r,o){Object.defineProperty(t,"__esModule",{value:!0}),t.pushFeatureCardsEndPointHandler=t.FeatureCards=void 0;let i=class{constructor(){const e=new Promise((e=>{this.resolveFeatureCards=e}));this.getFeatureCards=async t=>(await e).get(t)}};t.FeatureCards=i,t.FeatureCards=i=__decorate([__metadata("fx:diagnostics",[e,"FeatureCards"]),n.Class(),__metadata("design:paramtypes",[])],i),t.pushFeatureCardsEndPointHandler=(0,o.defineHandler)(r.pushFeatureCardsEndPoint,(({diContainer:e,messageArg:t})=>{const n=new a((e=>(e||"").toLowerCase()));Object.keys(t).forEach((e=>n.set(e,t[e]))),e.get(i).resolveFeatureCards(n)}));class a{constructor(e){this._map=new Map,this._key=e}clear(){this._map.clear()}delete(e){return this._map.delete(this._key(e))}forEach(e,t){this._map.forEach(((n,r,o)=>{e.call(t,n,r,this)}),t)}get(e){return this._map.get(this._key(e))}has(e){return this._map.has(this._key(e))}set(e,t){return this._map.set(this._key(e),t),this}}})),
define("ShellWorkerImpl/LocationsProvider",["require","exports","Fx/DependencyInjectionCore","ShellWorker/Locations","FxInternal/ResourceManagement/LocationsCore","FxInternal/AsyncLoaderCore"],(function(e,t,n,r,o,i){Object.defineProperty(t,"__esModule",{value:!0}),t.getLocationDisplayNamesEndPointHandler=t.pushLocationsEndPointHandler=t.LocationsProvider=void 0;let a=class{constructor(){const e=new Promise((e=>{this.resolveLocations=e}));this.getLocations=()=>e;const t=e.then((e=>Object.keys(e).reduce(((t,n)=>(t[n]=e[n].displayName,t)),{})));this.getLocationDisplayNames=()=>t}};t.LocationsProvider=a,t.LocationsProvider=a=__decorate([__metadata("fx:diagnostics",[e,"LocationsProvider"]),n.Class(),__metadata("design:paramtypes",[])],a),t.pushLocationsEndPointHandler=(0,i.defineHandler)(r.pushLocationsEndPoint,(({diContainer:e,messageArg:t})=>{e.get(a).resolveLocations(t)})),t.getLocationDisplayNamesEndPointHandler=(0,i.defineHandler)(o.getLocationDisplayNamesEndPoint,(({diContainer:e})=>e.get(a).getLocationDisplayNames().then((e=>({...e})))))})),
define("ShellWorkerImpl/BrowsePrereqsProvider",["require","exports","Fx/DependencyInjectionCore","FxInternal/Rpc","FxHubs/RpcEndPointsCore","ShellWorkerImpl/AssetTypes","ShellWorkerImpl/FeatureCards","FxInternal","ShellWorker/AssetTypeRequirements","ShellWorkerImpl/BrowseColumnsProvider","ShellWorkerImpl/BrowseFavoriteViewIdProvider","ShellWorkerImpl/BrowseManifestsProvider","ShellWorkerImpl/LocationsProvider","FxInternal/AsyncLoaderCore"],(function(e,t,n,r,o,i,a,s,l,u,c,d,p,f){Object.defineProperty(t,"__esModule",{value:!0}),t.getBrowseManifestsForResourceTypesEndpointHandler=t.getBrowsePrereqsEndpointHandler=t.BrowsePrereqsProvider=void 0;var h=o.Browse.getBrowsePrereqsEndpoint,m=o.Browse.getBrowseManifestsForResourceTypesEndpoint;const v={bladeName:"ResourceMenuBlade",extensionName:"HubsExtension"},g={partName:"ResourcePropertiesPinnedPart",extensionName:"HubsExtension"};let y=class{constructor(e,t,n,r,i,a,u,c){const d=t.getAssetTypesInformation().then((e=>{const t={};return e.forEach((e=>{let n;const r=e.bladeName;let o;n=!b(e.contracts,8)&&r?{bladeName:r,extensionName:e.bladeExtensionName||e.extensionName}:v,o=e.partName?{partName:e.partName,extensionName:e.partExtensionName||e.extensionName}:g;const i=e.kinds||[],a=Object.create(null);let s;i.length&&i.forEach((t=>{let r,i;r=t.useResourceMenu?v:t.bladeName?{bladeName:t.bladeName,extensionName:t.bladeExtensionName||e.extensionName}:n,i=t.partName?{partName:t.partName,extensionName:t.partExtensionName||e.extensionName}:o;const l={displayName:{plural:t.pluralDisplayName,singular:t.singularDisplayName,lowerPlural:t.lowerPluralDisplayName,lowerSingular:t.lowerSingularDisplayName},description:e.description,icon:t.icon,bladeDetails:r,partDetails:i,kinds:t.kinds||[],options:t.options,isPreview:t.isPreview};a[(t.name||"").toLowerCase()]=l,t.isDefault&&(s=l)})),t[(e.resourceType||"").toLowerCase()]={assetId:`${e.lowerCaseExtension}_${e.lowerCaseAssetType}`,browseOption:e.argBrowseOption,armBrowseOption:e.armBrowseOption,icon:e.icon,displayName:e.compositeDisplayName,description:e.description,bladeDetails:n,partDetails:o,kindMap:a,defaultKind:s,contracts:e.contracts,options:e.options,isPreview:e.isPreview,isDisabled:e.isDisabled,browseType:e.browseType,noPdlCreateBlade:e.noPdlCreateBlade,noPdlCreateExtension:e.noPdlCreateExtension,noPdlCreateParameters:e.noPdlCreateParameters,marketplaceItemId:e.marketplaceItemId,marketplaceMenuItemId:e.marketplaceMenuItemId,links:e.links,hiddenCommands:e.hiddenCommands,browseCommandExperiments:e.browseCommandExperiments,extensibleCommandsApiVersions:e.extensibleCommandsApiVersions,routingType:e.routingType,topLevelResourceTypeAlias:e.topLevelResourceTypeAlias,apiVersion:e.apiVersion,proxyRoutingFilters:e.proxyRoutingFilters,topLevelTenantAlias:e.topLevelTenantAlias}})),t})),p=e=>e?t.getAssetTypesInformation().then((t=>{const n=e?.toLowerCase()||"";return r=t,o=e=>e.lowerCaseResourceType===n,(0,s.find)(r,o,-1);var r,o})):Promise.resolve(null);this.getQueryManifest=e=>p(e).then((e=>{if(e){const t=e.variant,n=e.lowerCaseAssetType,r=t&&n+"/variant:"+t||n;return i.getBrowseManifests(e.extensionName).then((o=>{const i=(o||[]).filter((e=>e.name.toLowerCase()===r));0===i.length&&t&&i.push(...(o||[]).filter((e=>e.name.toLowerCase()===n)));const a=c.isEnabled("argbrowseedgezones"),u=a?"id,name,type,location,subscriptionId,resourceGroup,kind,tags,extendedLocation":"id,name,type,location,subscriptionId,resourceGroup,kind,tags",d=`where type =~ '${e.lowerCaseResourceType}'|project [FxColumns]`,p=e=>{const t=e.browseQuery.split("|"),n=t.map((e=>e.trim())),r=n[n.length-1];return r.startsWith("project ")&&r.includes("[FxColumns]")&&(e.edgeZonesSupported=a,t[t.length-1]=t[t.length-1].replace("[FxColumns]",u),e.browseQuery=t.join("|")),e};if(i.length){let t=i[0];if(e.showArgColumns){const n=e=>("string"==typeof e?e.toLowerCase():e).toString(),r=[...Array(13)].map(((e,t)=>(t+1).toString()));if(t.columns=t.columns&&t.columns.filter((t=>{const o=n(t.name);return r.includes(o)||!1!==e.showArgColumns[o]})),t.defaultColumns=t.defaultColumns&&t.defaultColumns.filter((t=>{const o=n(t);return r.includes(o)||!1!==e.showArgColumns[o]})),t.statusColumn){const o=n(t.statusColumn);t.statusColumn=(r.includes(o)||!1!==e.showArgColumns[o])&&t.statusColumn}t.defaultFilters=t.defaultFilters&&t.defaultFilters.filter((t=>{const o=n(t);return r.includes(o)||!1!==e.showArgColumns[o]}))}return e.featureCardOptions&&(t={...t,featureCards:e.featureCardOptions.slice()}),t.browseQuery||(t=(0,s.extend2)({browseQuery:d},t)),p(t)}if(e.resourceType){if(e.argBrowseOption&&4!==e.argBrowseOption)return p({name:e.assetType,browseQuery:d,defaultColumns:null,columns:null});if(!b(e.contracts,2)&&(0,l.assetTypeMeetsRequirements)(e,5))return p({name:e.assetType,browseQuery:d,defaultColumns:null,columns:null})}}))}return Promise.resolve(null)})),this.getBrowsePrereqs=t=>{const{includeColumnsVersion:i,includeFavoriteViewId:s,resourceType:l,resourceTypeKey:c}=t,p=u.getLocations(),f=(l||"").toLowerCase(),h=i?n.getBrowseColumns().then((e=>e?.[i>1?15:6]||{})):Promise.resolve(null),m=s?r.getBrowseFavoriteViewId((c||l||"").toLowerCase()).then((e=>e||"_default_")):Promise.resolve(void 0);let v;switch(f){case"microsoft.resources/resources":case"microsoft.resources/resourceswithtag":v=Promise.resolve({});break;default:v=this.getQueryManifest(l)}const g=a.getFeatureCards(f);return Promise.all([p,d,v,h,m,g]).then((([t,n,r,i,a,s])=>(r?.columns?.some((e=>7===e.format))?o.Impl.getDirectoriesMap(e):Promise.resolve(null)).then((e=>({browseQueryManifest:r,locations:t,assetTypes:n,columnSettings:i,directoriesMap:e,favoriteViewId:a,featureCards:s})))))},this.getBrowseManifests=e=>{const t=e.map((e=>this.getQueryManifest(e).then((t=>({resourceType:e,manifest:t})))));return Promise.all(t).then((e=>{const t={};return e.forEach((e=>t[e.resourceType]=e.manifest)),t}))}}};function b(e,t){return(e&t)===t}t.BrowsePrereqsProvider=y,t.BrowsePrereqsProvider=y=__decorate([__metadata("fx:diagnostics",[e,"BrowsePrereqsProvider"]),n.Class(),__metadata("design:paramtypes",[r.Client,i.AssetTypes,u.BrowseColumnsProvider,c.BrowseFavoriteViewIdProvider,d.BrowseManifestsProvider,a.FeatureCards,p.LocationsProvider,FxImpl.Features])],y),t.getBrowsePrereqsEndpointHandler=(0,f.defineHandler)(h,(({diContainer:e,messageArg:t})=>e.get(y).getBrowsePrereqs(t))),t.getBrowseManifestsForResourceTypesEndpointHandler=(0,f.defineHandler)(m,(({diContainer:e,messageArg:t})=>e.get(y).getBrowseManifests(t)))})),
define("ShellWorkerImpl/Core/AuthorizationState",["require","exports","Fx/DependencyInjectionCore","ShellWorker/AuthorizationState","FxInternal/AsyncLoaderCore","FxInternal/Rpc"],(function(e,t,n,r,o,i){Object.defineProperty(t,"__esModule",{value:!0}),t.pushShellAuthTokensEndPointHandler=t.AuthorizationState=void 0;let a=class{constructor({extensionTokens:e,portalToken:t,userObjectId:n,isWritesDisallowedTenant:r},o){this._rpcClient=o,this._extensionTokens=e,this._portalToken=t,this.userObjectId=n,this.isWritesDisallowedTenant=r,this.onAuthTokensChange=({extensionTokens:e,portalToken:t})=>{this._extensionTokens=e,this._portalToken=t}}async tryGetValidToken(e,t){const n=Date.now(),o="fx"===e&&""===t;let i;if(o)i=this._portalToken;else{const n=this._extensionTokens[e];i=n?n[t]:null}if(i){const a=i.expiresAt;if(a>0&&a-n<6e5){const n=await r.getAuthorizationTokenForShellWorkerEndPoint.invoke(this._rpcClient,"fx",{extensionName:e,resourceName:t});return n&&(o?this._portalToken=n:(this._extensionTokens[e]||(this._extensionTokens[e]={}),this._extensionTokens[e][t]=n)),n}return i}}getUnvalidatedExtensionTokens(){return this._extensionTokens}getUnvalidatedPortalToken(){return this._portalToken}};t.AuthorizationState=a,t.AuthorizationState=a=__decorate([__metadata("fx:diagnostics",[e,"AuthorizationState"]),n.Value(),__metadata("design:paramtypes",[Object,i.Client])],a),t.pushShellAuthTokensEndPointHandler=(0,o.defineHandler)(r.pushShellAuthTokensEndPoint,(({diContainer:e,messageArg:t})=>{e.get(a).onAuthTokensChange(t)}))})),
define("ShellWorkerImpl/Core/CopilotFxRequireConfigSource",["require","exports","Fx/DependencyInjectionCore","FxInternal/Rpc","FxInternal/RpcEndPointsCore","ShellWorkerImpl/Core/ExtensionManagerOptions","FxInternal/AsyncLoaderCore","FxInternal/Experimentation"],(function(e,t,n,r,o,i,a,s){Object.defineProperty(t,"__esModule",{value:!0}),t.trimRequireConfig=t.getRequireConfigHandler=t.CopilotFxRequireConfigSource=void 0;let l=class{constructor(e,t,n){const{extensions:r}=e;if(r.Microsoft_Azure_Copilot){let e;this.getRequireConfig=n=>{e||(e=o.isCopilotEnabledEndpoint.invoke(t,"fx").then((e=>e?o.getPostBootEndPoint.invoke(t,"Microsoft_Azure_Copilot",null).then((({requireConfig:e})=>u(e))).catch((()=>null)):Promise.resolve(null))));return!["Microsoft_Azure_Copilot","HubsExtension"].includes(n)?e:Promise.resolve(null)}}else this.getRequireConfig=()=>Promise.resolve(null)}};function u(e){const t=e=>/^@microsoft\/azureportal-copilot(?:-ko|-internal)?\//.test(e);return{...e.paths&&{paths:Object.keys(e.paths).reduce(((n,r)=>(t(r)&&(n[r]=e.paths[r]),n)),{})},...e.bundles&&{bundles:Object.keys(e.bundles).reduce(((n,r)=>{const o=e.bundles[r]?.filter(t);return o?.length&&(n[r]=o),n}),{})},...e.dependencyTree&&{dependencyTree:Object.keys(e.dependencyTree).reduce(((n,r)=>{const o=Object.keys(e.dependencyTree[r]).reduce(((n,o)=>(t(o)&&((n=n||{})[o]=(e.dependencyTree[r][o]||[]).filter((e=>t(e)||(e=>/^(?:@microsoft\/azureportal-reactview|Fx|FxInternal|(?:@microsoft\/azureportal-reactview|Fx|FxInternal)\/.*)$/.test(e))(e)))),n)),null);return o&&(n[r]=o),n}),{})}}}t.CopilotFxRequireConfigSource=l,t.CopilotFxRequireConfigSource=l=__decorate([__metadata("fx:diagnostics",[e,"CopilotFxRequireConfigSource"]),n.Class(),__metadata("design:paramtypes",[i.ExtensionManagerOptions,r.Client,s.ExperimentationManager])],l),t.getRequireConfigHandler=(0,a.defineHandler)(o.getCopilotFxRequireConfigEndPoint,(async({diContainer:e,messageArg:t})=>e.get(l).getRequireConfig(t).then((e=>e&&{...e})))),t.trimRequireConfig=u})),
define("ShellWorkerImpl/Core/Diagnostics",["require","exports","Fx/DependencyInjectionCore","Fx/Diagnostics","FxInternal","FxInternal/Diagnostics"],(function(e,t,n,r,o,i){Object.defineProperty(t,"__esModule",{value:!0}),t.Logging=t.Telemetry=void 0;let a=class{constructor(e){this.trace=t=>{e({telemetryEvent:(0,o.extend2)(t,{})})},this.flush=()=>{e({flush:1})}}};t.Telemetry=a,t.Telemetry=a=__decorate([__metadata("fx:diagnostics",[e,"Telemetry"]),n.Value(),__metadata("design:paramtypes",[Function])],a);class s extends r.Logging{constructor(e){super(),this.writeEntry=(t,n,r,o,a)=>{e({logEntry:{level:t,area:n,message:"object"==typeof r?(0,i.decycle)(r):r,code:o,args:a&&a.map((e=>"object"==typeof e?(0,i.decycle)(e):e))}})},this.flush=()=>{e({flush:2})}}disable(){throw new Error("Not reached")}}t.Logging=s})),
define("ShellWorkerImpl/Core/Environment",["require","exports","Fx/DependencyInjectionCore"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Environment=void 0;let r=class{};t.Environment=r,t.Environment=r=__decorate([__metadata("fx:diagnostics",[e,"Environment"]),n.Value()],r)})),
define("ShellWorkerImpl/Core/ExtensionWorkerPrewarmer",["require","exports","Fx/DependencyInjectionCore","FxInternal/Rpc","FxInternal","ShellWorker/ExtensionWorkerPrewarmer","FxInternal/AsyncLoaderCore"],(function(e,t,n,r,o,i,a){Object.defineProperty(t,"__esModule",{value:!0}),t.onWorkerBootCompleteEndPointHandler=t.pushNewWorkerEndPointHandler=t.PrewarmerImpl=t.Prewarmer=void 0;class s{static create(e){return new l(e)}}t.Prewarmer=s,__decorate([__metadata("fx:diagnostics",[e,"Prewarmer"]),n.Factory(),__metadata("design:type",Function),__metadata("design:paramtypes",[r.Client]),__metadata("design:returntype",s)],s,"create",null);class l{constructor(e,t){this._rpcClient=e,this._pool=[],this._pending=[],this._readying=Object.create(null),this.pushNewWorker=({portId:t,workerId:n})=>{const r={workerId:n,bootstrapPort:e.detachPort("fx",t),terminate:()=>{delete this._readying[n],i.terminateWorkerEndPoint.invoke(e,"fx",{workerId:n})}};let o;this._pending.length?this._pending.pop()(r):this._pool.push(r);const a=new Promise((e=>{o=e}));this._readying[n]={resolveOnFailed:o,onFailedPromise:a}},this.onWorkerBootComplete=({workerId:e,error:n})=>{t?.(e,n);let r=Promise.resolve();if(n){const t=(0,o.findIndex)(this._pool,(({workerId:t})=>e===t));t>=0&&(this._pool.splice(t,1),i.onGetWorkerCalledEndPoint.invoke(this._rpcClient,"fx"));const a=this._readying[e]?.onFailedPromise;a&&(a.then((e=>{e(n)})),r=a)}r.then((()=>{delete this._readying[e]}))}}getWorker(e){i.onGetWorkerCalledEndPoint.invoke(this._rpcClient,"fx");const t=this._pool.length?Promise.resolve(this._pool.pop()):new Promise((e=>{this._pending.push(e)}));return t.then((({workerId:t})=>{this._readying[t]?.resolveOnFailed(e)})),t}}t.PrewarmerImpl=l,t.pushNewWorkerEndPointHandler=(0,a.defineHandler)(i.pushNewWorkerEndPoint,(({diContainer:e,messageArg:t})=>{e.get(s).pushNewWorker(t)})),t.onWorkerBootCompleteEndPointHandler=(0,a.defineHandler)(i.onWorkerBootCompleteEndPoint,(({diContainer:e,messageArg:t})=>{e.get(s).onWorkerBootComplete(t)}))})),
define("ShellWorkerImpl/Core/IFrameExtensionLoader",["require","exports","ShellWorker/IFrameExtensionLoader","FxInternal"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.loadInIFrame=void 0,t.loadInIFrame=(()=>{let e=0;return(t,o)=>{const i=e++,a=t.acquireWindow("fx",0,o.port);let s=()=>{a.dispose()};return n.loadExtensionInIFrameEndPoint.invoke(t,"fx",{...o,iframeId:i,portId:a.value}).then((e=>(0,r.extend)(e,{cleanup:()=>{s&&(s(),s=null,n.disposeExtensionIFrameEndPoint.invoke(t,"fx",{iframeId:i}))}})))}})()})),
define("ShellWorkerImpl/Core/ExtensionLoader",["require","exports","Fx/DependencyInjectionCore","FxInternal","ShellWorkerImpl/Core/ExtensionManagerOptions","ShellWorkerImpl/Core/ExtensionWorkerPrewarmer","ShellWorkerImpl/Core/Environment","ShellWorkerImpl/Core/Diagnostics","FxInternal/Features","ShellWorkerImpl/Core/IFrameExtensionLoader","FxInternal/Rpc","FxInternal/Lifetime","FxInternal/Experimentation","ShellWorkerImpl/Core/CopilotFxRequireConfigSource"],(function(e,t,n,r,o,i,a,s,l,u,c,d,p,f){Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionLoaderImpl=t.ExtensionLoaderFactory=t.createUri=t.parseUri=t.coerceUri=void 0;const h=self,m=h.fx.getTimestamp;function v(e,t){return/^\w+:\/\//.test(e)?e:e.indexOf("//")?e.startsWith("/")?t.origin+e:t.origin+t.pathname+e:t.protocol+e}function g(e,t){const n=document.createElement("a");n.href=e;const r=n.href;let o=r.indexOf("//");o=-1===o?0:o;const i=o>0?r.substring(0,o):t,a=r.indexOf("/",o+2),s=-1===a?r.indexOf("?"):a;return{origin:i+"//"+r.substring(o+2,-1===s?void 0:s),protocol:i,href:r}}function y(e,t,n,r,o){const i=e.metadata;return{environment:o,extensionName:i.name,extensionRedirectMap:e.extensionRedirectMap,hostingServiceBaseDomains:i.baseDomains,href:n.href,instanceIndex:e.loadContext.instanceIndex,origin:n.origin,protocol:n.protocol,shellVariants:e.shellVariants,stamp:i.stamp||"",thirdPartyExtension:!!(16&i.flags),tokens:e.loadContext.tokens,usePortalArmToken:!!(8&i.flags),userObjectId:e.loadContext.userObjectId,userQuery:e.environment.userQuery,isWriteDisallowedTenant:e.loadContext.isWritesDisallowedTenant,blockedHosts:r,copilotFxRequireConfig:t}}function b(e,t){const n=e.metadata,r=n.name,o=v(t?n.homePageUri:n.prewarmUri,e.environment.location),i="HubsExtension"===r?MsPortalFx.getEnvironmentValue("pageVersion"):e.manifest.pageVersion,a=[],s=o.indexOf("?"),l=-1===s?o:o.slice(0,s);s>=0&&o.slice(s+1).split("&").forEach((e=>{const t=e.split("=");a.push([t[0],t[1]])}));const u=["bundlingKind","cacheVersion"],{features:c}=e;return"HubsExtension"===n.name&&u.push("configHash"),u.forEach((e=>{a.push([e,c.getValue(r+"_"+e)||c.getValue(e)])})),a.push(["clientOptimizations",e.clientOptimizations],["pageVersion",i],["l",e.environment.displayLanguage],["trustedAuthority",e.environment.location.host],["extensionName",r],["cacheability","3"]),e.reloadCount&&a.push(["retryAttempt",e.reloadCount],["sessionId",e.environment.sessionId]),t||a.push(["environmentjson",!0]),l+(((d=(d=a).filter((e=>void 0!==e[1]))).length?"?":"")+d.map((e=>e.map(encodeURIComponent).join("="))).sort().join("&"));var d}t.coerceUri=v,t.parseUri=g,t.createUri=b;let x=class{constructor(e,t,n,r,o,i,a,s){this.create=l=>{const{extensions:u,manifests:c,loadTypes:d,extensionRedirectMap:p,blockedHosts:f}=e;return new C({extensionRedirectMap:p},u[l],c[l],d[l],t,n,r,o,i,f,a,s)}}};t.ExtensionLoaderFactory=x,t.ExtensionLoaderFactory=x=__decorate([__metadata("fx:diagnostics",[e,"ExtensionLoaderFactory"]),n.Class(),__metadata("design:paramtypes",[o.ExtensionManagerOptions,i.Prewarmer,a.Environment,l.Features,s.Telemetry,c.Client,p.ExperimentationManager,f.CopilotFxRequireConfigSource])],x);class C{constructor(e,t,n,r,o,i,a,s,l,u,c,d){this._options=e,this._metadata=t,this._manifest=n,this._loadType=r,this._prewarmer=o,this._environment=i,this._features=a,this._telemetry=s,this._rpcClient=l,this._blockedHosts=u,this._experimentation=c,this._copilotFxRequireConfigSource=d,this.telemetry=[]}async loadExtension(e){if(this._currentContext)throw new Error(`Extension ${this._metadata.name} is already loading.`);const t=Promise.withResolvers(),n=this._features,r=n.isEnabled("nativeperf")&&h.performance,o=3!==this._loadType&&(await this._experimentation.shellAssignments.whenAvailable()).data,i=()=>{const a=this.telemetry.length,s=this._metadata.name+"_ExtensionLoad";if(a>2){const e={reloadCount:a,timestamp:m(),type:"TooManyRefreshes"};return void t.reject(e)}const l={clientOptimizations:e.clientOptimizations,extensionRedirectMap:this._options.extensionRedirectMap,loadContext:e,manifest:this._manifest,metadata:this._metadata,reloadCount:a,environment:this._environment,features:n,shellVariants:o,telemetry:this._telemetry,errorHandler:e.errorHandler,blockedHosts:this._blockedHosts,copilotFxRequireConfig:this._copilotFxRequireConfigSource.getRequireConfig(this._metadata.name)};let u;switch(this._loadType){case 1:case 2:u=new _(l,this._prewarmer);break;case 0:u=new w(l,this._rpcClient);break;case 3:return void t.resolve({rpcPort:(new MessageChannel).port1,loadEndTime:m()})}this._currentContext=u,this.telemetry.push(u.telemetry);const c=t=>{clearTimeout(d),u.cleanUp(),this._currentContext===u&&(e.errorHandler(t),this._currentContext=null,2===this._loadType&&console.error("Failed to load as prewarmed extension: "+this._metadata.name),i())};u.load().then((e=>{clearTimeout(d),r&&(r.mark(s+"End"),r.measure(s,s+"Start",s+"End")),this._currentContext===u&&t.resolve(e)}),c),r&&r.mark(s+"Start");const d=setTimeout((()=>{c({timestamp:m(),type:"InitializationTimeout"})}),e.loadTimeout)};return i(),t.promise}unloadExtension(){this._currentContext&&this._currentContext.cleanUp(),this._currentContext=null,this.telemetry=[]}}t.ExtensionLoaderImpl=C;class _{constructor(e,t){this.telemetry={messageReceivedTimes:{}},this._lifetime=new d.TriggerableLifetimeManager;const{environment:{location:n},telemetry:r,blockedHosts:o}=e,i=g(v(e.metadata.homePageUri,n),n.protocol);this._uri=this.telemetry.uriUsed=b(e),this.load=()=>{this.telemetry.loadRequestedTime=m();return this._loadPromise=new Promise(((n,a)=>{const s=a,l=E({uri:this._uri,telemetryAction:"EnvironmentFetch",retryCount:1,telemetry:r});l.catch((e=>{s({type:"EnvironmentFetchFailed",timestamp:m(),error:e})}));const u=a=>{const c=(t,n=!0)=>{a>=2?s(t):(n&&e.errorHandler(t),u(a+1))};let d,p=t.getWorker((e=>{d=!0,c(e,"WebWorkerPrewarmTimeout"!==e?.type)})).then((e=>(this._lifetime.registerForDispose((()=>{e.terminate()})),e))),f=e.loadContext.prewarmerScriptUri;const v=MsPortalFx.getEnvironmentValue("pageVersion"),g=e.manifest.pageVersion;e.features.isEnabled("skipprewarmerforhubs")&&"HubsExtension"===e.metadata.name&&g!==v&&(f=null,r.trace({source:"ExtensionLoader",action:"PrewarmerSkippedForHubsDueToVersionMismatch",data:{hubsManifestVersion:g,shellVersion:v}})),f&&(p=p.then((e=>(!d&&e.bootstrapPort.postMessage({kind:5,data:f}),e)))),Promise.all([p,l.catch((()=>{})),e.copilotFxRequireConfig]).then((([t,r,s])=>{if(d||!r)return;this.telemetry.environmentFetchTime=r.endTime;const l=r.headers,u=this.telemetry.afdCorrelationHeader=l["x-azure-ref"]||"",c=l["x-ms-original-xref"]||"";if(this.telemetry.workerLoadRetryCount=a,this.telemetry.hostingServiceResponseId=l["x-ms-hosting-responseid"],this.telemetry.homepageSize=l["content-length"],this.telemetry.afdCacheHit=""!==u&&c.includes(u),this.telemetry.bytesTransferred=-1,h.performance&&h.performance.getEntriesByName){const e=h.performance.getEntriesByName(this._uri);this.telemetry.bytesTransferred=e[0]&&e[0].transferSize}const{port1:p,port2:f}=new MessageChannel,v=t.bootstrapPort;v.postMessage({kind:3,data:y(e,s,i,o,r.value)},[p]);const g=m();v.onmessage=e=>{8===e.data?.kind&&(v.onmessage=null,n({rpcPort:f,loadEndTime:g}))}})).catch((e=>{c({type:"WebWorkerFailed",timestamp:m(),error:e})}))};u(0)}))}}cleanUp(){this._cleanupScheduled||(this._cleanupScheduled=!0,this._loadPromise.finally((()=>{setTimeout((()=>this._lifetime.dispose()),1e3),this.telemetry.unloadTime=m()})))}}class w{constructor(e,t){this.telemetry={};const{port1:n,port2:o}=new MessageChannel;this.load=()=>(this.telemetry.loadRequestedTime=m(),this._loadPromise=(async()=>{const i={postBootEnv:y(e,await e.copilotFxRequireConfig,{},[]),uri:b(e,!0),port:n},a=await(0,u.loadInIFrame)(t,i),{telemetry:s,cleanup:l,error:c}=a;if((0,r.extend)(this.telemetry,s),this._cleanup=l,c)throw c;return{rpcPort:o,loadEndTime:m()}})())}cleanUp(){this._loadPromise.finally((()=>{this._cleanup&&this._cleanup()})),this.telemetry.unloadTime=m()}}function P(e,t,n,r,o,i,a,s){const l={source:"ExtensionLoader",action:o,actionModifier:"complete",data:void 0},u=m();return function(){const o=m();if(t.status>=400&&(s="Request Error"),s)r(new Error(JSON.stringify({message:s,responseHeaders:t.getAllResponseHeaders(),responseText:t.responseText,status:t.status,statusText:t.statusText,uri:e}))),l.data=s,l.actionModifier="cancel";else{const e={};try{t.getAllResponseHeaders().split("\r\n").map((e=>e.split(": "))).forEach((t=>{const n=t[0].toLowerCase();e[n]=t[1]}))}catch{}n({value:t.response||t.responseText,endTime:o,retryIndex:i,headers:e})}l.duration=o-u,a.trace(l)}}function E(e,t){const n=e.telemetryAction;return t=t||0,new Promise(((r,o)=>{const i=new XMLHttpRequest,a=e.uri;i.open(e.method||"GET",a),i.onload=P(a,i,r,o,n,t,e.telemetry),i.onerror=P(a,i,r,o,n,t,e.telemetry,"Network Error"),i.send(e.body)})).catch((n=>{if(t<(e.retryCount||0))return E(e,t+1);throw n}))}})),
define("ShellWorkerImpl/Core/PreloadData",["require","exports","Fx/DependencyInjectionCore","FxInternal/AsyncLoaderCore","ShellWorker/PreloadData"],(function(e,t,n,r,o){Object.defineProperty(t,"__esModule",{value:!0}),t.pushPreloadDataEndPointHandler=t.PreloadData=void 0;let i=class{constructor(){this._cache=new Promise(((e,t)=>this._resolve=e))}getPreloadedData(){return this._cache}primeData(e){this._resolve(e)}};t.PreloadData=i,t.PreloadData=i=__decorate([__metadata("fx:diagnostics",[e,"PreloadData"]),n.Class(),__metadata("design:paramtypes",[])],i),t.pushPreloadDataEndPointHandler=(0,r.defineHandler)(o.pushPreloadDataEndPoint,(({diContainer:e,messageArg:t})=>{e.get(i).primeData(t)}))})),
define("ShellWorkerImpl/Core/ExperimentationClient",["require","exports","Fx/DependencyInjectionCore","FxInternal/Rpc","FxInternal/RpcEndPointsCore","Fx/Diagnostics","ShellWorkerImpl/Core/Diagnostics","ShellWorkerImpl/Core/Environment","ShellWorkerImpl/Core/ExtensionLoader","ShellWorkerImpl/Core/AuthorizationState","ShellWorkerImpl/Core/PreloadData","FxInternal/AsyncLoaderCore","ShellWorker/ExperimentationClient"],(function(e,t,n,r,o,i,a,s,l,u,c,d,p){Object.defineProperty(t,"__esModule",{value:!0}),t.getExtensionExperimentVariablesEndPointHandler=t.ExperimentationClientImpl=t.ExperimentationClient=void 0;const f=window,h=f.fx.getTimestamp,m="/api/Experimentation/GetExtensionVariants?extension=";class v{static create(e,t,n,r,o,i,a){const s=a.getPreloadedData().then((e=>e?.variants));return new g(e,t,n,r,o,i,s)}}t.ExperimentationClient=v,__decorate([__metadata("fx:diagnostics",[e,"ExperimentationClient"]),n.Factory(),__metadata("design:type",Function),__metadata("design:paramtypes",[r.Client,FxImpl.Features,a.Telemetry,i.Logging,s.Environment,u.AuthorizationState,c.PreloadData]),__metadata("design:returntype",v)],v,"create",null);class g extends v{constructor(t,n,r,i,a,s,u){super(),this._cache=new Map;const c=i.createLog(e);this.tryGetAndAssignFlights=async(e,i)=>{if(n.isEnabled("experimentation")){const n=this._cache.get(e)||await async function(e,t,n,o){const i=e.toLowerCase(),s="&extensionVersion="+t,d=await u;if(d?.hasOwnProperty(i))return d[i];if(!o)return null;const{effectiveLocale:p,location:v,sdkVersion:g,sessionId:y}=a,b=(0,l.coerceUri)(m+i+s,v),x=h();function C(t,n=void 0){r.trace({source:"ExperimentationClient",action:"ExperimentationCall",actionModifier:t,duration:h()-x,extension:e,data:n})}try{let e;for(let t=0;t<3;t++){const r=await n.tryGetValidToken("fx","");if(r){if(e=await f.fetch(b,{method:"GET",headers:{Authorization:r?.header,"Content-Type":"application/json","x-ms-client-session-id":y,"x-ms-effective-locale":p,"x-ms-version":g}}),401!==e.status)break;c.warning(`Ajax call unauthorized. uri: ${m}, status code: ${e.status}}. Attempt: ${t}`)}else c.warning(`Null auth token. uri: ${m}, Attempt: ${t}`)}if(!e?.ok)return C("Failed"),c.warning(`Ajax call failed. uri: ${m}, status code: ${e?.status}, response: ${await(e?.text?.())}`),null;const t=await e.json();return C("Succeeded",t),t}catch(e){return C("Failed"),null}}(e,i.pageVersion,s,i.enableExperimentation),d=await o.setExtensionFlightsEndPoint.invoke(t,e,n);this._cache.set(e,d)}}}getVariablesByExtension(){const e=this._cache.get("HubsExtension"),t=e?.variables??{},n={};return this._cache.forEach(((e,r)=>{const o=Object.keys(e.variables).filter((e=>!t.hasOwnProperty(e)));o.length&&(n[r]=o.reduce(((t,n)=>(t[n]=e.variables[n],t)),{}))})),n.HubsExtension=t,n}}t.ExperimentationClientImpl=g,t.getExtensionExperimentVariablesEndPointHandler=(0,d.defineHandler)(p.getExtensionExperimentVariablesEndPoint,(e=>e.diContainer.get(v).getVariablesByExtension()))})),
define("ShellWorkerImpl/Core/ExtensionManager",["require","exports","Fx/DependencyInjectionCore","ShellWorkerImpl/Core/ExtensionManagerOptions","ShellWorkerImpl/Core/ExtensionLoader","ShellWorker/ExtensionManager","ShellWorkerImpl/Core/AuthorizationState","Fx/Diagnostics","ShellWorkerImpl/Core/Diagnostics","FxInternal/Rpc","FxInternal/Features","ShellWorkerImpl/Core/Environment","FxInternal","ShellWorkerImpl/Core/ExperimentationClient","FxInternal/AsyncLoaderCore"],(function(e,t,n,r,o,i,a,s,l,u,c,d,p,f,h){Object.defineProperty(t,"__esModule",{value:!0}),t.Extension=t.ExtensionManager=t.ExtensionFactory=t.setRequestedBladeEndPointHandler=t.RpcStarter=void 0;const m=window.fx.getTimestamp,v="ShellWorkerExtensionManager",g="ExtensionLoad";let y=class{constructor(e,t,n){this._rpcPort=e,this._features=t,this._environment=n,this._requestedBlades={}}startRpc(e,t,n){const r=new u.RpcChannel(this._rpcPort);t.start({instanceIndex:0,loadChannelFunction:(t,i)=>{if("fx"===t)return r;const a=n[t];if(!a)throw new Error(`Failed to load extension '${t}'.`);const s=e.extensions[t],l=e.manifests[s.name],u=this._requestedBlades[t],c=(this._features.getValue(t+"_clientoptimizations")||this._features.getValue("clientoptimizations")||(s.isTestExtension?"false":this._environment.clientOptimizations)).toLowerCase(),d=this._features.isEnabled("bladeprefetch")&&l.prewarmerScript&&("HubsExtension"===a.name||l.weaveBladesMap&&1&l.weaveBladesMap[u])?function(e,t,n,r){let i;return"bundle"===e&&t[1]?i="/"+t[1]:"true"===e&&t[0]&&(i="/Content/Dynamic/"+t[0]+".js"),i&&(0,o.coerceUri)(n.prewarmUri,r)+i}(c,l.prewarmerScript,s,this._environment.location):null;return a.loadChannel(i,c,d)},originId:"fxw",shellChannel:void 0,windowRedirectMap:e.extensionRedirectMap})}setRequestedBlade(e,t){this._requestedBlades[e]=t}};t.RpcStarter=y,t.RpcStarter=y=__decorate([__metadata("fx:diagnostics",[e,"RpcStarter"]),n.Value(),__metadata("design:paramtypes",[MessagePort,c.Features,d.Environment])],y),t.setRequestedBladeEndPointHandler=(0,h.defineHandler)(i.setRequestedBladeEndPoint,(({diContainer:e,messageArg:{extensionName:t,bladeName:n}})=>{e.get(y).setRequestedBlade(t,n)}));let b=class{constructor(e,t,n,r,o,i,a){this._options=e,this._features=t,this._logging=n,this._telemetry=r,this._authState=o,this._extensionLoaderFactory=i,this._experimentationClient=a}createExtension(e,t){const{manifests:n}=this._options;return new C(e,n[e.name],this._authState,this._features,t,this._logging,this._telemetry,this._extensionLoaderFactory,this._experimentationClient)}};t.ExtensionFactory=b,t.ExtensionFactory=b=__decorate([__metadata("fx:diagnostics",[e,"ExtensionFactory"]),n.Class(),__metadata("design:paramtypes",[r.ExtensionManagerOptions,c.Features,s.Logging,l.Telemetry,a.AuthorizationState,o.ExtensionLoaderFactory,f.ExperimentationClient])],b);let x=class{constructor(e,t,n,r,o){const a=(e,n)=>{(0,p.isNullOrUndefined)(n.loadTime)||t.getTotalRefCountTo(e).subscribe((t=>{a(e,{refCount:t})})),i.onExtensionStateChangeEndPoint.invoke(t,"fx",(0,p.extend2)(n,{name:e}))},s=Object.keys(r.extensions).reduce(((t,n)=>{const o=r.extensions[n];return t[n]=e.createExtension(o,(e=>{a(n,e)})),t}),{});n.startRpc(r,t,s);const[,l]=o.getValue("extensionsidebar")?.split("/")||[];l&&s[l]&&t.acquireWindow(l,-1),s.HubsExtension&&t.acquireWindow("HubsExtension",-1),t.acquireWindow("fx",-1)}};t.ExtensionManager=x,t.ExtensionManager=x=__decorate([__metadata("fx:diagnostics",[e,"ExtensionManager"]),n.Class(),__metadata("design:paramtypes",[b,u.Client,y,r.ExtensionManagerOptions,c.Features])],x);class C{constructor(t,n,r,o,i,a,s,l,u){this._manifest=n,this._authState=r,this._features=o,this._onExtensionStateChange=i,this._logging=a,this._telemetry=s,this._experimentationClient=u,this.name=t.name,this._canUsePortalArmToken=!!(8&t.flags),this._log=a.createLog(e),this._extensionLoader=l.create(this.name)}loadChannel(e,t,n){const r=Promise.withResolvers(),o=new u.RpcChannel(r.promise),i=(e,t)=>{const n=`Error while loading extension ${this.name}: ${e.type}`,r={extVersion:this._manifest.pageVersion,timeThisExtensionFailed:m(),extensionTelemetry:this._extensionLoader.telemetry,error:e},i=(0,p.createError)(n,{data:r,...e?.error instanceof Error&&{innerErrors:e.error}});this._log.error(i,0),this._logging.flush(),t||(this._telemetry.trace({source:v,action:g,actionModifier:"cancel",data:r,name:this.name}),o.dispose(n),this._onExtensionStateChange({error:i}))};let a;if(this._features.isEnabled("pushtokens")){const e=this._authState.getUnvalidatedExtensionTokens();a=e[this.name]&&(0,p.extend)({},e[this.name])||{},this._authState.getUnvalidatedPortalToken()&&this._canUsePortalArmToken&&(a[""]=this._authState.getUnvalidatedPortalToken())}const s=m();return(0,p.nextTick)((()=>{this._extensionLoader.loadExtension({clientOptimizations:t,errorHandler:e=>{i(e,!0)},instanceIndex:e,loadTimeout:9e4,prewarmerScriptUri:n,tokens:a,userObjectId:this._authState.userObjectId,isWritesDisallowedTenant:this._authState.isWritesDisallowedTenant}).then((({rpcPort:e,loadEndTime:t})=>{r.resolve(e);const n=t-s;this._telemetry.trace({source:v,action:g,actionModifier:"complete",duration:n,name:this.name,data:{shellSide:this._extensionLoader.telemetry,extVersion:this._manifest.pageVersion,extSide:void 0,totalTime:m()-s}}),this._onExtensionStateChange({loadTime:n})}),(e=>{i(e,!1)})),this._experimentationClient.tryGetAndAssignFlights(this.name,this._manifest)})),o.onDispose((()=>{this._onExtensionStateChange({loadTime:null}),this._extensionLoader.unloadExtension()})),o}}t.Extension=C})),
define("ShellWorkerImpl/GlobalResourceFiltersProvider",["require","exports","Fx/DependencyInjectionCore","FxInternal/AsyncLoaderCore","ShellWorker/GlobalResourceFilters","FxInternal/ResourceManagement/GlobalResourceFiltersCore"],(function(e,t,n,r,o,i){Object.defineProperty(t,"__esModule",{value:!0}),t.getActiveGlobalResourceFilterEndpointHandler=t.pushActiveGlobalResourceFilterEndpointHandler=t.GlobalResourceFiltersProvider=void 0;let a=class{constructor(){let e=new Promise((e=>this.resolveActiveFilter=e));this.getActiveGlobalResourceFilter=()=>e,this.onActivateGlobalFilter=t=>{e=Promise.resolve(t)}}};t.GlobalResourceFiltersProvider=a,t.GlobalResourceFiltersProvider=a=__decorate([__metadata("fx:diagnostics",[e,"GlobalResourceFiltersProvider"]),n.Class(),__metadata("design:paramtypes",[])],a),t.pushActiveGlobalResourceFilterEndpointHandler=(0,r.defineHandler)(o.pushActiveGlobalResourceFilterEndPoint,(({diContainer:e,messageArg:t})=>{e.get(a).onActivateGlobalFilter(t)})),t.getActiveGlobalResourceFilterEndpointHandler=(0,r.defineHandler)(i.getActiveGlobalResourceFilterEndPoint,(({diContainer:e})=>e.get(a).getActiveGlobalResourceFilter().then((e=>({...e})))))})),
define("ShellWorkerImpl/RpcEndPoints",["require","exports","FxInternal/AsyncLoaderCore","ShellWorker/AssetTypes","ShellWorker/FeatureCards","FxHubs/RpcEndPointsCore","FxHubs/RpcEndPointsCore","ShellWorker/Browse","ShellWorker/Locations","FxInternal/ResourceManagement/LocationsCore","ShellWorker/Subscriptions","FxInternal/ResourceManagement/SubscriptionsCore","ShellWorker/GlobalResourceFilters","FxInternal/ResourceManagement/GlobalResourceFiltersCore","FxHubs/RpcEndPointsCore","ShellWorker/UserInfo","FxInternal/RpcEndPointsCore","ShellWorker/AuthorizationState","ShellWorker/ExperimentationClient","ShellWorker/ExtensionWorkerPrewarmer","ShellWorker/ExtensionManager","FxInternal","ShellWorker/PreloadData"],(function(e,t,n,r,o,i,a,s,l,u,c,d,p,f,h,m,v,g,y,b,x,C,_){Object.defineProperty(t,"__esModule",{value:!0}),t.registerRpc=void 0;const w=window,{getAllSubscriptionsCountEndPoint:P}=h.Subscriptions,{getAssetTypesInformationEndPoint:E,getSingleAssetTypeInformationEndPoint:F}=i.AssetTypes,{getBrowsePrereqsEndpoint:I,onBrowseColumnsUpdatedEndPoint:M,onBrowseFavoriteViewIdUpdatedEndPoint:S}=a.Browse,{getBrowseManifestsForResourceTypesEndpoint:k}=a.Browse;function R(e){w.requirejs([e],C.noop,C.noop)}t.registerRpc=function(e){const t={"ShellWorkerImpl/AssetTypes":{pushAssetTypesEndPointHandler:(0,n.makeRegistration)(r.pushAssetTypesEndPoint,"fx"),getAssetTypesInformationEndPointHandler:(0,n.makeRegistration)(E),getSingleAssetTypeInformationEndPointHandler:(0,n.makeRegistration)(F,["fx","HubsExtension"])},"ShellWorkerImpl/BrowseColumnsProvider":{onBrowseColumnsUpdatedEndPointHandler:(0,n.makeRegistration)(M,"HubsExtension")},"ShellWorkerImpl/BrowseFavoriteViewIdProvider":{onBrowseFavoriteViewIdUpdatedEndPointHandler:(0,n.makeRegistration)(S,"HubsExtension")},"ShellWorkerImpl/BrowseMetadataProvider":{pushBrowseMetadataEndPointHandler:(0,n.makeRegistration)(s.pushBrowseMetadataEndPoint,"fx")},"ShellWorkerImpl/BrowsePrereqsProvider":{getBrowsePrereqsEndpointHandler:(0,n.makeRegistration)(I,["fx","HubsExtension","Microsoft_Azure_Copilot"]),getBrowseManifestsForResourceTypesEndpointHandler:(0,n.makeRegistration)(k,["fx","HubsExtension"])},"ShellWorkerImpl/FeatureCards":{pushFeatureCardsEndPointHandler:(0,n.makeRegistration)(o.pushFeatureCardsEndPoint,"fx")},"ShellWorkerImpl/LocationsProvider":{pushLocationsEndPointHandler:(0,n.makeRegistration)(l.pushLocationsEndPoint,"fx"),getLocationDisplayNamesEndPointHandler:(0,n.makeRegistration)(u.getLocationDisplayNamesEndPoint)},"ShellWorkerImpl/SubscriptionsProvider":{pushSelectedSubscriptionsEndpointHandler:(0,n.makeRegistration)(c.pushSelectedSubscriptionsEndpoint,"fx"),getInSessionSelectedSubscriptionsEndpointHandler:(0,n.makeRegistration)(d.getInSessionSelectedSubscriptionsEndPoint),pushStartupSubscriptionsEndpointHandler:(0,n.makeRegistration)(c.pushStartupSubscriptionsEndpoint,"fx"),getSubscriptionInfoEndPointHandler:(0,n.makeRegistration)(d.getSubscriptionInfoEndPoint),pushSubscriptionsCountEndpointHandler:(0,n.makeRegistration)(c.pushSubscriptionsCountEndpoint,"fx"),getAllSubscriptionsCountEndPointHandler:(0,n.makeRegistration)(P),pushGlobalFilterSubscriptionsEndpointHandler:(0,n.makeRegistration)(c.pushGlobalFilterSubscriptionsEndpoint,"fx")},"ShellWorkerImpl/GlobalResourceFiltersProvider":{pushActiveGlobalResourceFilterEndpointHandler:(0,n.makeRegistration)(p.pushActiveGlobalResourceFilterEndPoint,"fx"),getActiveGlobalResourceFilterEndpointHandler:(0,n.makeRegistration)(f.getActiveGlobalResourceFilterEndPoint)},"ShellWorkerImpl/UserInfoProvider":{pushUserInfoEndpointHandler:(0,n.makeRegistration)(m.pushUserInfoEndpoint,"fx"),getUserInfoEndPointHandler:(0,n.makeRegistration)(v.getUserInfoEndPoint)},"ShellWorkerImpl/Core/AuthorizationState":{pushShellAuthTokensEndPointHandler:(0,n.makeRegistration)(g.pushShellAuthTokensEndPoint,"fx")},"ShellWorkerImpl/Core/CopilotFxRequireConfigSource":{getRequireConfigHandler:(0,n.makeRegistration)(v.getCopilotFxRequireConfigEndPoint,"fx")},"ShellWorkerImpl/Core/ExtensionManager":{setRequestedBladeEndPointHandler:(0,n.makeRegistration)(x.setRequestedBladeEndPoint,"fx")},"ShellWorkerImpl/Core/ExtensionWorkerPrewarmer":{pushNewWorkerEndPointHandler:(0,n.makeRegistration)(b.pushNewWorkerEndPoint,"fx"),onWorkerBootCompleteEndPointHandler:(0,n.makeRegistration)(b.onWorkerBootCompleteEndPoint,"fx")},"ShellWorkerImpl/Core/PreloadData":{pushPreloadDataEndPointHandler:(0,n.makeRegistration)(_.pushPreloadDataEndPoint,"fx")},"ShellWorkerImpl/Core/ExperimentationClient":{getExtensionExperimentVariablesEndPointHandler:(0,n.makeRegistration)(y.getExtensionExperimentVariablesEndPoint,"fx")}};(0,C.forEachKey)(t,R),(0,n.registerRpc)(e,t)}})),
define("ShellWorkerImpl/Init",["require","exports","ShellWorkerImpl/Core/ExtensionManager","ShellWorkerImpl/RpcEndPoints"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0,t.init=async function(e){await e.getAsync(n.ExtensionManager),(0,r.registerRpc)(e)}})),
define("ShellWorkerImpl/SubscriptionsProvider",["require","exports","Fx/DependencyInjectionCore","FxInternal/Rpc","ShellWorker/Subscriptions","FxInternal/ResourceManagement/SubscriptionsCore","FxHubs/RpcEndPointsCore","FxInternal/AsyncLoaderCore"],(function(e,t,n,r,o,i,a,s){Object.defineProperty(t,"__esModule",{value:!0}),t.pushGlobalFilterSubscriptionsEndpointHandler=t.getAllSubscriptionsCountEndPointHandler=t.pushSubscriptionsCountEndpointHandler=t.getSubscriptionInfoEndPointHandler=t.pushStartupSubscriptionsEndpointHandler=t.getInSessionSelectedSubscriptionsEndpointHandler=t.pushSelectedSubscriptionsEndpointHandler=t.SubscriptionsProvider=void 0;const l=a.Subscriptions.getAllSubscriptionsCountEndPoint;let u=class{constructor(e){let t,n;const r=new Promise((e=>{n=e}));this.onSelectedSubscriptionsChange=({inSession:e})=>{t=e,n()},this.getInSessionSelectedSubscriptions=()=>r.then((()=>t));let o=new Promise((e=>{this.resolveStartupSubscriptionsInfo=e}));this.getSubscriptionInfo=async t=>{const{subscriptions:n}=await o;return n[t]||i.getSubscriptionInfoEndPoint.invoke(e,"fx",t)};let a=new Promise((e=>this.resolveCountData=e));this.getAllSubscriptionsCount=()=>a,this.setFilteredSubscriptions=e=>{o=Promise.resolve({subscriptions:e.reduce(((e,t)=>(e[t.subscriptionId]=t,e)),Object.create(null))}),a=Promise.resolve({type:1,value:e.length}),t=e}}};t.SubscriptionsProvider=u,t.SubscriptionsProvider=u=__decorate([__metadata("fx:diagnostics",[e,"SubscriptionsProvider"]),n.Class(),__metadata("design:paramtypes",[r.Client])],u),t.pushSelectedSubscriptionsEndpointHandler=(0,s.defineHandler)(o.pushSelectedSubscriptionsEndpoint,(({diContainer:e,messageArg:t})=>{e.get(u).onSelectedSubscriptionsChange(t)})),t.getInSessionSelectedSubscriptionsEndpointHandler=(0,s.defineHandler)(i.getInSessionSelectedSubscriptionsEndPoint,(({diContainer:e})=>e.get(u).getInSessionSelectedSubscriptions().then((e=>e.slice())))),t.pushStartupSubscriptionsEndpointHandler=(0,s.defineHandler)(o.pushStartupSubscriptionsEndpoint,(({diContainer:e,messageArg:t})=>{e.get(u).resolveStartupSubscriptionsInfo(t)})),t.getSubscriptionInfoEndPointHandler=(0,s.defineHandler)(i.getSubscriptionInfoEndPoint,(({diContainer:e,messageArg:t})=>e.get(u).getSubscriptionInfo(t).then((e=>({...e}))))),t.pushSubscriptionsCountEndpointHandler=(0,s.defineHandler)(o.pushSubscriptionsCountEndpoint,(({diContainer:e,messageArg:t})=>{e.get(u).resolveCountData(t)})),t.getAllSubscriptionsCountEndPointHandler=(0,s.defineHandler)(l,(({diContainer:e})=>e.get(u).getAllSubscriptionsCount().then((e=>({...e}))))),t.pushGlobalFilterSubscriptionsEndpointHandler=(0,s.defineHandler)(o.pushGlobalFilterSubscriptionsEndpoint,(({diContainer:e,messageArg:t})=>{e.get(u).setFilteredSubscriptions(t)}))})),
define("ShellWorkerImpl/UserInfoProvider",["require","exports","Fx/DependencyInjectionCore","ShellWorker/UserInfo","FxInternal/RpcEndPointsCore","ShellWorkerImpl/Core/ExtensionManagerOptions","FxInternal/AsyncLoaderCore"],(function(e,t,n,r,o,i,a){Object.defineProperty(t,"__esModule",{value:!0}),t.getUserInfoEndPointHandler=t.pushUserInfoEndpointHandler=t.UserInfoProvider=void 0;let s=class{constructor({extensions:e}){const t=new Promise((e=>{this.resolveUserInfo=e}));this.getUserInfo=n=>16&(e[n]?.flags||0)?{}:t}};t.UserInfoProvider=s,t.UserInfoProvider=s=__decorate([__metadata("fx:diagnostics",[e,"UserInfoProvider"]),n.Class(),__metadata("design:paramtypes",[i.ExtensionManagerOptions])],s),t.pushUserInfoEndpointHandler=(0,a.defineHandler)(r.pushUserInfoEndpoint,(({diContainer:e,messageArg:t})=>{e.get(s).resolveUserInfo(t)})),t.getUserInfoEndPointHandler=(0,a.defineHandler)(o.getUserInfoEndPoint,(async({diContainer:e,messageContext:{srcWindowId:t}})=>({...await e.get(s).getUserInfo(t)})))})),
define("Weave/DirectMode",["require","exports","Weave/Core/InternalUtil"],(function(e,t,n){return n.WeaveTsx}));